2026-02-16 22:56:03.672 | INFO     | __main__:main:1057 - ======================================================================
2026-02-16 22:56:03.672 | INFO     | __main__:main:1058 - CRND Ablation & Robustness Analysis
2026-02-16 22:56:03.672 | INFO     | __main__:main:1059 - ======================================================================
2026-02-16 22:56:03.672 | INFO     | __main__:main:1060 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/mini_data_out.json
2026-02-16 22:56:03.673 | INFO     | __main__:main:1061 - Max examples per dataset: 3
2026-02-16 22:56:03.673 | INFO     | __main__:main:1062 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 22:56:03.673 | INFO     | __main__:main:1063 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 22:56:03.673 | INFO     | __main__:main:1064 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 22:56:03.673 | INFO     | __main__:main:1065 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 22:56:03.673 | INFO     | __main__:main:1066 - Noise rate: 0.1, Seeds: 5
2026-02-16 22:56:03.673 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/mini_data_out.json
2026-02-16 22:56:03.673 | INFO     | __main__:load_data:295 -   medical_abstracts: 3 examples, 3 classes, dist={"Digestive_system_diseases": 1, "General_pathological_conditions": 1, "Neoplasms": 1}
2026-02-16 22:56:03.673 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 3 examples, 1 classes, dist={"ESI-2": 3}
2026-02-16 22:56:03.673 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 3 examples, 3 classes, dist={"Critical": 1, "Low": 1, "Mild": 1}
2026-02-16 22:56:03.673 | INFO     | __main__:load_data:295 -   ohsumed_single: 3 examples, 1 classes, dist={"Bacterial_Infections_and_Mycoses": 3}
2026-02-16 22:56:03.674 | INFO     | __main__:load_data:295 -   mental_health_conditions: 3 examples, 3 classes, dist={"anxiety": 1, "depression": 1, "personality disorder": 1}
2026-02-16 22:56:03.674 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:56:03.674 | INFO     | __main__:main:1091 - Processing dataset: medical_abstracts
2026-02-16 22:56:03.674 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:56:03.674 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 22:56:03.677 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (3, 30)
2026-02-16 22:56:03.677 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 22:56:17.608 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (3, 384)
2026-02-16 22:56:17.609 | INFO     | __main__:build_feature_spaces:360 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 22:56:17.609 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (3, 3)
2026-02-16 22:56:17.609 | INFO     | __main__:build_feature_spaces:401 -   [medical_abstracts] Feature construction done in 13.9s
2026-02-16 22:56:17.609 | INFO     | __main__:phase2_k_sensitivity:503 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 22:56:17.609 | INFO     | __main__:phase2_k_sensitivity:509 -     k=5 >= N=3, skipping
2026-02-16 22:56:17.609 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=3, skipping
2026-02-16 22:56:17.609 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=3, skipping
2026-02-16 22:56:17.610 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=3, skipping
2026-02-16 22:56:17.610 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=3, skipping
2026-02-16 22:56:17.610 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=3, skipping
2026-02-16 22:56:17.610 | INFO     | __main__:phase2_k_sensitivity:535 -   [medical_abstracts] Phase 2 done in 0.0s
2026-02-16 22:56:17.610 | INFO     | __main__:phase3_pca_dimensionality:588 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:56:17.610 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:56:17.611 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:17.612 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:56:17.613 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:17.613 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:56:17.614 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:17.615 | INFO     | __main__:phase3_pca_dimensionality:688 -   [medical_abstracts] Phase 3 done in 0.0s
2026-02-16 22:56:17.615 | INFO     | __main__:phase4_distance_metrics:703 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 22:56:17.615 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:56:17.681 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:17.681 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:56:17.692 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:17.692 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:56:17.702 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:17.702 | INFO     | __main__:phase4_distance_metrics:735 -   [medical_abstracts] Phase 4 done in 0.1s
2026-02-16 22:56:17.702 | INFO     | __main__:main:1168 -   [medical_abstracts] Optimal k=10 (AUC=0.0000)
2026-02-16 22:56:17.702 | INFO     | __main__:phase5_alternative_formulations:751 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 22:56:17.732 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5000, RBO AUC=0.5000, WJ AUC=0.5000
2026-02-16 22:56:17.739 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5000
2026-02-16 22:56:17.746 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5000
2026-02-16 22:56:17.753 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5000
2026-02-16 22:56:17.753 | INFO     | __main__:phase5_alternative_formulations:807 -   [medical_abstracts] Phase 5 done in 0.1s
2026-02-16 22:56:17.754 | INFO     | __main__:phase6_confound_analysis:826 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 22:56:17.775 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=nan, p=nan
2026-02-16 22:56:19.826 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=nan, p=nan
2026-02-16 22:56:19.830 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=nan, p=nan
2026-02-16 22:56:19.845 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=nan, p=nan
2026-02-16 22:56:19.854 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=nan, p=nan
2026-02-16 22:56:19.854 | INFO     | __main__:phase6_confound_analysis:986 -   [medical_abstracts] Phase 6 done in 2.1s
2026-02-16 22:56:19.855 | INFO     | __main__:baseline_single_space_crnd:1006 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 22:56:19.997 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.4000±0.3742
2026-02-16 22:56:20.059 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.6000±0.3742
2026-02-16 22:56:20.116 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.4000±0.3742
2026-02-16 22:56:20.132 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.5000±0.4472
2026-02-16 22:56:20.133 | INFO     | __main__:baseline_single_space_crnd:1040 -   [medical_abstracts] Baseline done in 0.3s
2026-02-16 22:56:20.134 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:56:20.134 | INFO     | __main__:main:1091 - Processing dataset: mimic_iv_ed_demo
2026-02-16 22:56:20.134 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:56:20.134 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 22:56:20.136 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (3, 30)
2026-02-16 22:56:20.137 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 22:56:24.071 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (3, 384)
2026-02-16 22:56:24.071 | INFO     | __main__:build_feature_spaces:360 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 22:56:24.072 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (3, 1)
2026-02-16 22:56:24.072 | INFO     | __main__:build_feature_spaces:401 -   [mimic_iv_ed_demo] Feature construction done in 3.9s
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:503 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:509 -     k=5 >= N=3, skipping
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=3, skipping
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=3, skipping
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=3, skipping
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=3, skipping
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=3, skipping
2026-02-16 22:56:24.072 | INFO     | __main__:phase2_k_sensitivity:535 -   [mimic_iv_ed_demo] Phase 2 done in 0.0s
2026-02-16 22:56:24.072 | INFO     | __main__:phase3_pca_dimensionality:588 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:56:24.072 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:56:24.073 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:24.074 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:56:24.074 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:24.075 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:56:24.075 | INFO     | __main__:phase3_pca_dimensionality:603 -       max_dim=1, skipping PCA
2026-02-16 22:56:24.075 | INFO     | __main__:phase3_pca_dimensionality:688 -   [mimic_iv_ed_demo] Phase 3 done in 0.0s
2026-02-16 22:56:24.075 | INFO     | __main__:phase4_distance_metrics:703 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 22:56:24.075 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:56:24.141 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4500±0.3674
2026-02-16 22:56:24.142 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:56:24.153 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6000±0.3000
2026-02-16 22:56:24.153 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:56:24.198 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4500±0.3674
2026-02-16 22:56:24.199 | INFO     | __main__:phase4_distance_metrics:735 -   [mimic_iv_ed_demo] Phase 4 done in 0.1s
2026-02-16 22:56:24.200 | INFO     | __main__:main:1168 -   [mimic_iv_ed_demo] Optimal k=10 (AUC=0.0000)
2026-02-16 22:56:24.200 | INFO     | __main__:phase5_alternative_formulations:751 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 22:56:24.295 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.4500, RBO AUC=0.6000, WJ AUC=0.5000
2026-02-16 22:56:24.304 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5000
2026-02-16 22:56:24.312 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4500
2026-02-16 22:56:24.320 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4500
2026-02-16 22:56:24.320 | INFO     | __main__:phase5_alternative_formulations:807 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 22:56:24.321 | INFO     | __main__:phase6_confound_analysis:826 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 22:56:24.430 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.5000, p=0.6667
2026-02-16 22:56:24.436 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=-0.4360, p=nan
2026-02-16 22:56:24.439 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=-0.5000, p=nan
2026-02-16 22:56:24.444 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=-0.4360, p=nan
2026-02-16 22:56:24.448 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=-0.8486, p=nan
2026-02-16 22:56:24.449 | INFO     | __main__:phase6_confound_analysis:986 -   [mimic_iv_ed_demo] Phase 6 done in 0.1s
2026-02-16 22:56:24.449 | INFO     | __main__:baseline_single_space_crnd:1006 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 22:56:24.476 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5500±0.3674
2026-02-16 22:56:24.501 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.5000±0.4472
2026-02-16 22:56:24.524 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 22:56:24.532 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.5000±0.4472
2026-02-16 22:56:24.533 | INFO     | __main__:baseline_single_space_crnd:1040 -   [mimic_iv_ed_demo] Baseline done in 0.1s
2026-02-16 22:56:24.533 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:56:24.533 | INFO     | __main__:main:1091 - Processing dataset: clinical_patient_triage_nl
2026-02-16 22:56:24.533 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:56:24.533 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 22:56:24.536 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (3, 30)
2026-02-16 22:56:24.536 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 22:56:28.137 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (3, 384)
2026-02-16 22:56:28.138 | INFO     | __main__:build_feature_spaces:360 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 22:56:28.138 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (3, 3)
2026-02-16 22:56:28.139 | INFO     | __main__:build_feature_spaces:401 -   [clinical_patient_triage_nl] Feature construction done in 3.6s
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:503 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:509 -     k=5 >= N=3, skipping
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=3, skipping
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=3, skipping
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=3, skipping
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=3, skipping
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=3, skipping
2026-02-16 22:56:28.139 | INFO     | __main__:phase2_k_sensitivity:535 -   [clinical_patient_triage_nl] Phase 2 done in 0.0s
2026-02-16 22:56:28.140 | INFO     | __main__:phase3_pca_dimensionality:588 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:56:28.140 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:56:28.141 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:28.141 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:56:28.142 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:28.142 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:56:28.143 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:28.143 | INFO     | __main__:phase3_pca_dimensionality:688 -   [clinical_patient_triage_nl] Phase 3 done in 0.0s
2026-02-16 22:56:28.143 | INFO     | __main__:phase4_distance_metrics:703 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 22:56:28.144 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:56:28.167 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:28.167 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:56:28.177 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:28.178 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:56:28.200 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:28.200 | INFO     | __main__:phase4_distance_metrics:735 -   [clinical_patient_triage_nl] Phase 4 done in 0.1s
2026-02-16 22:56:28.200 | INFO     | __main__:main:1168 -   [clinical_patient_triage_nl] Optimal k=10 (AUC=0.0000)
2026-02-16 22:56:28.200 | INFO     | __main__:phase5_alternative_formulations:751 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 22:56:28.229 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5000, RBO AUC=0.4500, WJ AUC=0.5000
2026-02-16 22:56:28.236 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5000
2026-02-16 22:56:28.244 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5000
2026-02-16 22:56:28.252 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5000
2026-02-16 22:56:28.252 | INFO     | __main__:phase5_alternative_formulations:807 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 22:56:28.252 | INFO     | __main__:phase6_confound_analysis:826 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 22:56:28.276 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=nan, p=nan
2026-02-16 22:56:28.278 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=nan, p=nan
2026-02-16 22:56:28.281 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=nan, p=nan
2026-02-16 22:56:28.283 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=nan, p=nan
2026-02-16 22:56:28.284 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=nan, p=nan
2026-02-16 22:56:28.285 | INFO     | __main__:phase6_confound_analysis:986 -   [clinical_patient_triage_nl] Phase 6 done in 0.0s
2026-02-16 22:56:28.285 | INFO     | __main__:baseline_single_space_crnd:1006 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 22:56:28.304 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5500±0.3674
2026-02-16 22:56:28.321 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4000±0.3742
2026-02-16 22:56:28.332 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5500±0.3674
2026-02-16 22:56:28.339 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.5000±0.4472
2026-02-16 22:56:28.339 | INFO     | __main__:baseline_single_space_crnd:1040 -   [clinical_patient_triage_nl] Baseline done in 0.1s
2026-02-16 22:56:28.339 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:56:28.340 | INFO     | __main__:main:1091 - Processing dataset: ohsumed_single
2026-02-16 22:56:28.340 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:56:28.340 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 22:56:28.343 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (3, 30)
2026-02-16 22:56:28.343 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 22:56:32.650 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (3, 384)
2026-02-16 22:56:32.651 | INFO     | __main__:build_feature_spaces:360 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 22:56:32.651 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (3, 1)
2026-02-16 22:56:32.651 | INFO     | __main__:build_feature_spaces:401 -   [ohsumed_single] Feature construction done in 4.3s
2026-02-16 22:56:32.651 | INFO     | __main__:phase2_k_sensitivity:503 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:509 -     k=5 >= N=3, skipping
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=3, skipping
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=3, skipping
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=3, skipping
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=3, skipping
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=3, skipping
2026-02-16 22:56:32.652 | INFO     | __main__:phase2_k_sensitivity:535 -   [ohsumed_single] Phase 2 done in 0.0s
2026-02-16 22:56:32.652 | INFO     | __main__:phase3_pca_dimensionality:588 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:56:32.652 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:56:32.653 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:32.654 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:56:32.655 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:32.655 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:56:32.655 | INFO     | __main__:phase3_pca_dimensionality:603 -       max_dim=1, skipping PCA
2026-02-16 22:56:32.655 | INFO     | __main__:phase3_pca_dimensionality:688 -   [ohsumed_single] Phase 3 done in 0.0s
2026-02-16 22:56:32.656 | INFO     | __main__:phase4_distance_metrics:703 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 22:56:32.656 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:56:32.681 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4500±0.3674
2026-02-16 22:56:32.682 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:56:32.692 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6000±0.3000
2026-02-16 22:56:32.692 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:56:32.706 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4500±0.3674
2026-02-16 22:56:32.706 | INFO     | __main__:phase4_distance_metrics:735 -   [ohsumed_single] Phase 4 done in 0.1s
2026-02-16 22:56:32.706 | INFO     | __main__:main:1168 -   [ohsumed_single] Optimal k=10 (AUC=0.0000)
2026-02-16 22:56:32.707 | INFO     | __main__:phase5_alternative_formulations:751 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 22:56:32.769 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.4500, RBO AUC=0.5000, WJ AUC=0.5000
2026-02-16 22:56:32.777 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5000
2026-02-16 22:56:32.784 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4500
2026-02-16 22:56:32.791 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4500
2026-02-16 22:56:32.791 | INFO     | __main__:phase5_alternative_formulations:807 -   [ohsumed_single] Phase 5 done in 0.1s
2026-02-16 22:56:32.792 | INFO     | __main__:phase6_confound_analysis:826 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 22:56:32.813 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.5000, p=0.6667
2026-02-16 22:56:32.818 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=-0.4360, p=nan
2026-02-16 22:56:32.821 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=-0.4360, p=nan
2026-02-16 22:56:32.824 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=-0.4360, p=nan
2026-02-16 22:56:32.828 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=-0.7303, p=nan
2026-02-16 22:56:32.828 | INFO     | __main__:phase6_confound_analysis:986 -   [ohsumed_single] Phase 6 done in 0.0s
2026-02-16 22:56:32.828 | INFO     | __main__:baseline_single_space_crnd:1006 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 22:56:32.839 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5000±0.4472
2026-02-16 22:56:32.852 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.6000±0.3742
2026-02-16 22:56:32.862 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 22:56:32.870 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.5000±0.4472
2026-02-16 22:56:32.870 | INFO     | __main__:baseline_single_space_crnd:1040 -   [ohsumed_single] Baseline done in 0.0s
2026-02-16 22:56:32.870 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:56:32.870 | INFO     | __main__:main:1091 - Processing dataset: mental_health_conditions
2026-02-16 22:56:32.870 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:56:32.870 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 22:56:32.873 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (3, 30)
2026-02-16 22:56:32.873 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 22:56:37.534 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (3, 384)
2026-02-16 22:56:37.535 | INFO     | __main__:build_feature_spaces:360 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 22:56:37.535 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (3, 3)
2026-02-16 22:56:37.535 | INFO     | __main__:build_feature_spaces:401 -   [mental_health_conditions] Feature construction done in 4.7s
2026-02-16 22:56:37.535 | INFO     | __main__:phase2_k_sensitivity:503 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 22:56:37.535 | INFO     | __main__:phase2_k_sensitivity:509 -     k=5 >= N=3, skipping
2026-02-16 22:56:37.535 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=3, skipping
2026-02-16 22:56:37.535 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=3, skipping
2026-02-16 22:56:37.535 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=3, skipping
2026-02-16 22:56:37.536 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=3, skipping
2026-02-16 22:56:37.536 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=3, skipping
2026-02-16 22:56:37.536 | INFO     | __main__:phase2_k_sensitivity:535 -   [mental_health_conditions] Phase 2 done in 0.0s
2026-02-16 22:56:37.536 | INFO     | __main__:phase3_pca_dimensionality:588 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:56:37.536 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:56:37.538 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:37.538 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:56:37.539 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:37.539 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:56:37.540 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=1.000, mean_D=nan
2026-02-16 22:56:37.541 | INFO     | __main__:phase3_pca_dimensionality:688 -   [mental_health_conditions] Phase 3 done in 0.0s
2026-02-16 22:56:37.541 | INFO     | __main__:phase4_distance_metrics:703 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 22:56:37.541 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:56:37.592 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:37.593 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:56:37.607 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:37.608 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:56:37.634 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:56:37.635 | INFO     | __main__:phase4_distance_metrics:735 -   [mental_health_conditions] Phase 4 done in 0.1s
2026-02-16 22:56:37.636 | INFO     | __main__:main:1168 -   [mental_health_conditions] Optimal k=10 (AUC=0.0000)
2026-02-16 22:56:37.636 | INFO     | __main__:phase5_alternative_formulations:751 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 22:56:37.667 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5000, RBO AUC=0.5000, WJ AUC=0.5000
2026-02-16 22:56:37.674 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5000
2026-02-16 22:56:37.680 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5000
2026-02-16 22:56:37.687 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5000
2026-02-16 22:56:37.688 | INFO     | __main__:phase5_alternative_formulations:807 -   [mental_health_conditions] Phase 5 done in 0.1s
2026-02-16 22:56:37.688 | INFO     | __main__:phase6_confound_analysis:826 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 22:56:37.751 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=nan, p=nan
2026-02-16 22:56:37.754 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=nan, p=nan
2026-02-16 22:56:37.756 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=nan, p=nan
2026-02-16 22:56:37.759 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=nan, p=nan
2026-02-16 22:56:37.761 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=nan, p=nan
2026-02-16 22:56:37.762 | INFO     | __main__:phase6_confound_analysis:986 -   [mental_health_conditions] Phase 6 done in 0.1s
2026-02-16 22:56:37.762 | INFO     | __main__:baseline_single_space_crnd:1006 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 22:56:37.770 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5500±0.3674
2026-02-16 22:56:37.783 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4000±0.3742
2026-02-16 22:56:37.798 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5500±0.3674
2026-02-16 22:56:37.809 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.5000±0.4472
2026-02-16 22:56:37.809 | INFO     | __main__:baseline_single_space_crnd:1040 -   [mental_health_conditions] Baseline done in 0.0s
2026-02-16 22:56:37.809 | INFO     | __main__:main:1348 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 22:56:37.811 | INFO     | __main__:main:1351 - Output: 0.0 MB
2026-02-16 22:56:37.811 | INFO     | __main__:main:1354 - ======================================================================
2026-02-16 22:56:37.811 | INFO     | __main__:main:1355 - SUMMARY
2026-02-16 22:56:37.811 | INFO     | __main__:main:1356 - ======================================================================
2026-02-16 22:56:37.811 | INFO     | __main__:main:1357 - Total runtime: 34.1s
2026-02-16 22:56:37.811 | INFO     | __main__:main:1358 - Optimal k: 10 (mean AUC=0.0000)
2026-02-16 22:56:37.811 | INFO     | __main__:main:1359 - PCA stability threshold: d=20
2026-02-16 22:56:37.812 | INFO     | __main__:main:1360 - Best formulation: rbo_p09 (mean AUC=0.5100)
2026-02-16 22:56:37.812 | INFO     | __main__:main:1361 - Most informative pair: tfidf_vs_sentence_transformer (mean AUC=0.5000)
2026-02-16 22:56:37.812 | INFO     | __main__:main:1362 - LLM calls: 0, cost: $0.0000
2026-02-16 22:56:37.812 | INFO     | __main__:main:1365 -   medical_abstracts: 16.5s total
2026-02-16 22:56:37.812 | INFO     | __main__:main:1365 -   mimic_iv_ed_demo: 4.4s total
2026-02-16 22:56:37.812 | INFO     | __main__:main:1365 -   clinical_patient_triage_nl: 3.8s total
2026-02-16 22:56:37.812 | INFO     | __main__:main:1365 -   ohsumed_single: 4.5s total
2026-02-16 22:56:37.812 | INFO     | __main__:main:1365 -   mental_health_conditions: 4.9s total
2026-02-16 22:56:37.812 | INFO     | __main__:main:1366 - Done!
2026-02-16 22:56:56.766 | INFO     | __main__:main:1057 - ======================================================================
2026-02-16 22:56:56.766 | INFO     | __main__:main:1058 - CRND Ablation & Robustness Analysis
2026-02-16 22:56:56.766 | INFO     | __main__:main:1059 - ======================================================================
2026-02-16 22:56:56.766 | INFO     | __main__:main:1060 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 22:56:56.766 | INFO     | __main__:main:1061 - Max examples per dataset: 10
2026-02-16 22:56:56.766 | INFO     | __main__:main:1062 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 22:56:56.766 | INFO     | __main__:main:1063 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 22:56:56.767 | INFO     | __main__:main:1064 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 22:56:56.767 | INFO     | __main__:main:1065 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 22:56:56.767 | INFO     | __main__:main:1066 - Noise rate: 0.1, Seeds: 5
2026-02-16 22:56:56.767 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 22:56:57.425 | INFO     | __main__:load_data:295 -   medical_abstracts: 10 examples, 5 classes, dist={"Cardiovascular_diseases": 1, "Digestive_system_diseases": 2, "General_pathological_conditions": 3, "Neoplasms": 2, "Nervous_system_diseases": 2}
2026-02-16 22:56:57.425 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 10 examples, 1 classes, dist={"ESI-2": 10}
2026-02-16 22:56:57.425 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 10 examples, 6 classes, dist={"Critical": 2, "High": 1, "Low": 1, "Mild": 1, "Moderate": 4, "Routine": 1}
2026-02-16 22:56:57.426 | INFO     | __main__:load_data:295 -   ohsumed_single: 10 examples, 1 classes, dist={"Bacterial_Infections_and_Mycoses": 10}
2026-02-16 22:56:57.426 | INFO     | __main__:load_data:295 -   mental_health_conditions: 10 examples, 6 classes, dist={"anxiety": 3, "bipolar": 1, "depression": 3, "normal": 1, "personality disorder": 1, "stress": 1}
2026-02-16 22:56:57.436 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:56:57.436 | INFO     | __main__:main:1091 - Processing dataset: medical_abstracts
2026-02-16 22:56:57.436 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:56:57.436 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 22:56:57.442 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (10, 100)
2026-02-16 22:56:57.442 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 22:57:04.627 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (10, 384)
2026-02-16 22:57:04.627 | INFO     | __main__:build_feature_spaces:360 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 22:57:04.729 | INFO     | __main__:_try_openrouter_features:454 -   [medical_abstracts] Attempting 10 OpenRouter LLM calls...
2026-02-16 22:57:26.789 | INFO     | __main__:_try_openrouter_features:485 -   [medical_abstracts] LLM: 10/10 successful, total cost: $0.0003, calls: 10
2026-02-16 22:57:26.789 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (10, 5)
2026-02-16 22:57:26.789 | INFO     | __main__:build_feature_spaces:401 -   [medical_abstracts] Feature construction done in 29.4s
2026-02-16 22:57:26.790 | INFO     | __main__:phase2_k_sensitivity:503 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.4000±0.2177, CRND=0.5126±0.1082
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=10, skipping
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=10, skipping
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=10, skipping
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=10, skipping
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=10, skipping
2026-02-16 22:57:26.931 | INFO     | __main__:phase2_k_sensitivity:535 -   [medical_abstracts] Phase 2 done in 0.1s
2026-02-16 22:57:26.931 | INFO     | __main__:phase3_pca_dimensionality:588 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:57:26.932 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:57:26.935 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.255, mean_D=nan
2026-02-16 22:57:26.936 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.374, mean_D=nan
2026-02-16 22:57:26.937 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.602, mean_D=nan
2026-02-16 22:57:26.938 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:57:26.940 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.336, mean_D=nan
2026-02-16 22:57:26.940 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.471, mean_D=nan
2026-02-16 22:57:26.941 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.689, mean_D=nan
2026-02-16 22:57:26.942 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:57:26.944 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.785, mean_D=nan
2026-02-16 22:57:26.944 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.983, mean_D=nan
2026-02-16 22:57:26.945 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=1.000, mean_D=nan
2026-02-16 22:57:26.946 | INFO     | __main__:phase3_pca_dimensionality:688 -   [medical_abstracts] Phase 3 done in 0.0s
2026-02-16 22:57:26.946 | INFO     | __main__:phase4_distance_metrics:703 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 22:57:26.947 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:57:27.020 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:57:27.021 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:57:27.032 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:57:27.033 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:57:27.070 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:57:27.070 | INFO     | __main__:phase4_distance_metrics:735 -   [medical_abstracts] Phase 4 done in 0.1s
2026-02-16 22:57:27.070 | INFO     | __main__:main:1168 -   [medical_abstracts] Optimal k=5 (AUC=0.4000)
2026-02-16 22:57:27.070 | INFO     | __main__:phase5_alternative_formulations:751 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 22:57:27.149 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.4000, RBO AUC=0.4667, WJ AUC=0.4222
2026-02-16 22:57:27.158 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.2778
2026-02-16 22:57:27.165 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6333
2026-02-16 22:57:27.174 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.3556
2026-02-16 22:57:27.174 | INFO     | __main__:phase5_alternative_formulations:807 -   [medical_abstracts] Phase 5 done in 0.1s
2026-02-16 22:57:27.174 | INFO     | __main__:phase6_confound_analysis:826 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 22:57:27.294 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=-0.5303, p=0.1148
2026-02-16 22:57:28.026 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=-0.5209, p=0.1504
2026-02-16 22:57:28.030 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=-0.4465, p=0.2282
2026-02-16 22:57:28.034 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=-0.5531, p=0.1224
2026-02-16 22:57:28.037 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=-0.5356, p=0.2154
2026-02-16 22:57:28.039 | INFO     | __main__:phase6_confound_analysis:986 -   [medical_abstracts] Phase 6 done in 0.9s
2026-02-16 22:57:28.039 | INFO     | __main__:baseline_single_space_crnd:1006 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 22:57:28.117 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5111±0.3556
2026-02-16 22:57:28.197 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.5778±0.3399
2026-02-16 22:57:28.272 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5556±0.3063
2026-02-16 22:57:28.281 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.7111±0.2592
2026-02-16 22:57:28.281 | INFO     | __main__:baseline_single_space_crnd:1040 -   [medical_abstracts] Baseline done in 0.2s
2026-02-16 22:57:28.429 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:57:28.430 | INFO     | __main__:main:1091 - Processing dataset: mimic_iv_ed_demo
2026-02-16 22:57:28.430 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:57:28.430 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 22:57:28.434 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (10, 100)
2026-02-16 22:57:28.434 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 22:57:33.444 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (10, 384)
2026-02-16 22:57:33.444 | INFO     | __main__:build_feature_spaces:360 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 22:57:33.444 | INFO     | __main__:_try_openrouter_features:454 -   [mimic_iv_ed_demo] Attempting 10 OpenRouter LLM calls...
2026-02-16 22:57:35.115 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 22:57:36.743 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 22:57:38.411 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 22:57:40.049 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 22:57:42.871 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 22:57:44.594 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 22:57:46.182 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 6 failed, keeping simulated
2026-02-16 22:57:47.680 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 22:57:50.494 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 22:57:50.494 | INFO     | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM: 1/10 successful, total cost: $0.0004, calls: 20
2026-02-16 22:57:50.494 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (10, 1)
2026-02-16 22:57:50.495 | INFO     | __main__:build_feature_spaces:401 -   [mimic_iv_ed_demo] Feature construction done in 22.1s
2026-02-16 22:57:50.495 | INFO     | __main__:phase2_k_sensitivity:503 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 22:57:50.557 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.3111±0.1778, CRND=0.5635±0.0804
2026-02-16 22:57:50.557 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=10, skipping
2026-02-16 22:57:50.557 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=10, skipping
2026-02-16 22:57:50.557 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=10, skipping
2026-02-16 22:57:50.557 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=10, skipping
2026-02-16 22:57:50.557 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=10, skipping
2026-02-16 22:57:50.558 | INFO     | __main__:phase2_k_sensitivity:535 -   [mimic_iv_ed_demo] Phase 2 done in 0.1s
2026-02-16 22:57:50.558 | INFO     | __main__:phase3_pca_dimensionality:588 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:57:50.558 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:57:50.559 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.340, mean_D=nan
2026-02-16 22:57:50.559 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.472, mean_D=nan
2026-02-16 22:57:50.559 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.704, mean_D=nan
2026-02-16 22:57:50.560 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:57:50.560 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.455, mean_D=nan
2026-02-16 22:57:50.561 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.594, mean_D=nan
2026-02-16 22:57:50.561 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.826, mean_D=nan
2026-02-16 22:57:50.561 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:57:50.561 | INFO     | __main__:phase3_pca_dimensionality:603 -       max_dim=1, skipping PCA
2026-02-16 22:57:50.561 | INFO     | __main__:phase3_pca_dimensionality:688 -   [mimic_iv_ed_demo] Phase 3 done in 0.0s
2026-02-16 22:57:50.561 | INFO     | __main__:phase4_distance_metrics:703 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 22:57:50.562 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:57:50.620 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5556±0.0000
2026-02-16 22:57:50.620 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:57:50.631 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4444±0.2222
2026-02-16 22:57:50.631 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:57:50.667 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5556±0.0000
2026-02-16 22:57:50.667 | INFO     | __main__:phase4_distance_metrics:735 -   [mimic_iv_ed_demo] Phase 4 done in 0.1s
2026-02-16 22:57:50.667 | INFO     | __main__:main:1168 -   [mimic_iv_ed_demo] Optimal k=5 (AUC=0.3111)
2026-02-16 22:57:50.667 | INFO     | __main__:phase5_alternative_formulations:751 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 22:57:50.734 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.3111, RBO AUC=0.3778, WJ AUC=0.2222
2026-02-16 22:57:50.742 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4222
2026-02-16 22:57:50.749 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.3556
2026-02-16 22:57:50.756 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.3333
2026-02-16 22:57:50.757 | INFO     | __main__:phase5_alternative_formulations:807 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 22:57:50.757 | INFO     | __main__:phase6_confound_analysis:826 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 22:57:50.847 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.1863, p=0.6062
2026-02-16 22:57:50.851 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=0.0945, p=0.8089
2026-02-16 22:57:50.860 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=0.2211, p=0.5675
2026-02-16 22:57:50.863 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=0.3115, p=0.4146
2026-02-16 22:57:50.866 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=0.4300, p=0.3355
2026-02-16 22:57:50.866 | INFO     | __main__:phase6_confound_analysis:986 -   [mimic_iv_ed_demo] Phase 6 done in 0.1s
2026-02-16 22:57:50.866 | INFO     | __main__:baseline_single_space_crnd:1006 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 22:57:50.888 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.3556±0.3542
2026-02-16 22:57:50.916 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.6222±0.3341
2026-02-16 22:57:50.944 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 22:57:50.968 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.7111±0.2592
2026-02-16 22:57:50.969 | INFO     | __main__:baseline_single_space_crnd:1040 -   [mimic_iv_ed_demo] Baseline done in 0.1s
2026-02-16 22:57:51.038 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:57:51.038 | INFO     | __main__:main:1091 - Processing dataset: clinical_patient_triage_nl
2026-02-16 22:57:51.039 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:57:51.039 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 22:57:51.042 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (10, 100)
2026-02-16 22:57:51.042 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 22:57:56.002 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (10, 384)
2026-02-16 22:57:56.003 | INFO     | __main__:build_feature_spaces:360 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 22:57:56.004 | INFO     | __main__:_try_openrouter_features:454 -   [clinical_patient_triage_nl] Attempting 10 OpenRouter LLM calls...
2026-02-16 22:58:03.314 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 0 failed, keeping simulated
2026-02-16 22:58:09.638 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 2 failed, keeping simulated
2026-02-16 22:58:16.062 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 3 failed, keeping simulated
2026-02-16 22:58:20.634 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 4 failed, keeping simulated
2026-02-16 22:58:26.343 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 6 failed, keeping simulated
2026-02-16 22:58:35.200 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 22:58:40.515 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 8 failed, keeping simulated
2026-02-16 22:58:48.262 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 22:58:48.262 | INFO     | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM: 2/10 successful, total cost: $0.0006, calls: 30
2026-02-16 22:58:48.262 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (10, 6)
2026-02-16 22:58:48.262 | INFO     | __main__:build_feature_spaces:401 -   [clinical_patient_triage_nl] Feature construction done in 57.2s
2026-02-16 22:58:48.262 | INFO     | __main__:phase2_k_sensitivity:503 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.5111±0.3919, CRND=0.6508±0.0507
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=10, skipping
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=10, skipping
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=10, skipping
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=10, skipping
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=10, skipping
2026-02-16 22:58:48.280 | INFO     | __main__:phase2_k_sensitivity:535 -   [clinical_patient_triage_nl] Phase 2 done in 0.0s
2026-02-16 22:58:48.281 | INFO     | __main__:phase3_pca_dimensionality:588 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:58:48.281 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:58:48.282 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.271, mean_D=nan
2026-02-16 22:58:48.282 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.391, mean_D=nan
2026-02-16 22:58:48.283 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.604, mean_D=nan
2026-02-16 22:58:48.284 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:58:48.285 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.314, mean_D=nan
2026-02-16 22:58:48.286 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.440, mean_D=nan
2026-02-16 22:58:48.287 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.675, mean_D=nan
2026-02-16 22:58:48.288 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:58:48.289 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.563, mean_D=nan
2026-02-16 22:58:48.289 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.725, mean_D=nan
2026-02-16 22:58:48.290 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=1.000, mean_D=nan
2026-02-16 22:58:48.291 | INFO     | __main__:phase3_pca_dimensionality:688 -   [clinical_patient_triage_nl] Phase 3 done in 0.0s
2026-02-16 22:58:48.291 | INFO     | __main__:phase4_distance_metrics:703 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 22:58:48.291 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:58:48.329 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:58:48.329 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:58:48.339 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:58:48.339 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:58:48.350 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:58:48.350 | INFO     | __main__:phase4_distance_metrics:735 -   [clinical_patient_triage_nl] Phase 4 done in 0.1s
2026-02-16 22:58:48.350 | INFO     | __main__:main:1168 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.5111)
2026-02-16 22:58:48.350 | INFO     | __main__:phase5_alternative_formulations:751 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 22:58:48.381 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5111, RBO AUC=0.4222, WJ AUC=0.6889
2026-02-16 22:58:48.388 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4667
2026-02-16 22:58:48.394 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5556
2026-02-16 22:58:48.401 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4556
2026-02-16 22:58:48.401 | INFO     | __main__:phase5_alternative_formulations:807 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 22:58:48.401 | INFO     | __main__:phase6_confound_analysis:826 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 22:58:48.415 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.5337, p=0.1121
2026-02-16 22:58:48.418 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=0.6096, p=0.0814
2026-02-16 22:58:48.421 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=0.6459, p=0.0602
2026-02-16 22:58:48.424 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=0.4753, p=0.1959
2026-02-16 22:58:48.428 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=0.5606, p=0.1905
2026-02-16 22:58:48.428 | INFO     | __main__:phase6_confound_analysis:986 -   [clinical_patient_triage_nl] Phase 6 done in 0.0s
2026-02-16 22:58:48.428 | INFO     | __main__:baseline_single_space_crnd:1006 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 22:58:48.437 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.2889±0.2863
2026-02-16 22:58:48.446 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4222±0.2155
2026-02-16 22:58:48.454 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.6444±0.3095
2026-02-16 22:58:48.460 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.7111±0.2592
2026-02-16 22:58:48.461 | INFO     | __main__:baseline_single_space_crnd:1040 -   [clinical_patient_triage_nl] Baseline done in 0.0s
2026-02-16 22:58:48.467 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:58:48.467 | INFO     | __main__:main:1091 - Processing dataset: ohsumed_single
2026-02-16 22:58:48.467 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:58:48.467 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 22:58:48.472 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (10, 100)
2026-02-16 22:58:48.472 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 22:58:53.703 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (10, 384)
2026-02-16 22:58:53.703 | INFO     | __main__:build_feature_spaces:360 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 22:58:53.704 | INFO     | __main__:_try_openrouter_features:454 -   [ohsumed_single] Attempting 10 OpenRouter LLM calls...
2026-02-16 22:59:06.100 | INFO     | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM: 10/10 successful, total cost: $0.0008, calls: 40
2026-02-16 22:59:06.100 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (10, 1)
2026-02-16 22:59:06.100 | INFO     | __main__:build_feature_spaces:401 -   [ohsumed_single] Feature construction done in 17.6s
2026-02-16 22:59:06.100 | INFO     | __main__:phase2_k_sensitivity:503 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 22:59:06.129 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.5444±0.2927, CRND=0.5914±0.0960
2026-02-16 22:59:06.130 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=10, skipping
2026-02-16 22:59:06.130 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=10, skipping
2026-02-16 22:59:06.130 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=10, skipping
2026-02-16 22:59:06.130 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=10, skipping
2026-02-16 22:59:06.130 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=10, skipping
2026-02-16 22:59:06.130 | INFO     | __main__:phase2_k_sensitivity:535 -   [ohsumed_single] Phase 2 done in 0.0s
2026-02-16 22:59:06.130 | INFO     | __main__:phase3_pca_dimensionality:588 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:59:06.130 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:59:06.132 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.352, mean_D=nan
2026-02-16 22:59:06.132 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.482, mean_D=nan
2026-02-16 22:59:06.132 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.705, mean_D=nan
2026-02-16 22:59:06.133 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:59:06.134 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.415, mean_D=nan
2026-02-16 22:59:06.134 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.548, mean_D=nan
2026-02-16 22:59:06.134 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.765, mean_D=nan
2026-02-16 22:59:06.135 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:59:06.135 | INFO     | __main__:phase3_pca_dimensionality:603 -       max_dim=1, skipping PCA
2026-02-16 22:59:06.135 | INFO     | __main__:phase3_pca_dimensionality:688 -   [ohsumed_single] Phase 3 done in 0.0s
2026-02-16 22:59:06.135 | INFO     | __main__:phase4_distance_metrics:703 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 22:59:06.135 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:59:06.193 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5556±0.0000
2026-02-16 22:59:06.194 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:59:06.206 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4444±0.2222
2026-02-16 22:59:06.206 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:59:06.244 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5556±0.0000
2026-02-16 22:59:06.244 | INFO     | __main__:phase4_distance_metrics:735 -   [ohsumed_single] Phase 4 done in 0.1s
2026-02-16 22:59:06.244 | INFO     | __main__:main:1168 -   [ohsumed_single] Optimal k=5 (AUC=0.5444)
2026-02-16 22:59:06.245 | INFO     | __main__:phase5_alternative_formulations:751 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 22:59:06.313 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5444, RBO AUC=0.6000, WJ AUC=0.4889
2026-02-16 22:59:06.320 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5778
2026-02-16 22:59:06.328 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.3889
2026-02-16 22:59:06.335 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5444
2026-02-16 22:59:06.336 | INFO     | __main__:phase5_alternative_formulations:807 -   [ohsumed_single] Phase 5 done in 0.1s
2026-02-16 22:59:06.336 | INFO     | __main__:phase6_confound_analysis:826 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 22:59:06.424 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=-0.5406, p=0.1067
2026-02-16 22:59:06.431 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=-0.5405, p=0.1330
2026-02-16 22:59:06.434 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=-0.5822, p=0.1000
2026-02-16 22:59:06.437 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=-0.5473, p=0.1272
2026-02-16 22:59:06.440 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=-0.5773, p=0.1747
2026-02-16 22:59:06.441 | INFO     | __main__:phase6_confound_analysis:986 -   [ohsumed_single] Phase 6 done in 0.1s
2026-02-16 22:59:06.441 | INFO     | __main__:baseline_single_space_crnd:1006 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 22:59:06.462 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5333±0.3399
2026-02-16 22:59:06.486 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4889±0.2685
2026-02-16 22:59:06.508 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 22:59:06.515 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.7111±0.2592
2026-02-16 22:59:06.515 | INFO     | __main__:baseline_single_space_crnd:1040 -   [ohsumed_single] Baseline done in 0.1s
2026-02-16 22:59:06.561 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:59:06.562 | INFO     | __main__:main:1091 - Processing dataset: mental_health_conditions
2026-02-16 22:59:06.562 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:59:06.562 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 22:59:06.565 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (10, 100)
2026-02-16 22:59:06.565 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 22:59:11.482 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (10, 384)
2026-02-16 22:59:11.483 | INFO     | __main__:build_feature_spaces:360 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 22:59:11.483 | INFO     | __main__:_try_openrouter_features:454 -   [mental_health_conditions] Attempting 10 OpenRouter LLM calls...
2026-02-16 22:59:13.809 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 22:59:15.518 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 1 failed, keeping simulated
2026-02-16 22:59:26.623 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 22:59:30.323 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 8 failed, keeping simulated
2026-02-16 22:59:33.141 | INFO     | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM: 6/10 successful, total cost: $0.0009, calls: 50
2026-02-16 22:59:33.141 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (10, 6)
2026-02-16 22:59:33.141 | INFO     | __main__:build_feature_spaces:401 -   [mental_health_conditions] Feature construction done in 26.6s
2026-02-16 22:59:33.141 | INFO     | __main__:phase2_k_sensitivity:503 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 22:59:33.155 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.5222±0.1556, CRND=0.5536±0.0911
2026-02-16 22:59:33.155 | INFO     | __main__:phase2_k_sensitivity:509 -     k=10 >= N=10, skipping
2026-02-16 22:59:33.155 | INFO     | __main__:phase2_k_sensitivity:509 -     k=15 >= N=10, skipping
2026-02-16 22:59:33.155 | INFO     | __main__:phase2_k_sensitivity:509 -     k=20 >= N=10, skipping
2026-02-16 22:59:33.155 | INFO     | __main__:phase2_k_sensitivity:509 -     k=30 >= N=10, skipping
2026-02-16 22:59:33.156 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=10, skipping
2026-02-16 22:59:33.156 | INFO     | __main__:phase2_k_sensitivity:535 -   [mental_health_conditions] Phase 2 done in 0.0s
2026-02-16 22:59:33.156 | INFO     | __main__:phase3_pca_dimensionality:588 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 22:59:33.156 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 22:59:33.158 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.293, mean_D=0.000
2026-02-16 22:59:33.159 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.420, mean_D=nan
2026-02-16 22:59:33.162 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.650, mean_D=0.197
2026-02-16 22:59:33.163 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 22:59:33.165 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.370, mean_D=0.000
2026-02-16 22:59:33.167 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.524, mean_D=nan
2026-02-16 22:59:33.171 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.736, mean_D=0.024
2026-02-16 22:59:33.173 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 22:59:33.175 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.598, mean_D=0.000
2026-02-16 22:59:33.176 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.757, mean_D=nan
2026-02-16 22:59:33.180 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=1.000, mean_D=0.022
2026-02-16 22:59:33.182 | INFO     | __main__:phase3_pca_dimensionality:688 -   [mental_health_conditions] Phase 3 done in 0.0s
2026-02-16 22:59:33.182 | INFO     | __main__:phase4_distance_metrics:703 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 22:59:33.183 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 22:59:33.303 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:59:33.304 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 22:59:33.314 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:59:33.315 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 22:59:33.324 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5000±0.0000
2026-02-16 22:59:33.324 | INFO     | __main__:phase4_distance_metrics:735 -   [mental_health_conditions] Phase 4 done in 0.1s
2026-02-16 22:59:33.324 | INFO     | __main__:main:1168 -   [mental_health_conditions] Optimal k=5 (AUC=0.5222)
2026-02-16 22:59:33.324 | INFO     | __main__:phase5_alternative_formulations:751 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 22:59:33.351 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5222, RBO AUC=0.4222, WJ AUC=0.4889
2026-02-16 22:59:33.358 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.3889
2026-02-16 22:59:33.364 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.7667
2026-02-16 22:59:33.371 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4556
2026-02-16 22:59:33.372 | INFO     | __main__:phase5_alternative_formulations:807 -   [mental_health_conditions] Phase 5 done in 0.0s
2026-02-16 22:59:33.372 | INFO     | __main__:phase6_confound_analysis:826 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 22:59:33.379 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=-0.0621, p=0.8647
2026-02-16 22:59:33.382 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=-0.0513, p=0.8958
2026-02-16 22:59:33.385 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=-0.1396, p=0.7202
2026-02-16 22:59:33.388 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=-0.1425, p=0.7146
2026-02-16 22:59:33.391 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=-0.3178, p=0.4873
2026-02-16 22:59:33.391 | INFO     | __main__:phase6_confound_analysis:986 -   [mental_health_conditions] Phase 6 done in 0.0s
2026-02-16 22:59:33.391 | INFO     | __main__:baseline_single_space_crnd:1006 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 22:59:33.399 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.3556±0.3095
2026-02-16 22:59:33.408 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4222±0.3745
2026-02-16 22:59:33.416 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.4444±0.3296
2026-02-16 22:59:33.422 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.7111±0.2592
2026-02-16 22:59:33.423 | INFO     | __main__:baseline_single_space_crnd:1040 -   [mental_health_conditions] Baseline done in 0.0s
2026-02-16 22:59:33.435 | INFO     | __main__:main:1348 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 22:59:33.440 | INFO     | __main__:main:1351 - Output: 0.1 MB
2026-02-16 22:59:33.440 | INFO     | __main__:main:1354 - ======================================================================
2026-02-16 22:59:33.440 | INFO     | __main__:main:1355 - SUMMARY
2026-02-16 22:59:33.440 | INFO     | __main__:main:1356 - ======================================================================
2026-02-16 22:59:33.440 | INFO     | __main__:main:1357 - Total runtime: 156.7s
2026-02-16 22:59:33.440 | INFO     | __main__:main:1358 - Optimal k: 5 (mean AUC=0.4578)
2026-02-16 22:59:33.440 | INFO     | __main__:main:1359 - PCA stability threshold: d=20
2026-02-16 22:59:33.440 | INFO     | __main__:main:1360 - Best formulation: weighted_jaccard (mean AUC=0.4622)
2026-02-16 22:59:33.440 | INFO     | __main__:main:1361 - Most informative pair: tfidf_vs_llm_zeroshot (mean AUC=0.5400)
2026-02-16 22:59:33.441 | INFO     | __main__:main:1362 - LLM calls: 50, cost: $0.0009
2026-02-16 22:59:33.441 | INFO     | __main__:main:1365 -   medical_abstracts: 30.8s total
2026-02-16 22:59:33.441 | INFO     | __main__:main:1365 -   mimic_iv_ed_demo: 22.5s total
2026-02-16 22:59:33.441 | INFO     | __main__:main:1365 -   clinical_patient_triage_nl: 57.4s total
2026-02-16 22:59:33.441 | INFO     | __main__:main:1365 -   ohsumed_single: 18.0s total
2026-02-16 22:59:33.441 | INFO     | __main__:main:1365 -   mental_health_conditions: 26.9s total
2026-02-16 22:59:33.441 | INFO     | __main__:main:1366 - Done!
2026-02-16 22:59:48.974 | INFO     | __main__:main:1057 - ======================================================================
2026-02-16 22:59:48.974 | INFO     | __main__:main:1058 - CRND Ablation & Robustness Analysis
2026-02-16 22:59:48.975 | INFO     | __main__:main:1059 - ======================================================================
2026-02-16 22:59:48.975 | INFO     | __main__:main:1060 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 22:59:48.975 | INFO     | __main__:main:1061 - Max examples per dataset: 50
2026-02-16 22:59:48.975 | INFO     | __main__:main:1062 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 22:59:48.975 | INFO     | __main__:main:1063 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 22:59:48.976 | INFO     | __main__:main:1064 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 22:59:48.976 | INFO     | __main__:main:1065 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 22:59:48.976 | INFO     | __main__:main:1066 - Noise rate: 0.1, Seeds: 5
2026-02-16 22:59:48.976 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 22:59:49.619 | INFO     | __main__:load_data:295 -   medical_abstracts: 50 examples, 5 classes, dist={"Cardiovascular_diseases": 11, "Digestive_system_diseases": 6, "General_pathological_conditions": 15, "Neoplasms": 12, "Nervous_system_diseases": 6}
2026-02-16 22:59:49.619 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 50 examples, 1 classes, dist={"ESI-2": 50}
2026-02-16 22:59:49.619 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 31 examples, 6 classes, dist={"Critical": 3, "High": 7, "Low": 6, "Mild": 1, "Moderate": 11, "Routine": 3}
2026-02-16 22:59:49.619 | INFO     | __main__:load_data:295 -   ohsumed_single: 50 examples, 1 classes, dist={"Bacterial_Infections_and_Mycoses": 50}
2026-02-16 22:59:49.619 | INFO     | __main__:load_data:295 -   mental_health_conditions: 50 examples, 7 classes, dist={"anxiety": 13, "bipolar": 6, "depression": 9, "normal": 8, "personality disorder": 4, "stress": 8, "suicidal": 2}
2026-02-16 22:59:49.628 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 22:59:49.628 | INFO     | __main__:main:1091 - Processing dataset: medical_abstracts
2026-02-16 22:59:49.629 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 22:59:49.629 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 22:59:49.643 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (50, 500)
2026-02-16 22:59:49.643 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 22:59:57.301 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (50, 384)
2026-02-16 22:59:57.301 | INFO     | __main__:build_feature_spaces:360 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 22:59:57.341 | INFO     | __main__:_try_openrouter_features:454 -   [medical_abstracts] Attempting 50 OpenRouter LLM calls...
2026-02-16 23:00:02.630 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 0 failed, keeping simulated
2026-02-16 23:00:26.756 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 9 failed, keeping simulated
2026-02-16 23:00:45.234 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 16 failed, keeping simulated
2026-02-16 23:00:49.877 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 17 failed, keeping simulated
2026-02-16 23:01:19.487 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 27 failed, keeping simulated
2026-02-16 23:01:27.367 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 29 failed, keeping simulated
2026-02-16 23:01:30.782 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 30 failed, keeping simulated
2026-02-16 23:02:10.933 | DEBUG    | __main__:_try_openrouter_features:482 -   [medical_abstracts] LLM call 45 failed, keeping simulated
2026-02-16 23:02:21.622 | INFO     | __main__:_try_openrouter_features:485 -   [medical_abstracts] LLM: 42/50 successful, total cost: $0.0014, calls: 50
2026-02-16 23:02:21.623 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (50, 5)
2026-02-16 23:02:21.623 | INFO     | __main__:build_feature_spaces:401 -   [medical_abstracts] Feature construction done in 152.0s
2026-02-16 23:02:21.623 | INFO     | __main__:phase2_k_sensitivity:503 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 23:02:21.677 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.5138±0.0856, CRND=0.8589±0.0824
2026-02-16 23:02:21.691 | INFO     | __main__:phase2_k_sensitivity:529 -     k=10: AUC=0.4760±0.1338, CRND=0.7864±0.0917
2026-02-16 23:02:21.706 | INFO     | __main__:phase2_k_sensitivity:529 -     k=15: AUC=0.5058±0.0344, CRND=0.7262±0.0792
2026-02-16 23:02:21.722 | INFO     | __main__:phase2_k_sensitivity:529 -     k=20: AUC=0.4862±0.0599, CRND=0.6668±0.0729
2026-02-16 23:02:21.737 | INFO     | __main__:phase2_k_sensitivity:529 -     k=30: AUC=0.5080±0.0926, CRND=0.5170±0.0448
2026-02-16 23:02:21.738 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=50, skipping
2026-02-16 23:02:21.738 | INFO     | __main__:phase2_k_sensitivity:535 -   [medical_abstracts] Phase 2 done in 0.1s
2026-02-16 23:02:21.738 | INFO     | __main__:phase3_pca_dimensionality:588 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:02:21.738 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 23:02:21.751 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.076, mean_D=0.691
2026-02-16 23:02:21.945 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.111, mean_D=0.477
2026-02-16 23:02:21.985 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.175, mean_D=0.625
2026-02-16 23:02:22.043 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.316, mean_D=0.590
2026-02-16 23:02:22.078 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.552, mean_D=0.705
2026-02-16 23:02:22.082 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 23:02:22.096 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.141, mean_D=0.550
2026-02-16 23:02:22.282 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.206, mean_D=0.348
2026-02-16 23:02:22.320 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.292, mean_D=0.563
2026-02-16 23:02:22.354 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.461, mean_D=0.584
2026-02-16 23:02:22.387 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.693, mean_D=0.607
2026-02-16 23:02:22.389 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 23:02:22.398 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.685, mean_D=0.278
2026-02-16 23:02:22.524 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.867, mean_D=0.224
2026-02-16 23:02:22.554 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=1.000, mean_D=0.407
2026-02-16 23:02:22.555 | INFO     | __main__:phase3_pca_dimensionality:688 -   [medical_abstracts] Phase 3 done in 0.8s
2026-02-16 23:02:22.556 | INFO     | __main__:phase4_distance_metrics:703 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 23:02:22.556 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 23:02:22.645 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4760±0.1338
2026-02-16 23:02:22.645 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 23:02:22.664 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4396±0.1406
2026-02-16 23:02:22.664 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 23:02:22.730 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.5596±0.0807
2026-02-16 23:02:22.732 | INFO     | __main__:phase4_distance_metrics:735 -   [medical_abstracts] Phase 4 done in 0.2s
2026-02-16 23:02:22.733 | INFO     | __main__:main:1168 -   [medical_abstracts] Optimal k=5 (AUC=0.5138)
2026-02-16 23:02:22.733 | INFO     | __main__:phase5_alternative_formulations:751 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:02:22.782 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5138, RBO AUC=0.5396, WJ AUC=0.5084
2026-02-16 23:02:22.790 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4818
2026-02-16 23:02:22.798 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4778
2026-02-16 23:02:22.806 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5636
2026-02-16 23:02:22.806 | INFO     | __main__:phase5_alternative_formulations:807 -   [medical_abstracts] Phase 5 done in 0.1s
2026-02-16 23:02:22.806 | INFO     | __main__:phase6_confound_analysis:826 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 23:02:22.820 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.1162, p=0.4216
2026-02-16 23:02:23.391 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=0.1859, p=0.2009
2026-02-16 23:02:23.394 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=0.1172, p=0.4226
2026-02-16 23:02:23.397 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=0.1153, p=0.4302
2026-02-16 23:02:23.399 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=0.1810, p=0.2233
2026-02-16 23:02:23.399 | INFO     | __main__:phase6_confound_analysis:986 -   [medical_abstracts] Phase 6 done in 0.6s
2026-02-16 23:02:23.400 | INFO     | __main__:baseline_single_space_crnd:1006 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 23:02:23.412 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5156±0.1131
2026-02-16 23:02:23.423 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.6436±0.1785
2026-02-16 23:02:23.432 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5524±0.1160
2026-02-16 23:02:23.441 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.4676±0.1603
2026-02-16 23:02:23.441 | INFO     | __main__:baseline_single_space_crnd:1040 -   [medical_abstracts] Baseline done in 0.0s
2026-02-16 23:02:23.485 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 23:02:23.486 | INFO     | __main__:main:1091 - Processing dataset: mimic_iv_ed_demo
2026-02-16 23:02:23.486 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 23:02:23.486 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 23:02:23.490 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (50, 174)
2026-02-16 23:02:23.490 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 23:02:26.945 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (50, 384)
2026-02-16 23:02:26.946 | INFO     | __main__:build_feature_spaces:360 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 23:02:26.947 | INFO     | __main__:_try_openrouter_features:454 -   [mimic_iv_ed_demo] Attempting 50 OpenRouter LLM calls...
2026-02-16 23:02:28.957 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 23:02:30.410 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 23:02:31.258 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 23:02:34.696 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 23:02:38.594 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 23:02:40.014 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 23:02:41.812 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 23:02:44.158 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 8 failed, keeping simulated
2026-02-16 23:02:46.192 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 23:02:47.930 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 10 failed, keeping simulated
2026-02-16 23:02:49.155 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 11 failed, keeping simulated
2026-02-16 23:02:50.662 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 12 failed, keeping simulated
2026-02-16 23:02:53.407 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 13 failed, keeping simulated
2026-02-16 23:02:55.068 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 14 failed, keeping simulated
2026-02-16 23:02:57.042 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 15 failed, keeping simulated
2026-02-16 23:02:59.277 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 16 failed, keeping simulated
2026-02-16 23:03:02.454 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 17 failed, keeping simulated
2026-02-16 23:03:04.471 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 18 failed, keeping simulated
2026-02-16 23:03:06.217 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 19 failed, keeping simulated
2026-02-16 23:03:08.812 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 20 failed, keeping simulated
2026-02-16 23:03:10.612 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 21 failed, keeping simulated
2026-02-16 23:03:11.768 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 22 failed, keeping simulated
2026-02-16 23:03:13.379 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 23 failed, keeping simulated
2026-02-16 23:03:17.361 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 24 failed, keeping simulated
2026-02-16 23:03:18.817 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 26 failed, keeping simulated
2026-02-16 23:03:20.371 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 27 failed, keeping simulated
2026-02-16 23:03:21.706 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 28 failed, keeping simulated
2026-02-16 23:03:25.579 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 29 failed, keeping simulated
2026-02-16 23:03:26.872 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 30 failed, keeping simulated
2026-02-16 23:03:32.554 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 31 failed, keeping simulated
2026-02-16 23:03:35.188 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 32 failed, keeping simulated
2026-02-16 23:03:40.571 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 33 failed, keeping simulated
2026-02-16 23:03:42.300 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 34 failed, keeping simulated
2026-02-16 23:03:53.929 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 35 failed, keeping simulated
2026-02-16 23:03:59.859 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 36 failed, keeping simulated
2026-02-16 23:04:00.825 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 37 failed, keeping simulated
2026-02-16 23:04:05.424 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 38 failed, keeping simulated
2026-02-16 23:04:07.388 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 39 failed, keeping simulated
2026-02-16 23:04:10.728 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 40 failed, keeping simulated
2026-02-16 23:04:14.807 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 41 failed, keeping simulated
2026-02-16 23:04:16.432 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 42 failed, keeping simulated
2026-02-16 23:04:18.121 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 43 failed, keeping simulated
2026-02-16 23:04:19.767 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 44 failed, keeping simulated
2026-02-16 23:04:20.890 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 45 failed, keeping simulated
2026-02-16 23:04:22.707 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 46 failed, keeping simulated
2026-02-16 23:04:24.389 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 47 failed, keeping simulated
2026-02-16 23:04:25.839 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 48 failed, keeping simulated
2026-02-16 23:04:33.105 | DEBUG    | __main__:_try_openrouter_features:482 -   [mimic_iv_ed_demo] LLM call 49 failed, keeping simulated
2026-02-16 23:04:33.105 | INFO     | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM: 2/50 successful, total cost: $0.0019, calls: 100
2026-02-16 23:04:33.105 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (50, 1)
2026-02-16 23:04:33.105 | INFO     | __main__:build_feature_spaces:401 -   [mimic_iv_ed_demo] Feature construction done in 129.6s
2026-02-16 23:04:33.105 | INFO     | __main__:phase2_k_sensitivity:503 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 23:04:33.118 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.5018±0.2015, CRND=0.9104±0.0659
2026-02-16 23:04:33.132 | INFO     | __main__:phase2_k_sensitivity:529 -     k=10: AUC=0.6191±0.1423, CRND=0.8581±0.0451
2026-02-16 23:04:33.145 | INFO     | __main__:phase2_k_sensitivity:529 -     k=15: AUC=0.6520±0.1324, CRND=0.7573±0.0575
2026-02-16 23:04:33.158 | INFO     | __main__:phase2_k_sensitivity:529 -     k=20: AUC=0.6738±0.1246, CRND=0.7178±0.0553
2026-02-16 23:04:33.174 | INFO     | __main__:phase2_k_sensitivity:529 -     k=30: AUC=0.6596±0.0819, CRND=0.5231±0.0372
2026-02-16 23:04:33.174 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=50, skipping
2026-02-16 23:04:33.174 | INFO     | __main__:phase2_k_sensitivity:535 -   [mimic_iv_ed_demo] Phase 2 done in 0.1s
2026-02-16 23:04:33.174 | INFO     | __main__:phase3_pca_dimensionality:588 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:04:33.174 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 23:04:33.176 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.133, mean_D=nan
2026-02-16 23:04:33.176 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.185, mean_D=nan
2026-02-16 23:04:33.176 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.278, mean_D=nan
2026-02-16 23:04:33.176 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.467, mean_D=nan
2026-02-16 23:04:33.177 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.732, mean_D=nan
2026-02-16 23:04:33.177 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 23:04:33.179 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.197, mean_D=nan
2026-02-16 23:04:33.179 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.276, mean_D=nan
2026-02-16 23:04:33.180 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.390, mean_D=nan
2026-02-16 23:04:33.180 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.605, mean_D=nan
2026-02-16 23:04:33.180 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.841, mean_D=nan
2026-02-16 23:04:33.180 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 23:04:33.180 | INFO     | __main__:phase3_pca_dimensionality:603 -       max_dim=1, skipping PCA
2026-02-16 23:04:33.180 | INFO     | __main__:phase3_pca_dimensionality:688 -   [mimic_iv_ed_demo] Phase 3 done in 0.0s
2026-02-16 23:04:33.180 | INFO     | __main__:phase4_distance_metrics:703 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 23:04:33.181 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 23:04:33.272 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6191±0.1423
2026-02-16 23:04:33.272 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 23:04:33.291 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6302±0.1566
2026-02-16 23:04:33.292 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 23:04:33.372 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6116±0.1402
2026-02-16 23:04:33.372 | INFO     | __main__:phase4_distance_metrics:735 -   [mimic_iv_ed_demo] Phase 4 done in 0.2s
2026-02-16 23:04:33.373 | INFO     | __main__:main:1168 -   [mimic_iv_ed_demo] Optimal k=20 (AUC=0.6738)
2026-02-16 23:04:33.373 | INFO     | __main__:phase5_alternative_formulations:751 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=20)
2026-02-16 23:04:33.438 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.6738, RBO AUC=0.4702, WJ AUC=0.5440
2026-02-16 23:04:33.447 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.6222
2026-02-16 23:04:33.454 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6538
2026-02-16 23:04:33.462 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5120
2026-02-16 23:04:33.462 | INFO     | __main__:phase5_alternative_formulations:807 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 23:04:33.462 | INFO     | __main__:phase6_confound_analysis:826 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 23:04:33.484 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.2012, p=0.1613
2026-02-16 23:04:33.487 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=0.2086, p=0.1503
2026-02-16 23:04:33.490 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=0.2042, p=0.1593
2026-02-16 23:04:33.493 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=0.2030, p=0.1618
2026-02-16 23:04:33.496 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=0.2362, p=0.1099
2026-02-16 23:04:33.496 | INFO     | __main__:phase6_confound_analysis:986 -   [mimic_iv_ed_demo] Phase 6 done in 0.0s
2026-02-16 23:04:33.496 | INFO     | __main__:baseline_single_space_crnd:1006 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 23:04:33.505 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.4453±0.1369
2026-02-16 23:04:33.514 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4844±0.1496
2026-02-16 23:04:33.522 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 23:04:33.531 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.4676±0.1603
2026-02-16 23:04:33.531 | INFO     | __main__:baseline_single_space_crnd:1040 -   [mimic_iv_ed_demo] Baseline done in 0.0s
2026-02-16 23:04:33.585 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 23:04:33.585 | INFO     | __main__:main:1091 - Processing dataset: clinical_patient_triage_nl
2026-02-16 23:04:33.585 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 23:04:33.585 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 23:04:33.588 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (31, 37)
2026-02-16 23:04:33.588 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 23:04:37.161 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (31, 384)
2026-02-16 23:04:37.162 | INFO     | __main__:build_feature_spaces:360 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 23:04:37.164 | INFO     | __main__:_try_openrouter_features:454 -   [clinical_patient_triage_nl] Attempting 31 OpenRouter LLM calls...
2026-02-16 23:04:42.886 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 0 failed, keeping simulated
2026-02-16 23:04:48.085 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 1 failed, keeping simulated
2026-02-16 23:04:50.004 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 3 failed, keeping simulated
2026-02-16 23:04:55.667 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 4 failed, keeping simulated
2026-02-16 23:04:57.987 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 5 failed, keeping simulated
2026-02-16 23:05:03.492 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 6 failed, keeping simulated
2026-02-16 23:05:14.365 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 23:05:19.964 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 8 failed, keeping simulated
2026-02-16 23:05:24.608 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 23:05:30.046 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 10 failed, keeping simulated
2026-02-16 23:05:35.684 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 11 failed, keeping simulated
2026-02-16 23:05:41.550 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 12 failed, keeping simulated
2026-02-16 23:05:46.440 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 13 failed, keeping simulated
2026-02-16 23:05:52.597 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 14 failed, keeping simulated
2026-02-16 23:06:01.372 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 16 failed, keeping simulated
2026-02-16 23:06:09.585 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 18 failed, keeping simulated
2026-02-16 23:06:11.771 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 19 failed, keeping simulated
2026-02-16 23:06:16.860 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 21 failed, keeping simulated
2026-02-16 23:06:26.631 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 22 failed, keeping simulated
2026-02-16 23:06:30.368 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 23 failed, keeping simulated
2026-02-16 23:06:35.766 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 24 failed, keeping simulated
2026-02-16 23:06:46.247 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 25 failed, keeping simulated
2026-02-16 23:06:51.394 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 26 failed, keeping simulated
2026-02-16 23:07:05.259 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 28 failed, keeping simulated
2026-02-16 23:07:08.285 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 29 failed, keeping simulated
2026-02-16 23:07:12.365 | DEBUG    | __main__:_try_openrouter_features:482 -   [clinical_patient_triage_nl] LLM call 30 failed, keeping simulated
2026-02-16 23:07:12.365 | INFO     | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM: 5/31 successful, total cost: $0.0026, calls: 131
2026-02-16 23:07:12.365 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (31, 6)
2026-02-16 23:07:12.365 | INFO     | __main__:build_feature_spaces:401 -   [clinical_patient_triage_nl] Feature construction done in 158.8s
2026-02-16 23:07:12.365 | INFO     | __main__:phase2_k_sensitivity:503 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 23:07:12.377 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.7167±0.0813, CRND=0.7947±0.1345
2026-02-16 23:07:12.389 | INFO     | __main__:phase2_k_sensitivity:529 -     k=10: AUC=0.6810±0.0640, CRND=0.7195±0.0809
2026-02-16 23:07:12.401 | INFO     | __main__:phase2_k_sensitivity:529 -     k=15: AUC=0.5821±0.1822, CRND=0.6180±0.0568
2026-02-16 23:07:12.413 | INFO     | __main__:phase2_k_sensitivity:529 -     k=20: AUC=0.5345±0.1524, CRND=0.4722±0.0341
2026-02-16 23:07:12.426 | INFO     | __main__:phase2_k_sensitivity:529 -     k=30: AUC=0.5179±0.1429, CRND=0.0076±0.0177
2026-02-16 23:07:12.426 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=31, skipping
2026-02-16 23:07:12.426 | INFO     | __main__:phase2_k_sensitivity:535 -   [clinical_patient_triage_nl] Phase 2 done in 0.1s
2026-02-16 23:07:12.426 | INFO     | __main__:phase3_pca_dimensionality:588 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:07:12.426 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 23:07:12.438 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.280, mean_D=0.145
2026-02-16 23:07:12.480 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.358, mean_D=0.267
2026-02-16 23:07:12.507 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.498, mean_D=0.268
2026-02-16 23:07:12.539 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.752, mean_D=0.432
2026-02-16 23:07:12.571 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.981, mean_D=0.377
2026-02-16 23:07:12.574 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 23:07:12.586 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.172, mean_D=0.362
2026-02-16 23:07:12.633 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.236, mean_D=0.692
2026-02-16 23:07:12.679 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.350, mean_D=0.545
2026-02-16 23:07:12.760 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.575, mean_D=0.503
2026-02-16 23:07:12.820 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.860, mean_D=0.434
2026-02-16 23:07:12.822 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 23:07:12.838 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.638, mean_D=0.246
2026-02-16 23:07:13.023 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.848, mean_D=0.208
2026-02-16 23:07:13.064 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=1.000, mean_D=0.261
2026-02-16 23:07:13.065 | INFO     | __main__:phase3_pca_dimensionality:688 -   [clinical_patient_triage_nl] Phase 3 done in 0.6s
2026-02-16 23:07:13.065 | INFO     | __main__:phase4_distance_metrics:703 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 23:07:13.066 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 23:07:13.175 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6810±0.0640
2026-02-16 23:07:13.175 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 23:07:13.186 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6690±0.0774
2026-02-16 23:07:13.187 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 23:07:13.200 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.6107±0.0699
2026-02-16 23:07:13.201 | INFO     | __main__:phase4_distance_metrics:735 -   [clinical_patient_triage_nl] Phase 4 done in 0.1s
2026-02-16 23:07:13.201 | INFO     | __main__:main:1168 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.7167)
2026-02-16 23:07:13.201 | INFO     | __main__:phase5_alternative_formulations:751 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:07:13.251 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.7167, RBO AUC=0.6262, WJ AUC=0.7048
2026-02-16 23:07:13.259 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5452
2026-02-16 23:07:13.266 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.7250
2026-02-16 23:07:13.275 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.6000
2026-02-16 23:07:13.275 | INFO     | __main__:phase5_alternative_formulations:807 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 23:07:13.275 | INFO     | __main__:phase6_confound_analysis:826 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 23:07:13.337 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.2264, p=0.2208
2026-02-16 23:07:13.340 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=0.2124, p=0.2597
2026-02-16 23:07:13.343 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=0.2159, p=0.2519
2026-02-16 23:07:13.346 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=0.1834, p=0.3321
2026-02-16 23:07:13.349 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=0.1486, p=0.4504
2026-02-16 23:07:13.349 | INFO     | __main__:phase6_confound_analysis:986 -   [clinical_patient_triage_nl] Phase 6 done in 0.1s
2026-02-16 23:07:13.350 | INFO     | __main__:baseline_single_space_crnd:1006 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 23:07:13.374 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5179±0.0818
2026-02-16 23:07:13.383 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.6905±0.1448
2026-02-16 23:07:13.392 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5012±0.1676
2026-02-16 23:07:13.399 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.4857±0.1744
2026-02-16 23:07:13.399 | INFO     | __main__:baseline_single_space_crnd:1040 -   [clinical_patient_triage_nl] Baseline done in 0.0s
2026-02-16 23:07:13.461 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 23:07:13.462 | INFO     | __main__:main:1091 - Processing dataset: ohsumed_single
2026-02-16 23:07:13.462 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 23:07:13.462 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 23:07:13.480 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (50, 500)
2026-02-16 23:07:13.480 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 23:07:17.532 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (50, 384)
2026-02-16 23:07:17.533 | INFO     | __main__:build_feature_spaces:360 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 23:07:17.535 | INFO     | __main__:_try_openrouter_features:454 -   [ohsumed_single] Attempting 50 OpenRouter LLM calls...
2026-02-16 23:08:22.909 | INFO     | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM: 50/50 successful, total cost: $0.0036, calls: 181
2026-02-16 23:08:22.909 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (50, 1)
2026-02-16 23:08:22.909 | INFO     | __main__:build_feature_spaces:401 -   [ohsumed_single] Feature construction done in 69.4s
2026-02-16 23:08:22.909 | INFO     | __main__:phase2_k_sensitivity:503 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 23:08:22.925 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.4996±0.0946, CRND=0.8436±0.0757
2026-02-16 23:08:22.946 | INFO     | __main__:phase2_k_sensitivity:529 -     k=10: AUC=0.4982±0.0565, CRND=0.7847±0.0826
2026-02-16 23:08:22.973 | INFO     | __main__:phase2_k_sensitivity:529 -     k=15: AUC=0.5836±0.0929, CRND=0.7318±0.0653
2026-02-16 23:08:22.987 | INFO     | __main__:phase2_k_sensitivity:529 -     k=20: AUC=0.5422±0.0704, CRND=0.6705±0.0461
2026-02-16 23:08:23.017 | INFO     | __main__:phase2_k_sensitivity:529 -     k=30: AUC=0.4062±0.1126, CRND=0.5205±0.0357
2026-02-16 23:08:23.017 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=50, skipping
2026-02-16 23:08:23.017 | INFO     | __main__:phase2_k_sensitivity:535 -   [ohsumed_single] Phase 2 done in 0.1s
2026-02-16 23:08:23.017 | INFO     | __main__:phase3_pca_dimensionality:588 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:08:23.017 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 23:08:23.020 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.098, mean_D=nan
2026-02-16 23:08:23.020 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.138, mean_D=nan
2026-02-16 23:08:23.020 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.212, mean_D=nan
2026-02-16 23:08:23.020 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.367, mean_D=nan
2026-02-16 23:08:23.020 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.603, mean_D=nan
2026-02-16 23:08:23.021 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 23:08:23.023 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.186, mean_D=nan
2026-02-16 23:08:23.023 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.250, mean_D=nan
2026-02-16 23:08:23.023 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.357, mean_D=nan
2026-02-16 23:08:23.023 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.532, mean_D=nan
2026-02-16 23:08:23.023 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.755, mean_D=nan
2026-02-16 23:08:23.024 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 23:08:23.024 | INFO     | __main__:phase3_pca_dimensionality:603 -       max_dim=1, skipping PCA
2026-02-16 23:08:23.024 | INFO     | __main__:phase3_pca_dimensionality:688 -   [ohsumed_single] Phase 3 done in 0.0s
2026-02-16 23:08:23.024 | INFO     | __main__:phase4_distance_metrics:703 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 23:08:23.024 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 23:08:23.089 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4982±0.0565
2026-02-16 23:08:23.095 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 23:08:23.131 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4693±0.0424
2026-02-16 23:08:23.134 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 23:08:23.201 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4653±0.1535
2026-02-16 23:08:23.201 | INFO     | __main__:phase4_distance_metrics:735 -   [ohsumed_single] Phase 4 done in 0.2s
2026-02-16 23:08:23.202 | INFO     | __main__:main:1168 -   [ohsumed_single] Optimal k=15 (AUC=0.5836)
2026-02-16 23:08:23.202 | INFO     | __main__:phase5_alternative_formulations:751 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=15)
2026-02-16 23:08:23.259 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.5836, RBO AUC=0.5218, WJ AUC=0.5218
2026-02-16 23:08:23.266 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5431
2026-02-16 23:08:23.273 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5733
2026-02-16 23:08:23.281 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5169
2026-02-16 23:08:23.281 | INFO     | __main__:phase5_alternative_formulations:807 -   [ohsumed_single] Phase 5 done in 0.1s
2026-02-16 23:08:23.281 | INFO     | __main__:phase6_confound_analysis:826 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 23:08:23.316 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=0.1872, p=0.1931
2026-02-16 23:08:23.319 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=0.1647, p=0.2582
2026-02-16 23:08:23.322 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=0.1715, p=0.2386
2026-02-16 23:08:23.325 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=0.1712, p=0.2395
2026-02-16 23:08:23.328 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=0.1887, p=0.2039
2026-02-16 23:08:23.328 | INFO     | __main__:phase6_confound_analysis:986 -   [ohsumed_single] Phase 6 done in 0.0s
2026-02-16 23:08:23.328 | INFO     | __main__:baseline_single_space_crnd:1006 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 23:08:23.338 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.5369±0.0982
2026-02-16 23:08:23.347 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.5573±0.1115
2026-02-16 23:08:23.356 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 23:08:23.362 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.4676±0.1603
2026-02-16 23:08:23.362 | INFO     | __main__:baseline_single_space_crnd:1040 -   [ohsumed_single] Baseline done in 0.0s
2026-02-16 23:08:23.390 | INFO     | __main__:main:1090 - ============================================================
2026-02-16 23:08:23.390 | INFO     | __main__:main:1091 - Processing dataset: mental_health_conditions
2026-02-16 23:08:23.390 | INFO     | __main__:main:1092 - ============================================================
2026-02-16 23:08:23.390 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 23:08:23.395 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (50, 255)
2026-02-16 23:08:23.395 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 23:08:27.394 | INFO     | __main__:build_feature_spaces:347 -     SentenceTransformer shape: (50, 384)
2026-02-16 23:08:27.394 | INFO     | __main__:build_feature_spaces:360 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 23:08:27.398 | INFO     | __main__:_try_openrouter_features:454 -   [mental_health_conditions] Attempting 50 OpenRouter LLM calls...
2026-02-16 23:08:29.409 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 23:08:35.414 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 2 failed, keeping simulated
2026-02-16 23:08:42.841 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 23:08:46.643 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 8 failed, keeping simulated
2026-02-16 23:08:49.832 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 9 failed, keeping simulated
2026-02-16 23:08:54.245 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 11 failed, keeping simulated
2026-02-16 23:08:55.345 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 12 failed, keeping simulated
2026-02-16 23:09:03.580 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 14 failed, keeping simulated
2026-02-16 23:09:04.837 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 15 failed, keeping simulated
2026-02-16 23:09:08.675 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 16 failed, keeping simulated
2026-02-16 23:09:10.889 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 17 failed, keeping simulated
2026-02-16 23:09:12.238 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 18 failed, keeping simulated
2026-02-16 23:09:20.599 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 21 failed, keeping simulated
2026-02-16 23:09:23.765 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 23 failed, keeping simulated
2026-02-16 23:09:31.205 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 25 failed, keeping simulated
2026-02-16 23:09:36.753 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 27 failed, keeping simulated
2026-02-16 23:09:40.921 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 30 failed, keeping simulated
2026-02-16 23:09:43.548 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 31 failed, keeping simulated
2026-02-16 23:09:45.890 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 32 failed, keeping simulated
2026-02-16 23:09:48.777 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 34 failed, keeping simulated
2026-02-16 23:09:50.673 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 35 failed, keeping simulated
2026-02-16 23:09:52.649 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 36 failed, keeping simulated
2026-02-16 23:09:56.475 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 37 failed, keeping simulated
2026-02-16 23:09:59.901 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 38 failed, keeping simulated
2026-02-16 23:10:02.231 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 39 failed, keeping simulated
2026-02-16 23:10:06.751 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 41 failed, keeping simulated
2026-02-16 23:10:10.194 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 43 failed, keeping simulated
2026-02-16 23:10:21.306 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 47 failed, keeping simulated
2026-02-16 23:10:22.397 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 48 failed, keeping simulated
2026-02-16 23:10:25.976 | DEBUG    | __main__:_try_openrouter_features:482 -   [mental_health_conditions] LLM call 49 failed, keeping simulated
2026-02-16 23:10:25.976 | INFO     | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM: 20/50 successful, total cost: $0.0044, calls: 231
2026-02-16 23:10:25.977 | INFO     | __main__:build_feature_spaces:398 -     LLM features shape: (50, 7)
2026-02-16 23:10:25.977 | INFO     | __main__:build_feature_spaces:401 -   [mental_health_conditions] Feature construction done in 122.6s
2026-02-16 23:10:25.977 | INFO     | __main__:phase2_k_sensitivity:503 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 23:10:26.012 | INFO     | __main__:phase2_k_sensitivity:529 -     k=5: AUC=0.4347±0.0382, CRND=0.8126±0.1118
2026-02-16 23:10:26.026 | INFO     | __main__:phase2_k_sensitivity:529 -     k=10: AUC=0.4364±0.0654, CRND=0.7549±0.1028
2026-02-16 23:10:26.039 | INFO     | __main__:phase2_k_sensitivity:529 -     k=15: AUC=0.4409±0.1372, CRND=0.7170±0.1007
2026-02-16 23:10:26.051 | INFO     | __main__:phase2_k_sensitivity:529 -     k=20: AUC=0.3960±0.1099, CRND=0.6702±0.0979
2026-02-16 23:10:26.063 | INFO     | __main__:phase2_k_sensitivity:529 -     k=30: AUC=0.4778±0.0595, CRND=0.5413±0.0606
2026-02-16 23:10:26.063 | INFO     | __main__:phase2_k_sensitivity:509 -     k=50 >= N=50, skipping
2026-02-16 23:10:26.063 | INFO     | __main__:phase2_k_sensitivity:535 -   [mental_health_conditions] Phase 2 done in 0.1s
2026-02-16 23:10:26.063 | INFO     | __main__:phase3_pca_dimensionality:588 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:10:26.063 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: tfidf
2026-02-16 23:10:26.080 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.102, mean_D=0.210
2026-02-16 23:10:26.289 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.145, mean_D=0.062
2026-02-16 23:10:26.343 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.220, mean_D=0.228
2026-02-16 23:10:26.384 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.380, mean_D=0.370
2026-02-16 23:10:26.429 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.630, mean_D=0.574
2026-02-16 23:10:26.431 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: sentence_transformer
2026-02-16 23:10:26.449 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.195, mean_D=0.261
2026-02-16 23:10:26.691 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.261, mean_D=0.067
2026-02-16 23:10:26.736 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.359, mean_D=0.231
2026-02-16 23:10:26.777 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=10: explained_var=0.525, mean_D=0.279
2026-02-16 23:10:26.821 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=20: explained_var=0.760, mean_D=0.428
2026-02-16 23:10:26.823 | INFO     | __main__:phase3_pca_dimensionality:597 -     Space: llm_zeroshot
2026-02-16 23:10:26.837 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=2: explained_var=0.564, mean_D=0.152
2026-02-16 23:10:27.089 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=3: explained_var=0.746, mean_D=0.038
2026-02-16 23:10:27.133 | INFO     | __main__:phase3_pca_dimensionality:661 -       d=5: explained_var=0.952, mean_D=0.126
2026-02-16 23:10:27.134 | INFO     | __main__:phase3_pca_dimensionality:688 -   [mental_health_conditions] Phase 3 done in 1.1s
2026-02-16 23:10:27.134 | INFO     | __main__:phase4_distance_metrics:703 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 23:10:27.135 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: euclidean
2026-02-16 23:10:27.229 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4364±0.0654
2026-02-16 23:10:27.229 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: cosine
2026-02-16 23:10:27.241 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4160±0.0994
2026-02-16 23:10:27.242 | INFO     | __main__:phase4_distance_metrics:711 -     Metric: manhattan
2026-02-16 23:10:27.306 | INFO     | __main__:phase4_distance_metrics:732 -       AUC=0.4507±0.0652
2026-02-16 23:10:27.307 | INFO     | __main__:phase4_distance_metrics:735 -   [mental_health_conditions] Phase 4 done in 0.2s
2026-02-16 23:10:27.307 | INFO     | __main__:main:1168 -   [mental_health_conditions] Optimal k=30 (AUC=0.4778)
2026-02-16 23:10:27.307 | INFO     | __main__:phase5_alternative_formulations:751 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=30)
2026-02-16 23:10:27.370 | INFO     | __main__:phase5_alternative_formulations:783 -     Jaccard AUC=0.4778, RBO AUC=0.4133, WJ AUC=0.4338
2026-02-16 23:10:27.377 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4738
2026-02-16 23:10:27.384 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4902
2026-02-16 23:10:27.390 | INFO     | __main__:phase5_alternative_formulations:795 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4369
2026-02-16 23:10:27.390 | INFO     | __main__:phase5_alternative_formulations:807 -   [mental_health_conditions] Phase 5 done in 0.1s
2026-02-16 23:10:27.390 | INFO     | __main__:phase6_confound_analysis:826 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 23:10:27.400 | INFO     | __main__:phase6_confound_analysis:899 -     Raw Spearman: rho=-0.0947, p=0.5129
2026-02-16 23:10:27.404 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (outlier): rho=-0.0749, p=0.6088
2026-02-16 23:10:27.406 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (boundary): rho=-0.0818, p=0.5765
2026-02-16 23:10:27.409 | INFO     | __main__:phase6_confound_analysis:927 -     Partial (vocab_rarity): rho=-0.0978, p=0.5039
2026-02-16 23:10:27.412 | INFO     | __main__:phase6_confound_analysis:948 -     Partial (all): rho=-0.0957, p=0.5223
2026-02-16 23:10:27.412 | INFO     | __main__:phase6_confound_analysis:986 -   [mental_health_conditions] Phase 6 done in 0.0s
2026-02-16 23:10:27.412 | INFO     | __main__:baseline_single_space_crnd:1006 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 23:10:27.422 | INFO     | __main__:baseline_single_space_crnd:1027 -     tfidf kNN anomaly AUC=0.4889±0.0544
2026-02-16 23:10:27.433 | INFO     | __main__:baseline_single_space_crnd:1027 -     sentence_transformer kNN anomaly AUC=0.4507±0.1291
2026-02-16 23:10:27.445 | INFO     | __main__:baseline_single_space_crnd:1027 -     llm_zeroshot kNN anomaly AUC=0.5218±0.1480
2026-02-16 23:10:27.452 | INFO     | __main__:baseline_single_space_crnd:1037 -     Random baseline AUC=0.4676±0.1603
2026-02-16 23:10:27.453 | INFO     | __main__:baseline_single_space_crnd:1040 -   [mental_health_conditions] Baseline done in 0.0s
2026-02-16 23:10:27.499 | INFO     | __main__:main:1348 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:10:27.512 | INFO     | __main__:main:1351 - Output: 0.5 MB
2026-02-16 23:10:27.512 | INFO     | __main__:main:1354 - ======================================================================
2026-02-16 23:10:27.512 | INFO     | __main__:main:1355 - SUMMARY
2026-02-16 23:10:27.512 | INFO     | __main__:main:1356 - ======================================================================
2026-02-16 23:10:27.512 | INFO     | __main__:main:1357 - Total runtime: 638.5s
2026-02-16 23:10:27.512 | INFO     | __main__:main:1358 - Optimal k: 15 (mean AUC=0.5529)
2026-02-16 23:10:27.513 | INFO     | __main__:main:1359 - PCA stability threshold: d=10
2026-02-16 23:10:27.513 | INFO     | __main__:main:1360 - Best formulation: jaccard (mean AUC=0.5931)
2026-02-16 23:10:27.513 | INFO     | __main__:main:1361 - Most informative pair: tfidf_vs_llm_zeroshot (mean AUC=0.5840)
2026-02-16 23:10:27.513 | INFO     | __main__:main:1362 - LLM calls: 231, cost: $0.0044
2026-02-16 23:10:27.513 | INFO     | __main__:main:1365 -   medical_abstracts: 153.8s total
2026-02-16 23:10:27.513 | INFO     | __main__:main:1365 -   mimic_iv_ed_demo: 130.0s total
2026-02-16 23:10:27.513 | INFO     | __main__:main:1365 -   clinical_patient_triage_nl: 159.8s total
2026-02-16 23:10:27.513 | INFO     | __main__:main:1365 -   ohsumed_single: 69.9s total
2026-02-16 23:10:27.513 | INFO     | __main__:main:1365 -   mental_health_conditions: 124.1s total
2026-02-16 23:10:27.513 | INFO     | __main__:main:1366 - Done!
2026-02-16 23:11:41.207 | INFO     | __main__:main:1060 - ======================================================================
2026-02-16 23:11:41.207 | INFO     | __main__:main:1061 - CRND Ablation & Robustness Analysis
2026-02-16 23:11:41.207 | INFO     | __main__:main:1062 - ======================================================================
2026-02-16 23:11:41.207 | INFO     | __main__:main:1063 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:11:41.208 | INFO     | __main__:main:1064 - Max examples per dataset: 100
2026-02-16 23:11:41.208 | INFO     | __main__:main:1065 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:11:41.208 | INFO     | __main__:main:1066 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 23:11:41.208 | INFO     | __main__:main:1067 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 23:11:41.208 | INFO     | __main__:main:1068 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 23:11:41.208 | INFO     | __main__:main:1069 - Noise rate: 0.1, Seeds: 5
2026-02-16 23:11:41.208 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:11:41.873 | INFO     | __main__:load_data:295 -   medical_abstracts: 100 examples, 5 classes, dist={"Cardiovascular_diseases": 25, "Digestive_system_diseases": 8, "General_pathological_conditions": 34, "Neoplasms": 24, "Nervous_system_diseases": 9}
2026-02-16 23:11:41.874 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 100 examples, 2 classes, dist={"ESI-1": 3, "ESI-2": 97}
2026-02-16 23:11:41.874 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 31 examples, 6 classes, dist={"Critical": 3, "High": 7, "Low": 6, "Mild": 1, "Moderate": 11, "Routine": 3}
2026-02-16 23:11:41.874 | INFO     | __main__:load_data:295 -   ohsumed_single: 100 examples, 1 classes, dist={"Bacterial_Infections_and_Mycoses": 100}
2026-02-16 23:11:41.874 | INFO     | __main__:load_data:295 -   mental_health_conditions: 100 examples, 7 classes, dist={"anxiety": 24, "bipolar": 14, "depression": 17, "normal": 16, "personality disorder": 8, "stress": 13, "suicidal": 8}
2026-02-16 23:11:41.883 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:11:41.883 | INFO     | __main__:main:1094 - Processing dataset: medical_abstracts
2026-02-16 23:11:41.883 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:11:41.883 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 23:11:41.970 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (100, 1000)
2026-02-16 23:11:41.979 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 23:11:52.017 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (100, 384)
2026-02-16 23:11:52.017 | INFO     | __main__:build_feature_spaces:363 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 23:11:52.066 | INFO     | __main__:_try_openrouter_features:457 -   [medical_abstracts] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:11:55.439 | DEBUG    | __main__:_try_openrouter_features:485 -   [medical_abstracts] LLM call 0 failed, keeping simulated
2026-02-16 23:12:24.289 | INFO     | __main__:_try_openrouter_features:488 -   [medical_abstracts] LLM: 9/10 successful, total cost: $0.0002, calls: 10
2026-02-16 23:12:24.289 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (100, 5)
2026-02-16 23:12:24.289 | INFO     | __main__:build_feature_spaces:404 -   [medical_abstracts] Feature construction done in 42.4s
2026-02-16 23:12:24.289 | INFO     | __main__:phase2_k_sensitivity:506 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 23:12:24.509 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5366±0.1391, CRND=0.8892±0.0792
2026-02-16 23:12:24.648 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4648±0.1256, CRND=0.8544±0.0806
2026-02-16 23:12:24.770 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4509±0.0862, CRND=0.8272±0.0803
2026-02-16 23:12:24.878 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4063±0.0761, CRND=0.7904±0.0744
2026-02-16 23:12:24.969 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.3688±0.0828, CRND=0.7322±0.0716
2026-02-16 23:12:25.114 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.3746±0.0885, CRND=0.5956±0.0464
2026-02-16 23:12:25.115 | INFO     | __main__:phase2_k_sensitivity:538 -   [medical_abstracts] Phase 2 done in 0.8s
2026-02-16 23:12:25.115 | INFO     | __main__:phase3_pca_dimensionality:591 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:12:25.115 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:12:26.449 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.045, mean_D=0.606
2026-02-16 23:12:27.223 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.065, mean_D=0.532
2026-02-16 23:12:29.297 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.101, mean_D=0.637
2026-02-16 23:12:30.378 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.180, mean_D=0.622
2026-02-16 23:12:31.419 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.317, mean_D=0.732
2026-02-16 23:12:31.421 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:12:31.549 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.118, mean_D=0.552
2026-02-16 23:12:32.258 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.163, mean_D=0.424
2026-02-16 23:12:33.823 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.237, mean_D=0.542
2026-02-16 23:12:33.957 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.372, mean_D=0.633
2026-02-16 23:12:34.076 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.550, mean_D=0.745
2026-02-16 23:12:34.077 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:12:34.132 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.767, mean_D=0.181
2026-02-16 23:12:34.675 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.939, mean_D=0.055
2026-02-16 23:12:34.816 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.160
2026-02-16 23:12:34.818 | INFO     | __main__:phase3_pca_dimensionality:691 -   [medical_abstracts] Phase 3 done in 9.7s
2026-02-16 23:12:34.818 | INFO     | __main__:phase4_distance_metrics:706 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 23:12:34.818 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:12:34.933 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4648±0.1256
2026-02-16 23:12:34.933 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:12:34.956 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4598±0.1235
2026-02-16 23:12:34.956 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:12:35.049 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4653±0.1088
2026-02-16 23:12:35.050 | INFO     | __main__:phase4_distance_metrics:738 -   [medical_abstracts] Phase 4 done in 0.2s
2026-02-16 23:12:35.051 | INFO     | __main__:main:1171 -   [medical_abstracts] Optimal k=5 (AUC=0.5366)
2026-02-16 23:12:35.051 | INFO     | __main__:phase5_alternative_formulations:754 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:12:35.118 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5366, RBO AUC=0.5033, WJ AUC=0.5317
2026-02-16 23:12:35.127 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5404
2026-02-16 23:12:35.135 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4769
2026-02-16 23:12:35.143 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5587
2026-02-16 23:12:35.144 | INFO     | __main__:phase5_alternative_formulations:810 -   [medical_abstracts] Phase 5 done in 0.1s
2026-02-16 23:12:35.144 | INFO     | __main__:phase6_confound_analysis:829 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 23:12:35.215 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=-0.2072, p=0.0386
2026-02-16 23:12:35.776 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.2200, p=0.0287
2026-02-16 23:12:35.780 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=-0.2033, p=0.0436
2026-02-16 23:12:35.783 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=-0.2287, p=0.0228
2026-02-16 23:12:35.786 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.2324, p=0.0220
2026-02-16 23:12:35.786 | INFO     | __main__:phase6_confound_analysis:989 -   [medical_abstracts] Phase 6 done in 0.6s
2026-02-16 23:12:35.786 | INFO     | __main__:baseline_single_space_crnd:1009 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 23:12:35.813 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4851±0.1218
2026-02-16 23:12:35.834 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4809±0.0830
2026-02-16 23:12:35.843 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.5731±0.0823
2026-02-16 23:12:35.851 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5120±0.1187
2026-02-16 23:12:35.852 | INFO     | __main__:baseline_single_space_crnd:1043 -   [medical_abstracts] Baseline done in 0.1s
2026-02-16 23:12:36.133 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:12:36.133 | INFO     | __main__:main:1094 - Processing dataset: mimic_iv_ed_demo
2026-02-16 23:12:36.133 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:12:36.133 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 23:12:36.139 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (100, 316)
2026-02-16 23:12:36.140 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 23:12:37.287 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (100, 384)
2026-02-16 23:12:37.289 | INFO     | __main__:build_feature_spaces:363 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 23:12:37.301 | INFO     | __main__:_try_openrouter_features:457 -   [mimic_iv_ed_demo] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:12:38.432 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 23:12:43.379 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 23:12:44.340 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 23:12:46.025 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 23:12:51.671 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 23:12:53.416 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 23:12:55.110 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 6 failed, keeping simulated
2026-02-16 23:12:56.843 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 23:12:57.556 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 8 failed, keeping simulated
2026-02-16 23:13:02.495 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 23:13:02.495 | INFO     | __main__:_try_openrouter_features:488 -   [mimic_iv_ed_demo] LLM: 0/10 successful, total cost: $0.0003, calls: 20
2026-02-16 23:13:02.495 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (100, 2)
2026-02-16 23:13:02.496 | INFO     | __main__:build_feature_spaces:404 -   [mimic_iv_ed_demo] Feature construction done in 26.4s
2026-02-16 23:13:02.496 | INFO     | __main__:phase2_k_sensitivity:506 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 23:13:02.509 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4811±0.0910, CRND=0.9178±0.0683
2026-02-16 23:13:02.522 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4794±0.0921, CRND=0.8964±0.0573
2026-02-16 23:13:02.535 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4737±0.1124, CRND=0.8716±0.0553
2026-02-16 23:13:02.549 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5098±0.1066, CRND=0.8355±0.0561
2026-02-16 23:13:02.564 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5089±0.1208, CRND=0.7703±0.0546
2026-02-16 23:13:02.583 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5544±0.0975, CRND=0.6122±0.0510
2026-02-16 23:13:02.584 | INFO     | __main__:phase2_k_sensitivity:538 -   [mimic_iv_ed_demo] Phase 2 done in 0.1s
2026-02-16 23:13:02.584 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:13:02.584 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:13:02.591 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.075, mean_D=0.350
2026-02-16 23:13:02.591 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.109, mean_D=nan
2026-02-16 23:13:02.598 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.169, mean_D=0.074
2026-02-16 23:13:02.606 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.300, mean_D=0.184
2026-02-16 23:13:02.613 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.489, mean_D=0.373
2026-02-16 23:13:02.613 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:13:02.621 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.171, mean_D=0.291
2026-02-16 23:13:02.621 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.245, mean_D=nan
2026-02-16 23:13:02.628 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.369, mean_D=0.341
2026-02-16 23:13:02.636 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.556, mean_D=0.339
2026-02-16 23:13:02.642 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.753, mean_D=0.399
2026-02-16 23:13:02.643 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:13:02.647 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=1.000, mean_D=0.000
2026-02-16 23:13:02.647 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mimic_iv_ed_demo] Phase 3 done in 0.1s
2026-02-16 23:13:02.647 | INFO     | __main__:phase4_distance_metrics:706 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 23:13:02.648 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:13:02.719 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4794±0.0921
2026-02-16 23:13:02.721 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:13:02.756 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4797±0.0927
2026-02-16 23:13:02.756 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:13:02.805 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4991±0.1002
2026-02-16 23:13:02.805 | INFO     | __main__:phase4_distance_metrics:738 -   [mimic_iv_ed_demo] Phase 4 done in 0.2s
2026-02-16 23:13:02.805 | INFO     | __main__:main:1171 -   [mimic_iv_ed_demo] Optimal k=50 (AUC=0.5544)
2026-02-16 23:13:02.805 | INFO     | __main__:phase5_alternative_formulations:754 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=50)
2026-02-16 23:13:02.945 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5544, RBO AUC=0.4771, WJ AUC=0.5458
2026-02-16 23:13:02.956 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5278
2026-02-16 23:13:02.963 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5447
2026-02-16 23:13:02.970 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5469
2026-02-16 23:13:02.971 | INFO     | __main__:phase5_alternative_formulations:810 -   [mimic_iv_ed_demo] Phase 5 done in 0.2s
2026-02-16 23:13:02.971 | INFO     | __main__:phase6_confound_analysis:829 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 23:13:03.008 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.1732, p=0.0848
2026-02-16 23:13:03.012 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.1550, p=0.1256
2026-02-16 23:13:03.015 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.1549, p=0.1259
2026-02-16 23:13:03.018 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.1581, p=0.1182
2026-02-16 23:13:03.021 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.1247, p=0.2237
2026-02-16 23:13:03.022 | INFO     | __main__:phase6_confound_analysis:989 -   [mimic_iv_ed_demo] Phase 6 done in 0.1s
2026-02-16 23:13:03.022 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 23:13:03.033 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5498±0.0750
2026-02-16 23:13:03.043 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4493±0.0841
2026-02-16 23:13:03.052 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4680±0.0540
2026-02-16 23:13:03.060 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5120±0.1187
2026-02-16 23:13:03.060 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mimic_iv_ed_demo] Baseline done in 0.0s
2026-02-16 23:13:03.165 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:13:03.165 | INFO     | __main__:main:1094 - Processing dataset: clinical_patient_triage_nl
2026-02-16 23:13:03.165 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:13:03.165 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 23:13:03.169 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (31, 37)
2026-02-16 23:13:03.169 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 23:13:03.291 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (31, 384)
2026-02-16 23:13:03.291 | INFO     | __main__:build_feature_spaces:363 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 23:13:03.293 | INFO     | __main__:_try_openrouter_features:457 -   [clinical_patient_triage_nl] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:13:06.292 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 1 failed, keeping simulated
2026-02-16 23:13:13.527 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 5 failed, keeping simulated
2026-02-16 23:13:18.627 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 6 failed, keeping simulated
2026-02-16 23:13:22.286 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 23:13:24.370 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 8 failed, keeping simulated
2026-02-16 23:13:27.929 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 23:13:27.929 | INFO     | __main__:_try_openrouter_features:488 -   [clinical_patient_triage_nl] LLM: 4/10 successful, total cost: $0.0005, calls: 30
2026-02-16 23:13:27.929 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (31, 6)
2026-02-16 23:13:27.929 | INFO     | __main__:build_feature_spaces:404 -   [clinical_patient_triage_nl] Feature construction done in 24.8s
2026-02-16 23:13:27.929 | INFO     | __main__:phase2_k_sensitivity:506 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 23:13:27.942 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.6690±0.1581, CRND=0.8340±0.0982
2026-02-16 23:13:27.961 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.6274±0.1909, CRND=0.7257±0.0815
2026-02-16 23:13:27.972 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5048±0.2088, CRND=0.6227±0.0511
2026-02-16 23:13:27.986 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4429±0.1086, CRND=0.4633±0.0465
2026-02-16 23:13:27.998 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5202±0.1476, CRND=0.0042±0.0127
2026-02-16 23:13:27.998 | INFO     | __main__:phase2_k_sensitivity:512 -     k=50 >= N=31, skipping
2026-02-16 23:13:27.998 | INFO     | __main__:phase2_k_sensitivity:538 -   [clinical_patient_triage_nl] Phase 2 done in 0.1s
2026-02-16 23:13:27.998 | INFO     | __main__:phase3_pca_dimensionality:591 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:13:27.998 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:13:28.010 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.280, mean_D=0.145
2026-02-16 23:13:28.078 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.358, mean_D=0.267
2026-02-16 23:13:28.118 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.498, mean_D=0.268
2026-02-16 23:13:28.158 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.752, mean_D=0.432
2026-02-16 23:13:28.188 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.981, mean_D=0.377
2026-02-16 23:13:28.192 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:13:28.207 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.172, mean_D=0.362
2026-02-16 23:13:28.264 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.236, mean_D=0.692
2026-02-16 23:13:28.302 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.350, mean_D=0.545
2026-02-16 23:13:28.332 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.575, mean_D=0.503
2026-02-16 23:13:28.360 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.860, mean_D=0.434
2026-02-16 23:13:28.362 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:13:28.371 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.681, mean_D=0.103
2026-02-16 23:13:28.448 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.868, mean_D=0.125
2026-02-16 23:13:28.475 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.150
2026-02-16 23:13:28.476 | INFO     | __main__:phase3_pca_dimensionality:691 -   [clinical_patient_triage_nl] Phase 3 done in 0.5s
2026-02-16 23:13:28.477 | INFO     | __main__:phase4_distance_metrics:706 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 23:13:28.477 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:13:28.579 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.6274±0.1909
2026-02-16 23:13:28.579 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:13:28.589 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5512±0.1486
2026-02-16 23:13:28.590 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:13:28.599 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5083±0.0964
2026-02-16 23:13:28.600 | INFO     | __main__:phase4_distance_metrics:738 -   [clinical_patient_triage_nl] Phase 4 done in 0.1s
2026-02-16 23:13:28.600 | INFO     | __main__:main:1171 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.6690)
2026-02-16 23:13:28.600 | INFO     | __main__:phase5_alternative_formulations:754 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:13:28.625 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.6690, RBO AUC=0.5667, WJ AUC=0.6452
2026-02-16 23:13:28.632 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5452
2026-02-16 23:13:28.639 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6571
2026-02-16 23:13:28.646 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5655
2026-02-16 23:13:28.646 | INFO     | __main__:phase5_alternative_formulations:810 -   [clinical_patient_triage_nl] Phase 5 done in 0.0s
2026-02-16 23:13:28.646 | INFO     | __main__:phase6_confound_analysis:829 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 23:13:28.658 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.1288, p=0.4899
2026-02-16 23:13:28.662 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.1338, p=0.4807
2026-02-16 23:13:28.666 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.1243, p=0.5128
2026-02-16 23:13:28.670 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0999, p=0.5996
2026-02-16 23:13:28.673 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0087, p=0.9651
2026-02-16 23:13:28.674 | INFO     | __main__:phase6_confound_analysis:989 -   [clinical_patient_triage_nl] Phase 6 done in 0.0s
2026-02-16 23:13:28.674 | INFO     | __main__:baseline_single_space_crnd:1009 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 23:13:28.685 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5179±0.0818
2026-02-16 23:13:28.694 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.6905±0.1448
2026-02-16 23:13:28.702 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.3929±0.1878
2026-02-16 23:13:28.709 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4857±0.1744
2026-02-16 23:13:28.710 | INFO     | __main__:baseline_single_space_crnd:1043 -   [clinical_patient_triage_nl] Baseline done in 0.0s
2026-02-16 23:13:28.746 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:13:28.747 | INFO     | __main__:main:1094 - Processing dataset: ohsumed_single
2026-02-16 23:13:28.747 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:13:28.747 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 23:13:28.785 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (100, 1000)
2026-02-16 23:13:28.785 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 23:13:30.790 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (100, 384)
2026-02-16 23:13:30.790 | INFO     | __main__:build_feature_spaces:363 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 23:13:30.793 | INFO     | __main__:_try_openrouter_features:457 -   [ohsumed_single] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:13:40.639 | INFO     | __main__:_try_openrouter_features:488 -   [ohsumed_single] LLM: 10/10 successful, total cost: $0.0006, calls: 40
2026-02-16 23:13:40.640 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (100, 1)
2026-02-16 23:13:40.640 | INFO     | __main__:build_feature_spaces:404 -   [ohsumed_single] Feature construction done in 11.9s
2026-02-16 23:13:40.640 | INFO     | __main__:phase2_k_sensitivity:506 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 23:13:40.657 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5131±0.1146, CRND=0.8673±0.0715
2026-02-16 23:13:40.675 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5433±0.0761, CRND=0.8378±0.0775
2026-02-16 23:13:40.691 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5032±0.1027, CRND=0.8158±0.0657
2026-02-16 23:13:40.708 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4609±0.0912, CRND=0.7910±0.0558
2026-02-16 23:13:40.725 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5393±0.1009, CRND=0.7462±0.0529
2026-02-16 23:13:40.743 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5009±0.1069, CRND=0.6232±0.0398
2026-02-16 23:13:40.744 | INFO     | __main__:phase2_k_sensitivity:538 -   [ohsumed_single] Phase 2 done in 0.1s
2026-02-16 23:13:40.744 | INFO     | __main__:phase3_pca_dimensionality:591 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:13:40.744 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:13:40.949 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.055, mean_D=nan
2026-02-16 23:13:40.950 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.079, mean_D=nan
2026-02-16 23:13:40.950 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.123, mean_D=nan
2026-02-16 23:13:40.950 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.213, mean_D=nan
2026-02-16 23:13:40.951 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.356, mean_D=nan
2026-02-16 23:13:40.951 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:13:41.051 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.147, mean_D=nan
2026-02-16 23:13:41.052 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.200, mean_D=nan
2026-02-16 23:13:41.052 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.284, mean_D=nan
2026-02-16 23:13:41.052 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.425, mean_D=nan
2026-02-16 23:13:41.053 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.607, mean_D=nan
2026-02-16 23:13:41.053 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:13:41.054 | INFO     | __main__:phase3_pca_dimensionality:606 -       max_dim=1, skipping PCA
2026-02-16 23:13:41.054 | INFO     | __main__:phase3_pca_dimensionality:691 -   [ohsumed_single] Phase 3 done in 0.3s
2026-02-16 23:13:41.054 | INFO     | __main__:phase4_distance_metrics:706 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 23:13:41.055 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:13:41.159 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5433±0.0761
2026-02-16 23:13:41.159 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:13:41.177 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5302±0.0905
2026-02-16 23:13:41.177 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:13:41.232 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4870±0.0344
2026-02-16 23:13:41.232 | INFO     | __main__:phase4_distance_metrics:738 -   [ohsumed_single] Phase 4 done in 0.2s
2026-02-16 23:13:41.232 | INFO     | __main__:main:1171 -   [ohsumed_single] Optimal k=10 (AUC=0.5433)
2026-02-16 23:13:41.232 | INFO     | __main__:phase5_alternative_formulations:754 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 23:13:41.298 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5433, RBO AUC=0.4824, WJ AUC=0.5404
2026-02-16 23:13:41.305 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5343
2026-02-16 23:13:41.312 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4779
2026-02-16 23:13:41.319 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5201
2026-02-16 23:13:41.319 | INFO     | __main__:phase5_alternative_formulations:810 -   [ohsumed_single] Phase 5 done in 0.1s
2026-02-16 23:13:41.319 | INFO     | __main__:phase6_confound_analysis:829 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 23:13:41.351 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0168, p=0.8686
2026-02-16 23:13:41.354 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.1053, p=0.2997
2026-02-16 23:13:41.357 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=-0.0001, p=0.9994
2026-02-16 23:13:41.360 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0240, p=0.8139
2026-02-16 23:13:41.363 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0490, p=0.6334
2026-02-16 23:13:41.363 | INFO     | __main__:phase6_confound_analysis:989 -   [ohsumed_single] Phase 6 done in 0.0s
2026-02-16 23:13:41.363 | INFO     | __main__:baseline_single_space_crnd:1009 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 23:13:41.375 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5187±0.0769
2026-02-16 23:13:41.384 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5682±0.0623
2026-02-16 23:13:41.393 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.5000±0.0000
2026-02-16 23:13:41.400 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5120±0.1187
2026-02-16 23:13:41.400 | INFO     | __main__:baseline_single_space_crnd:1043 -   [ohsumed_single] Baseline done in 0.0s
2026-02-16 23:13:41.462 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:13:41.462 | INFO     | __main__:main:1094 - Processing dataset: mental_health_conditions
2026-02-16 23:13:41.463 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:13:41.463 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 23:13:41.474 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (100, 560)
2026-02-16 23:13:41.475 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 23:13:42.946 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (100, 384)
2026-02-16 23:13:42.946 | INFO     | __main__:build_feature_spaces:363 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 23:13:42.950 | INFO     | __main__:_try_openrouter_features:457 -   [mental_health_conditions] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:13:43.945 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 23:13:48.336 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 2 failed, keeping simulated
2026-02-16 23:13:53.761 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 4 failed, keeping simulated
2026-02-16 23:13:58.012 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 23:14:08.172 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 8 failed, keeping simulated
2026-02-16 23:14:10.171 | INFO     | __main__:_try_openrouter_features:488 -   [mental_health_conditions] LLM: 5/10 successful, total cost: $0.0008, calls: 50
2026-02-16 23:14:10.171 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (100, 7)
2026-02-16 23:14:10.171 | INFO     | __main__:build_feature_spaces:404 -   [mental_health_conditions] Feature construction done in 28.7s
2026-02-16 23:14:10.171 | INFO     | __main__:phase2_k_sensitivity:506 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 23:14:10.191 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4929±0.0948, CRND=0.8840±0.0833
2026-02-16 23:14:10.208 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5219±0.0596, CRND=0.8119±0.1148
2026-02-16 23:14:10.226 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5074±0.0696, CRND=0.7708±0.1193
2026-02-16 23:14:10.242 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5173±0.0870, CRND=0.7474±0.1019
2026-02-16 23:14:10.261 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5054±0.1091, CRND=0.7057±0.0944
2026-02-16 23:14:10.279 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4872±0.1200, CRND=0.6226±0.0552
2026-02-16 23:14:10.279 | INFO     | __main__:phase2_k_sensitivity:538 -   [mental_health_conditions] Phase 2 done in 0.1s
2026-02-16 23:14:10.279 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:14:10.279 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:14:10.944 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.070, mean_D=0.319
2026-02-16 23:14:11.529 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.097, mean_D=0.232
2026-02-16 23:14:11.611 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.145, mean_D=0.415
2026-02-16 23:14:11.691 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.243, mean_D=0.474
2026-02-16 23:14:11.792 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.399, mean_D=0.591
2026-02-16 23:14:11.794 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:14:11.832 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.165, mean_D=0.316
2026-02-16 23:14:12.526 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.219, mean_D=0.204
2026-02-16 23:14:12.613 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.303, mean_D=0.415
2026-02-16 23:14:13.079 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.441, mean_D=0.431
2026-02-16 23:14:15.291 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.617, mean_D=0.489
2026-02-16 23:14:15.293 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:14:15.422 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.532, mean_D=0.172
2026-02-16 23:14:16.818 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.691, mean_D=0.058
2026-02-16 23:14:18.919 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.929, mean_D=0.113
2026-02-16 23:14:18.921 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mental_health_conditions] Phase 3 done in 8.6s
2026-02-16 23:14:18.922 | INFO     | __main__:phase4_distance_metrics:706 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 23:14:18.923 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:14:19.040 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5219±0.0596
2026-02-16 23:14:19.040 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:14:19.057 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5221±0.0940
2026-02-16 23:14:19.057 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:14:19.139 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5543±0.0739
2026-02-16 23:14:19.139 | INFO     | __main__:phase4_distance_metrics:738 -   [mental_health_conditions] Phase 4 done in 0.2s
2026-02-16 23:14:19.140 | INFO     | __main__:main:1171 -   [mental_health_conditions] Optimal k=10 (AUC=0.5219)
2026-02-16 23:14:19.141 | INFO     | __main__:phase5_alternative_formulations:754 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=10)
2026-02-16 23:14:19.210 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5219, RBO AUC=0.5020, WJ AUC=0.5400
2026-02-16 23:14:19.217 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4536
2026-02-16 23:14:19.224 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5324
2026-02-16 23:14:19.231 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5184
2026-02-16 23:14:19.231 | INFO     | __main__:phase5_alternative_formulations:810 -   [mental_health_conditions] Phase 5 done in 0.1s
2026-02-16 23:14:19.231 | INFO     | __main__:phase6_confound_analysis:829 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 23:14:19.306 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0358, p=0.7234
2026-02-16 23:14:19.311 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0827, p=0.4155
2026-02-16 23:14:19.314 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0692, p=0.4962
2026-02-16 23:14:19.317 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0585, p=0.5649
2026-02-16 23:14:19.320 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0615, p=0.5495
2026-02-16 23:14:19.320 | INFO     | __main__:phase6_confound_analysis:989 -   [mental_health_conditions] Phase 6 done in 0.1s
2026-02-16 23:14:19.320 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 23:14:19.350 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4821±0.0473
2026-02-16 23:14:19.376 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5311±0.0926
2026-02-16 23:14:19.386 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4089±0.0809
2026-02-16 23:14:19.393 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5120±0.1187
2026-02-16 23:14:19.393 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mental_health_conditions] Baseline done in 0.1s
2026-02-16 23:14:19.645 | INFO     | __main__:main:1351 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:14:19.681 | INFO     | __main__:main:1354 - Output: 0.8 MB
2026-02-16 23:14:19.681 | INFO     | __main__:main:1357 - ======================================================================
2026-02-16 23:14:19.681 | INFO     | __main__:main:1358 - SUMMARY
2026-02-16 23:14:19.681 | INFO     | __main__:main:1359 - ======================================================================
2026-02-16 23:14:19.681 | INFO     | __main__:main:1360 - Total runtime: 158.4s
2026-02-16 23:14:19.681 | INFO     | __main__:main:1361 - Optimal k: 5 (mean AUC=0.5385)
2026-02-16 23:14:19.681 | INFO     | __main__:main:1362 - PCA stability threshold: d=10
2026-02-16 23:14:19.682 | INFO     | __main__:main:1363 - Best formulation: jaccard (mean AUC=0.5651)
2026-02-16 23:14:19.682 | INFO     | __main__:main:1364 - Most informative pair: sentence_transformer_vs_llm_zeroshot (mean AUC=0.5419)
2026-02-16 23:14:19.682 | INFO     | __main__:main:1365 - LLM calls: 50, cost: $0.0008
2026-02-16 23:14:19.682 | INFO     | __main__:main:1368 -   medical_abstracts: 54.0s total
2026-02-16 23:14:19.682 | INFO     | __main__:main:1368 -   mimic_iv_ed_demo: 26.9s total
2026-02-16 23:14:19.682 | INFO     | __main__:main:1368 -   clinical_patient_triage_nl: 25.5s total
2026-02-16 23:14:19.682 | INFO     | __main__:main:1368 -   ohsumed_single: 12.7s total
2026-02-16 23:14:19.682 | INFO     | __main__:main:1368 -   mental_health_conditions: 37.9s total
2026-02-16 23:14:19.682 | INFO     | __main__:main:1369 - Done!
2026-02-16 23:14:35.718 | INFO     | __main__:main:1060 - ======================================================================
2026-02-16 23:14:35.718 | INFO     | __main__:main:1061 - CRND Ablation & Robustness Analysis
2026-02-16 23:14:35.718 | INFO     | __main__:main:1062 - ======================================================================
2026-02-16 23:14:35.718 | INFO     | __main__:main:1063 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:14:35.718 | INFO     | __main__:main:1064 - Max examples per dataset: 200
2026-02-16 23:14:35.719 | INFO     | __main__:main:1065 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:14:35.719 | INFO     | __main__:main:1066 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 23:14:35.719 | INFO     | __main__:main:1067 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 23:14:35.719 | INFO     | __main__:main:1068 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 23:14:35.719 | INFO     | __main__:main:1069 - Noise rate: 0.1, Seeds: 5
2026-02-16 23:14:35.719 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:14:36.375 | INFO     | __main__:load_data:295 -   medical_abstracts: 200 examples, 5 classes, dist={"Cardiovascular_diseases": 49, "Digestive_system_diseases": 18, "General_pathological_conditions": 61, "Neoplasms": 50, "Nervous_system_diseases": 22}
2026-02-16 23:14:36.376 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 200 examples, 4 classes, dist={"ESI-1": 18, "ESI-2": 97, "ESI-3": 83, "ESI-4": 2}
2026-02-16 23:14:36.376 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 31 examples, 6 classes, dist={"Critical": 3, "High": 7, "Low": 6, "Mild": 1, "Moderate": 11, "Routine": 3}
2026-02-16 23:14:36.376 | INFO     | __main__:load_data:295 -   ohsumed_single: 200 examples, 4 classes, dist={"Bacterial_Infections_and_Mycoses": 114, "Neoplasms": 40, "Parasitic_Diseases": 21, "Virus_Diseases": 25}
2026-02-16 23:14:36.376 | INFO     | __main__:load_data:295 -   mental_health_conditions: 200 examples, 7 classes, dist={"anxiety": 40, "bipolar": 28, "depression": 37, "normal": 28, "personality disorder": 20, "stress": 25, "suicidal": 22}
2026-02-16 23:14:36.385 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:14:36.386 | INFO     | __main__:main:1094 - Processing dataset: medical_abstracts
2026-02-16 23:14:36.386 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:14:36.386 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 23:14:36.474 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (200, 2000)
2026-02-16 23:14:36.474 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 23:14:47.861 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (200, 384)
2026-02-16 23:14:47.862 | INFO     | __main__:build_feature_spaces:363 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 23:14:47.904 | INFO     | __main__:_try_openrouter_features:457 -   [medical_abstracts] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:14:50.250 | DEBUG    | __main__:_try_openrouter_features:485 -   [medical_abstracts] LLM call 0 failed, keeping simulated
2026-02-16 23:15:14.983 | INFO     | __main__:_try_openrouter_features:488 -   [medical_abstracts] LLM: 9/10 successful, total cost: $0.0002, calls: 10
2026-02-16 23:15:14.984 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (200, 5)
2026-02-16 23:15:14.984 | INFO     | __main__:build_feature_spaces:404 -   [medical_abstracts] Feature construction done in 38.6s
2026-02-16 23:15:14.984 | INFO     | __main__:phase2_k_sensitivity:506 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 23:15:15.092 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4676±0.0592, CRND=0.9109±0.0654
2026-02-16 23:15:15.145 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4627±0.0798, CRND=0.8904±0.0602
2026-02-16 23:15:15.197 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4472±0.0717, CRND=0.8696±0.0640
2026-02-16 23:15:15.253 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4521±0.0723, CRND=0.8506±0.0656
2026-02-16 23:15:15.306 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4213±0.0788, CRND=0.8188±0.0700
2026-02-16 23:15:15.360 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4213±0.0620, CRND=0.7541±0.0688
2026-02-16 23:15:15.360 | INFO     | __main__:phase2_k_sensitivity:538 -   [medical_abstracts] Phase 2 done in 0.4s
2026-02-16 23:15:15.360 | INFO     | __main__:phase3_pca_dimensionality:591 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:15:15.360 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:15:15.691 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.028, mean_D=0.600
2026-02-16 23:15:16.493 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.040, mean_D=0.549
2026-02-16 23:15:16.592 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.061, mean_D=0.676
2026-02-16 23:15:16.673 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.106, mean_D=0.673
2026-02-16 23:15:16.742 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.186, mean_D=0.742
2026-02-16 23:15:16.744 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:15:16.777 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.106, mean_D=0.556
2026-02-16 23:15:17.423 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.144, mean_D=0.431
2026-02-16 23:15:17.493 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.211, mean_D=0.592
2026-02-16 23:15:17.566 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.327, mean_D=0.663
2026-02-16 23:15:17.756 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.481, mean_D=0.723
2026-02-16 23:15:17.758 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:15:17.801 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.728, mean_D=0.184
2026-02-16 23:15:18.733 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.918, mean_D=0.077
2026-02-16 23:15:18.816 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.153
2026-02-16 23:15:18.818 | INFO     | __main__:phase3_pca_dimensionality:691 -   [medical_abstracts] Phase 3 done in 3.5s
2026-02-16 23:15:18.819 | INFO     | __main__:phase4_distance_metrics:706 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 23:15:18.819 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:15:18.925 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4627±0.0798
2026-02-16 23:15:18.926 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:15:18.951 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4656±0.0797
2026-02-16 23:15:18.952 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:15:19.069 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5057±0.0297
2026-02-16 23:15:19.069 | INFO     | __main__:phase4_distance_metrics:738 -   [medical_abstracts] Phase 4 done in 0.3s
2026-02-16 23:15:19.070 | INFO     | __main__:main:1171 -   [medical_abstracts] Optimal k=5 (AUC=0.4676)
2026-02-16 23:15:19.070 | INFO     | __main__:phase5_alternative_formulations:754 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:15:19.125 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.4676, RBO AUC=0.4741, WJ AUC=0.4588
2026-02-16 23:15:19.134 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4849
2026-02-16 23:15:19.141 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4879
2026-02-16 23:15:19.149 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4588
2026-02-16 23:15:19.149 | INFO     | __main__:phase5_alternative_formulations:810 -   [medical_abstracts] Phase 5 done in 0.1s
2026-02-16 23:15:19.149 | INFO     | __main__:phase6_confound_analysis:829 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 23:15:19.200 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0523, p=0.4621
2026-02-16 23:15:19.606 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0803, p=0.2598
2026-02-16 23:15:19.609 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0546, p=0.4436
2026-02-16 23:15:19.611 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0509, p=0.4753
2026-02-16 23:15:19.614 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0814, p=0.2556
2026-02-16 23:15:19.614 | INFO     | __main__:phase6_confound_analysis:989 -   [medical_abstracts] Phase 6 done in 0.5s
2026-02-16 23:15:19.614 | INFO     | __main__:baseline_single_space_crnd:1009 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 23:15:19.638 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4452±0.0423
2026-02-16 23:15:19.648 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4923±0.0314
2026-02-16 23:15:19.656 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.5437±0.0564
2026-02-16 23:15:19.663 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4778±0.0813
2026-02-16 23:15:19.664 | INFO     | __main__:baseline_single_space_crnd:1043 -   [medical_abstracts] Baseline done in 0.0s
2026-02-16 23:15:19.813 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:15:19.814 | INFO     | __main__:main:1094 - Processing dataset: mimic_iv_ed_demo
2026-02-16 23:15:19.814 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:15:19.814 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 23:15:19.821 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (200, 537)
2026-02-16 23:15:19.821 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 23:15:20.818 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (200, 384)
2026-02-16 23:15:20.818 | INFO     | __main__:build_feature_spaces:363 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 23:15:20.825 | INFO     | __main__:_try_openrouter_features:457 -   [mimic_iv_ed_demo] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:15:22.045 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 23:15:24.261 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 23:15:25.242 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 23:15:31.080 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 23:15:37.547 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 23:15:41.574 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 23:15:43.254 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 6 failed, keeping simulated
2026-02-16 23:15:44.197 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 23:15:45.999 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 8 failed, keeping simulated
2026-02-16 23:15:49.877 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 23:15:49.877 | INFO     | __main__:_try_openrouter_features:488 -   [mimic_iv_ed_demo] LLM: 0/10 successful, total cost: $0.0004, calls: 20
2026-02-16 23:15:49.877 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (200, 4)
2026-02-16 23:15:49.877 | INFO     | __main__:build_feature_spaces:404 -   [mimic_iv_ed_demo] Feature construction done in 30.1s
2026-02-16 23:15:49.878 | INFO     | __main__:phase2_k_sensitivity:506 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 23:15:49.903 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5776±0.0368, CRND=0.9259±0.0609
2026-02-16 23:15:49.938 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5674±0.0534, CRND=0.9108±0.0578
2026-02-16 23:15:49.963 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5877±0.0482, CRND=0.8958±0.0593
2026-02-16 23:15:49.987 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5628±0.0519, CRND=0.8777±0.0586
2026-02-16 23:15:50.012 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5699±0.0601, CRND=0.8488±0.0535
2026-02-16 23:15:50.042 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5728±0.0698, CRND=0.7889±0.0453
2026-02-16 23:15:50.042 | INFO     | __main__:phase2_k_sensitivity:538 -   [mimic_iv_ed_demo] Phase 2 done in 0.2s
2026-02-16 23:15:50.042 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:15:50.042 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:15:50.311 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.050, mean_D=0.701
2026-02-16 23:15:50.582 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.074, mean_D=0.615
2026-02-16 23:15:50.612 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.114, mean_D=0.695
2026-02-16 23:15:50.641 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.200, mean_D=0.710
2026-02-16 23:15:50.667 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.327, mean_D=0.697
2026-02-16 23:15:50.669 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:15:50.698 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.162, mean_D=0.630
2026-02-16 23:15:51.011 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.223, mean_D=0.496
2026-02-16 23:15:51.042 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.333, mean_D=0.646
2026-02-16 23:15:51.068 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.509, mean_D=0.676
2026-02-16 23:15:51.095 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.688, mean_D=0.708
2026-02-16 23:15:51.098 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:15:51.106 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.879, mean_D=0.263
2026-02-16 23:15:51.429 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=1.000, mean_D=0.124
2026-02-16 23:15:51.430 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mimic_iv_ed_demo] Phase 3 done in 1.4s
2026-02-16 23:15:51.430 | INFO     | __main__:phase4_distance_metrics:706 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 23:15:51.430 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:15:51.497 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5674±0.0534
2026-02-16 23:15:51.498 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:15:51.523 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5713±0.0550
2026-02-16 23:15:51.523 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:15:51.620 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5617±0.0633
2026-02-16 23:15:51.620 | INFO     | __main__:phase4_distance_metrics:738 -   [mimic_iv_ed_demo] Phase 4 done in 0.2s
2026-02-16 23:15:51.620 | INFO     | __main__:main:1171 -   [mimic_iv_ed_demo] Optimal k=15 (AUC=0.5877)
2026-02-16 23:15:51.620 | INFO     | __main__:phase5_alternative_formulations:754 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=15)
2026-02-16 23:15:51.711 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5877, RBO AUC=0.5742, WJ AUC=0.5736
2026-02-16 23:15:51.721 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5776
2026-02-16 23:15:51.729 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5138
2026-02-16 23:15:51.736 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5695
2026-02-16 23:15:51.736 | INFO     | __main__:phase5_alternative_formulations:810 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 23:15:51.737 | INFO     | __main__:phase6_confound_analysis:829 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 23:15:51.767 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0263, p=0.7118
2026-02-16 23:15:51.771 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0277, p=0.6976
2026-02-16 23:15:51.775 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0160, p=0.8229
2026-02-16 23:15:51.778 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0381, p=0.5935
2026-02-16 23:15:51.781 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0360, p=0.6152
2026-02-16 23:15:51.782 | INFO     | __main__:phase6_confound_analysis:989 -   [mimic_iv_ed_demo] Phase 6 done in 0.0s
2026-02-16 23:15:51.782 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 23:15:51.799 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5133±0.0430
2026-02-16 23:15:51.814 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5335±0.0411
2026-02-16 23:15:51.824 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4781±0.0613
2026-02-16 23:15:51.832 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4778±0.0813
2026-02-16 23:15:51.832 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mimic_iv_ed_demo] Baseline done in 0.0s
2026-02-16 23:15:51.949 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:15:51.949 | INFO     | __main__:main:1094 - Processing dataset: clinical_patient_triage_nl
2026-02-16 23:15:51.949 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:15:51.949 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 23:15:51.953 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (31, 37)
2026-02-16 23:15:51.954 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 23:15:52.097 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (31, 384)
2026-02-16 23:15:52.097 | INFO     | __main__:build_feature_spaces:363 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 23:15:52.099 | INFO     | __main__:_try_openrouter_features:457 -   [clinical_patient_triage_nl] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:15:55.558 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 1 failed, keeping simulated
2026-02-16 23:15:59.380 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 2 failed, keeping simulated
2026-02-16 23:16:09.469 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 6 failed, keeping simulated
2026-02-16 23:16:14.847 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 23:16:19.564 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 23:16:19.564 | INFO     | __main__:_try_openrouter_features:488 -   [clinical_patient_triage_nl] LLM: 5/10 successful, total cost: $0.0005, calls: 30
2026-02-16 23:16:19.564 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (31, 6)
2026-02-16 23:16:19.565 | INFO     | __main__:build_feature_spaces:404 -   [clinical_patient_triage_nl] Feature construction done in 27.6s
2026-02-16 23:16:19.565 | INFO     | __main__:phase2_k_sensitivity:506 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 23:16:19.575 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.6155±0.1716, CRND=0.8498±0.0893
2026-02-16 23:16:19.586 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5595±0.1364, CRND=0.7343±0.0792
2026-02-16 23:16:19.597 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4107±0.1279, CRND=0.6282±0.0563
2026-02-16 23:16:19.613 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4238±0.1436, CRND=0.4745±0.0490
2026-02-16 23:16:19.630 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4667±0.1476, CRND=0.0083±0.0170
2026-02-16 23:16:19.631 | INFO     | __main__:phase2_k_sensitivity:512 -     k=50 >= N=31, skipping
2026-02-16 23:16:19.631 | INFO     | __main__:phase2_k_sensitivity:538 -   [clinical_patient_triage_nl] Phase 2 done in 0.1s
2026-02-16 23:16:19.631 | INFO     | __main__:phase3_pca_dimensionality:591 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:16:19.631 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:16:19.641 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.280, mean_D=0.145
2026-02-16 23:16:19.683 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.358, mean_D=0.267
2026-02-16 23:16:19.716 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.498, mean_D=0.268
2026-02-16 23:16:19.742 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.752, mean_D=0.432
2026-02-16 23:16:19.767 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.981, mean_D=0.377
2026-02-16 23:16:19.769 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:16:19.780 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.172, mean_D=0.362
2026-02-16 23:16:19.820 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.236, mean_D=0.692
2026-02-16 23:16:19.847 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.350, mean_D=0.545
2026-02-16 23:16:19.880 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.575, mean_D=0.503
2026-02-16 23:16:19.929 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.860, mean_D=0.434
2026-02-16 23:16:19.931 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:16:19.946 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.747, mean_D=0.110
2026-02-16 23:16:20.010 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.915, mean_D=0.066
2026-02-16 23:16:20.035 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.060
2026-02-16 23:16:20.037 | INFO     | __main__:phase3_pca_dimensionality:691 -   [clinical_patient_triage_nl] Phase 3 done in 0.4s
2026-02-16 23:16:20.037 | INFO     | __main__:phase4_distance_metrics:706 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 23:16:20.037 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:16:20.142 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5595±0.1364
2026-02-16 23:16:20.143 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:16:20.153 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5119±0.1257
2026-02-16 23:16:20.154 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:16:20.168 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4631±0.1020
2026-02-16 23:16:20.169 | INFO     | __main__:phase4_distance_metrics:738 -   [clinical_patient_triage_nl] Phase 4 done in 0.1s
2026-02-16 23:16:20.169 | INFO     | __main__:main:1171 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.6155)
2026-02-16 23:16:20.169 | INFO     | __main__:phase5_alternative_formulations:754 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:16:20.201 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.6155, RBO AUC=0.5274, WJ AUC=0.5929
2026-02-16 23:16:20.208 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5452
2026-02-16 23:16:20.215 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6179
2026-02-16 23:16:20.221 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5310
2026-02-16 23:16:20.221 | INFO     | __main__:phase5_alternative_formulations:810 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 23:16:20.221 | INFO     | __main__:phase6_confound_analysis:829 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 23:16:20.233 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=-0.0062, p=0.9737
2026-02-16 23:16:20.236 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.0311, p=0.8705
2026-02-16 23:16:20.239 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=-0.0061, p=0.9746
2026-02-16 23:16:20.242 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0022, p=0.9909
2026-02-16 23:16:20.245 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0567, p=0.7744
2026-02-16 23:16:20.245 | INFO     | __main__:phase6_confound_analysis:989 -   [clinical_patient_triage_nl] Phase 6 done in 0.0s
2026-02-16 23:16:20.245 | INFO     | __main__:baseline_single_space_crnd:1009 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 23:16:20.254 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5179±0.0818
2026-02-16 23:16:20.264 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.6905±0.1448
2026-02-16 23:16:20.272 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.3393±0.1222
2026-02-16 23:16:20.279 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4857±0.1744
2026-02-16 23:16:20.279 | INFO     | __main__:baseline_single_space_crnd:1043 -   [clinical_patient_triage_nl] Baseline done in 0.0s
2026-02-16 23:16:20.319 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:16:20.319 | INFO     | __main__:main:1094 - Processing dataset: ohsumed_single
2026-02-16 23:16:20.319 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:16:20.319 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 23:16:20.388 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (200, 2000)
2026-02-16 23:16:20.388 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 23:16:24.639 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (200, 384)
2026-02-16 23:16:24.640 | INFO     | __main__:build_feature_spaces:363 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 23:16:24.650 | INFO     | __main__:_try_openrouter_features:457 -   [ohsumed_single] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:16:50.209 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 9 failed, keeping simulated
2026-02-16 23:16:50.210 | INFO     | __main__:_try_openrouter_features:488 -   [ohsumed_single] LLM: 9/10 successful, total cost: $0.0007, calls: 40
2026-02-16 23:16:50.210 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (200, 4)
2026-02-16 23:16:50.210 | INFO     | __main__:build_feature_spaces:404 -   [ohsumed_single] Feature construction done in 29.9s
2026-02-16 23:16:50.210 | INFO     | __main__:phase2_k_sensitivity:506 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 23:16:50.266 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5373±0.0403, CRND=0.8443±0.1203
2026-02-16 23:16:50.323 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5289±0.0792, CRND=0.8346±0.0901
2026-02-16 23:16:50.376 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5405±0.0907, CRND=0.8194±0.0821
2026-02-16 23:16:50.424 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5195±0.0819, CRND=0.8082±0.0807
2026-02-16 23:16:50.480 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5394±0.0884, CRND=0.7824±0.0771
2026-02-16 23:16:50.535 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5259±0.0963, CRND=0.7340±0.0616
2026-02-16 23:16:50.535 | INFO     | __main__:phase2_k_sensitivity:538 -   [ohsumed_single] Phase 2 done in 0.3s
2026-02-16 23:16:50.535 | INFO     | __main__:phase3_pca_dimensionality:591 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:16:50.535 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:16:51.685 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.030, mean_D=0.541
2026-02-16 23:16:52.569 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.044, mean_D=0.425
2026-02-16 23:16:52.854 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.070, mean_D=0.516
2026-02-16 23:16:53.089 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.121, mean_D=0.576
2026-02-16 23:16:53.233 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.206, mean_D=0.637
2026-02-16 23:16:53.235 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:16:53.319 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.111, mean_D=0.345
2026-02-16 23:16:54.045 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.157, mean_D=0.268
2026-02-16 23:16:54.745 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.230, mean_D=0.504
2026-02-16 23:16:55.455 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.348, mean_D=0.573
2026-02-16 23:16:56.033 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.504, mean_D=0.665
2026-02-16 23:16:56.036 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:16:56.303 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.845, mean_D=0.119
2026-02-16 23:16:57.090 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=1.000, mean_D=0.005
2026-02-16 23:16:57.091 | INFO     | __main__:phase3_pca_dimensionality:691 -   [ohsumed_single] Phase 3 done in 6.6s
2026-02-16 23:16:57.091 | INFO     | __main__:phase4_distance_metrics:706 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 23:16:57.092 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:16:57.189 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5289±0.0792
2026-02-16 23:16:57.190 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:16:57.370 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5259±0.0782
2026-02-16 23:16:57.371 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:16:57.507 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5406±0.1121
2026-02-16 23:16:57.508 | INFO     | __main__:phase4_distance_metrics:738 -   [ohsumed_single] Phase 4 done in 0.4s
2026-02-16 23:16:57.508 | INFO     | __main__:main:1171 -   [ohsumed_single] Optimal k=15 (AUC=0.5405)
2026-02-16 23:16:57.508 | INFO     | __main__:phase5_alternative_formulations:754 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=15)
2026-02-16 23:16:57.610 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5405, RBO AUC=0.5438, WJ AUC=0.5434
2026-02-16 23:16:57.620 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5042
2026-02-16 23:16:57.628 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5739
2026-02-16 23:16:57.636 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5414
2026-02-16 23:16:57.636 | INFO     | __main__:phase5_alternative_formulations:810 -   [ohsumed_single] Phase 5 done in 0.1s
2026-02-16 23:16:57.636 | INFO     | __main__:phase6_confound_analysis:829 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 23:16:57.745 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.1023, p=0.1493
2026-02-16 23:16:57.749 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0684, p=0.3369
2026-02-16 23:16:57.752 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0932, p=0.1902
2026-02-16 23:16:57.755 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.1037, p=0.1450
2026-02-16 23:16:57.757 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0410, p=0.5675
2026-02-16 23:16:57.758 | INFO     | __main__:phase6_confound_analysis:989 -   [ohsumed_single] Phase 6 done in 0.1s
2026-02-16 23:16:57.758 | INFO     | __main__:baseline_single_space_crnd:1009 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 23:16:57.787 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5418±0.0466
2026-02-16 23:16:57.814 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5422±0.0396
2026-02-16 23:16:57.822 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.5125±0.1018
2026-02-16 23:16:57.830 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4778±0.0813
2026-02-16 23:16:57.831 | INFO     | __main__:baseline_single_space_crnd:1043 -   [ohsumed_single] Baseline done in 0.1s
2026-02-16 23:16:58.260 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:16:58.260 | INFO     | __main__:main:1094 - Processing dataset: mental_health_conditions
2026-02-16 23:16:58.260 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:16:58.260 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 23:16:58.295 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (200, 1291)
2026-02-16 23:16:58.295 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 23:17:05.512 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (200, 384)
2026-02-16 23:17:05.512 | INFO     | __main__:build_feature_spaces:363 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 23:17:05.525 | INFO     | __main__:_try_openrouter_features:457 -   [mental_health_conditions] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:17:08.949 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 23:17:12.869 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 2 failed, keeping simulated
2026-02-16 23:17:23.110 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 5 failed, keeping simulated
2026-02-16 23:17:25.878 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 23:17:31.457 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 8 failed, keeping simulated
2026-02-16 23:17:33.421 | INFO     | __main__:_try_openrouter_features:488 -   [mental_health_conditions] LLM: 5/10 successful, total cost: $0.0009, calls: 50
2026-02-16 23:17:33.421 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (200, 7)
2026-02-16 23:17:33.422 | INFO     | __main__:build_feature_spaces:404 -   [mental_health_conditions] Feature construction done in 35.2s
2026-02-16 23:17:33.422 | INFO     | __main__:phase2_k_sensitivity:506 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 23:17:33.448 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4949±0.0654, CRND=0.9259±0.0745
2026-02-16 23:17:33.471 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4924±0.0591, CRND=0.8477±0.1240
2026-02-16 23:17:33.494 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4735±0.0728, CRND=0.8180±0.1216
2026-02-16 23:17:33.529 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4803±0.0603, CRND=0.7977±0.1224
2026-02-16 23:17:33.569 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4843±0.0332, CRND=0.7656±0.1062
2026-02-16 23:17:33.611 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5033±0.0280, CRND=0.7256±0.0883
2026-02-16 23:17:33.611 | INFO     | __main__:phase2_k_sensitivity:538 -   [mental_health_conditions] Phase 2 done in 0.2s
2026-02-16 23:17:33.612 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:17:33.612 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:17:33.963 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.050, mean_D=0.301
2026-02-16 23:17:35.054 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.069, mean_D=0.199
2026-02-16 23:17:35.208 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.101, mean_D=0.288
2026-02-16 23:17:35.357 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.157, mean_D=0.400
2026-02-16 23:17:35.494 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.248, mean_D=0.565
2026-02-16 23:17:35.496 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:17:35.550 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.157, mean_D=0.368
2026-02-16 23:17:36.642 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.203, mean_D=0.236
2026-02-16 23:17:36.789 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.279, mean_D=0.426
2026-02-16 23:17:36.966 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.395, mean_D=0.425
2026-02-16 23:17:37.164 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.536, mean_D=0.525
2026-02-16 23:17:37.166 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:17:37.232 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.520, mean_D=0.190
2026-02-16 23:17:38.534 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.715, mean_D=0.075
2026-02-16 23:17:38.673 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.959, mean_D=0.124
2026-02-16 23:17:38.674 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mental_health_conditions] Phase 3 done in 5.1s
2026-02-16 23:17:38.675 | INFO     | __main__:phase4_distance_metrics:706 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 23:17:38.676 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:17:38.777 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4924±0.0591
2026-02-16 23:17:38.777 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:17:38.800 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4718±0.0561
2026-02-16 23:17:38.801 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:17:38.920 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4712±0.0517
2026-02-16 23:17:38.920 | INFO     | __main__:phase4_distance_metrics:738 -   [mental_health_conditions] Phase 4 done in 0.2s
2026-02-16 23:17:38.920 | INFO     | __main__:main:1171 -   [mental_health_conditions] Optimal k=50 (AUC=0.5033)
2026-02-16 23:17:38.920 | INFO     | __main__:phase5_alternative_formulations:754 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=50)
2026-02-16 23:17:39.068 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5033, RBO AUC=0.4741, WJ AUC=0.4860
2026-02-16 23:17:39.081 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5240
2026-02-16 23:17:39.088 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4762
2026-02-16 23:17:39.095 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5069
2026-02-16 23:17:39.095 | INFO     | __main__:phase5_alternative_formulations:810 -   [mental_health_conditions] Phase 5 done in 0.2s
2026-02-16 23:17:39.095 | INFO     | __main__:phase6_confound_analysis:829 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 23:17:39.165 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0284, p=0.6894
2026-02-16 23:17:39.169 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0211, p=0.7675
2026-02-16 23:17:39.172 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0007, p=0.9922
2026-02-16 23:17:39.175 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0314, p=0.6601
2026-02-16 23:17:39.177 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0084, p=0.9065
2026-02-16 23:17:39.177 | INFO     | __main__:phase6_confound_analysis:989 -   [mental_health_conditions] Phase 6 done in 0.1s
2026-02-16 23:17:39.177 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 23:17:39.194 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4638±0.0184
2026-02-16 23:17:39.207 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4860±0.0319
2026-02-16 23:17:39.218 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.5482±0.0384
2026-02-16 23:17:39.225 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4778±0.0813
2026-02-16 23:17:39.226 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mental_health_conditions] Baseline done in 0.0s
2026-02-16 23:17:39.374 | INFO     | __main__:main:1351 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:17:39.421 | INFO     | __main__:main:1354 - Output: 1.6 MB
2026-02-16 23:17:39.422 | INFO     | __main__:main:1357 - ======================================================================
2026-02-16 23:17:39.422 | INFO     | __main__:main:1358 - SUMMARY
2026-02-16 23:17:39.422 | INFO     | __main__:main:1359 - ======================================================================
2026-02-16 23:17:39.422 | INFO     | __main__:main:1360 - Total runtime: 183.7s
2026-02-16 23:17:39.422 | INFO     | __main__:main:1361 - Optimal k: 5 (mean AUC=0.5386)
2026-02-16 23:17:39.422 | INFO     | __main__:main:1362 - PCA stability threshold: d=2
2026-02-16 23:17:39.422 | INFO     | __main__:main:1363 - Best formulation: jaccard (mean AUC=0.5429)
2026-02-16 23:17:39.423 | INFO     | __main__:main:1364 - Most informative pair: tfidf_vs_llm_zeroshot (mean AUC=0.5339)
2026-02-16 23:17:39.423 | INFO     | __main__:main:1365 - LLM calls: 50, cost: $0.0009
2026-02-16 23:17:39.423 | INFO     | __main__:main:1368 -   medical_abstracts: 43.3s total
2026-02-16 23:17:39.423 | INFO     | __main__:main:1368 -   mimic_iv_ed_demo: 32.0s total
2026-02-16 23:17:39.423 | INFO     | __main__:main:1368 -   clinical_patient_triage_nl: 28.3s total
2026-02-16 23:17:39.423 | INFO     | __main__:main:1368 -   ohsumed_single: 37.5s total
2026-02-16 23:17:39.423 | INFO     | __main__:main:1368 -   mental_health_conditions: 41.0s total
2026-02-16 23:17:39.423 | INFO     | __main__:main:1369 - Done!
2026-02-16 23:17:48.077 | INFO     | __main__:main:1060 - ======================================================================
2026-02-16 23:17:48.077 | INFO     | __main__:main:1061 - CRND Ablation & Robustness Analysis
2026-02-16 23:17:48.077 | INFO     | __main__:main:1062 - ======================================================================
2026-02-16 23:17:48.077 | INFO     | __main__:main:1063 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:17:48.077 | INFO     | __main__:main:1064 - Max examples per dataset: 1000
2026-02-16 23:17:48.078 | INFO     | __main__:main:1065 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:17:48.078 | INFO     | __main__:main:1066 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 23:17:48.078 | INFO     | __main__:main:1067 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 23:17:48.078 | INFO     | __main__:main:1068 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 23:17:48.078 | INFO     | __main__:main:1069 - Noise rate: 0.1, Seeds: 5
2026-02-16 23:17:48.078 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:17:48.742 | INFO     | __main__:load_data:295 -   medical_abstracts: 1000 examples, 5 classes, dist={"Cardiovascular_diseases": 223, "Digestive_system_diseases": 102, "General_pathological_conditions": 316, "Neoplasms": 227, "Nervous_system_diseases": 132}
2026-02-16 23:17:48.743 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 207 examples, 4 classes, dist={"ESI-1": 18, "ESI-2": 97, "ESI-3": 90, "ESI-4": 2}
2026-02-16 23:17:48.743 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 31 examples, 6 classes, dist={"Critical": 3, "High": 7, "Low": 6, "Mild": 1, "Moderate": 11, "Routine": 3}
2026-02-16 23:17:48.744 | INFO     | __main__:load_data:295 -   ohsumed_single: 1000 examples, 9 classes, dist={"Bacterial_Infections_and_Mycoses": 114, "Digestive_System_Diseases": 176, "Musculoskeletal_Diseases": 83, "Neoplasms": 430, "Otorhinolaryngologic_Diseases": 1, "Parasitic_Diseases": 21, "Respiratory
2026-02-16 23:17:48.744 | INFO     | __main__:load_data:295 -   mental_health_conditions: 1000 examples, 7 classes, dist={"anxiety": 176, "bipolar": 135, "depression": 167, "normal": 146, "personality disorder": 124, "stress": 138, "suicidal": 114}
2026-02-16 23:17:48.754 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:17:48.754 | INFO     | __main__:main:1094 - Processing dataset: medical_abstracts
2026-02-16 23:17:48.755 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:17:48.755 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 23:17:49.196 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (1000, 5000)
2026-02-16 23:17:49.196 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 23:18:34.881 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (1000, 384)
2026-02-16 23:18:34.881 | INFO     | __main__:build_feature_spaces:363 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 23:18:35.090 | INFO     | __main__:_try_openrouter_features:457 -   [medical_abstracts] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:18:57.999 | INFO     | __main__:_try_openrouter_features:488 -   [medical_abstracts] LLM: 10/10 successful, total cost: $0.0002, calls: 10
2026-02-16 23:18:58.000 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (1000, 5)
2026-02-16 23:18:58.000 | INFO     | __main__:build_feature_spaces:404 -   [medical_abstracts] Feature construction done in 69.2s
2026-02-16 23:18:58.000 | INFO     | __main__:phase2_k_sensitivity:506 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 23:18:58.318 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4961±0.0149, CRND=0.9159±0.0711
2026-02-16 23:18:58.559 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4949±0.0191, CRND=0.9072±0.0586
2026-02-16 23:18:58.775 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5026±0.0136, CRND=0.9029±0.0532
2026-02-16 23:18:59.010 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4950±0.0204, CRND=0.8968±0.0521
2026-02-16 23:18:59.232 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4962±0.0224, CRND=0.8863±0.0546
2026-02-16 23:18:59.497 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5001±0.0166, CRND=0.8670±0.0602
2026-02-16 23:18:59.497 | INFO     | __main__:phase2_k_sensitivity:538 -   [medical_abstracts] Phase 2 done in 1.5s
2026-02-16 23:18:59.497 | INFO     | __main__:phase3_pca_dimensionality:591 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:18:59.497 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:19:00.216 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.015, mean_D=0.555
2026-02-16 23:19:03.281 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.021, mean_D=0.516
2026-02-16 23:19:03.586 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.031, mean_D=0.696
2026-02-16 23:19:03.893 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.052, mean_D=0.719
2026-02-16 23:19:04.202 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.084, mean_D=0.755
2026-02-16 23:19:04.205 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:19:04.804 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.100, mean_D=0.529
2026-02-16 23:19:08.133 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.136, mean_D=0.395
2026-02-16 23:19:08.508 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.193, mean_D=0.562
2026-02-16 23:19:08.767 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.293, mean_D=0.614
2026-02-16 23:19:09.055 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.419, mean_D=0.721
2026-02-16 23:19:09.057 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:19:09.197 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.777, mean_D=0.388
2026-02-16 23:19:13.269 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.933, mean_D=0.259
2026-02-16 23:19:13.578 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.316
2026-02-16 23:19:13.580 | INFO     | __main__:phase3_pca_dimensionality:691 -   [medical_abstracts] Phase 3 done in 14.1s
2026-02-16 23:19:13.580 | INFO     | __main__:phase4_distance_metrics:706 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 23:19:13.581 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:19:13.829 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4949±0.0191
2026-02-16 23:19:13.829 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:19:13.963 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4957±0.0212
2026-02-16 23:19:13.964 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:19:15.840 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4989±0.0434
2026-02-16 23:19:15.840 | INFO     | __main__:phase4_distance_metrics:738 -   [medical_abstracts] Phase 4 done in 2.3s
2026-02-16 23:19:15.840 | INFO     | __main__:main:1171 -   [medical_abstracts] Optimal k=15 (AUC=0.5026)
2026-02-16 23:19:15.841 | INFO     | __main__:phase5_alternative_formulations:754 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=15)
2026-02-16 23:19:16.216 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5026, RBO AUC=0.4890, WJ AUC=0.4876
2026-02-16 23:19:16.235 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4998
2026-02-16 23:19:16.242 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5052
2026-02-16 23:19:16.250 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4967
2026-02-16 23:19:16.250 | INFO     | __main__:phase5_alternative_formulations:810 -   [medical_abstracts] Phase 5 done in 0.4s
2026-02-16 23:19:16.250 | INFO     | __main__:phase6_confound_analysis:829 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 23:19:16.701 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0133, p=0.6740
2026-02-16 23:19:17.156 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0047, p=0.8833
2026-02-16 23:19:17.160 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0147, p=0.6433
2026-02-16 23:19:17.164 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0146, p=0.6446
2026-02-16 23:19:17.167 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0007, p=0.9835
2026-02-16 23:19:17.167 | INFO     | __main__:phase6_confound_analysis:989 -   [medical_abstracts] Phase 6 done in 0.9s
2026-02-16 23:19:17.168 | INFO     | __main__:baseline_single_space_crnd:1009 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 23:19:17.333 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5086±0.0130
2026-02-16 23:19:17.357 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5116±0.0159
2026-02-16 23:19:17.371 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4917±0.0266
2026-02-16 23:19:17.378 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5018±0.0172
2026-02-16 23:19:17.379 | INFO     | __main__:baseline_single_space_crnd:1043 -   [medical_abstracts] Baseline done in 0.2s
2026-02-16 23:19:20.081 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:19:20.081 | INFO     | __main__:main:1094 - Processing dataset: mimic_iv_ed_demo
2026-02-16 23:19:20.082 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:19:20.082 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 23:19:20.088 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (207, 553)
2026-02-16 23:19:20.089 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 23:19:21.954 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (207, 384)
2026-02-16 23:19:21.954 | INFO     | __main__:build_feature_spaces:363 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 23:19:21.967 | INFO     | __main__:_try_openrouter_features:457 -   [mimic_iv_ed_demo] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:19:23.654 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 23:19:28.070 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 23:19:29.938 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 23:19:35.549 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 23:19:39.448 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 23:19:41.275 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 23:19:44.993 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 6 failed, keeping simulated
2026-02-16 23:19:49.330 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 23:19:50.859 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 8 failed, keeping simulated
2026-02-16 23:19:56.142 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 23:19:56.142 | INFO     | __main__:_try_openrouter_features:488 -   [mimic_iv_ed_demo] LLM: 0/10 successful, total cost: $0.0004, calls: 20
2026-02-16 23:19:56.142 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (207, 4)
2026-02-16 23:19:56.142 | INFO     | __main__:build_feature_spaces:404 -   [mimic_iv_ed_demo] Feature construction done in 36.1s
2026-02-16 23:19:56.144 | INFO     | __main__:phase2_k_sensitivity:506 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 23:19:56.171 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5176±0.0826, CRND=0.9289±0.0575
2026-02-16 23:19:56.192 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5125±0.0884, CRND=0.9119±0.0567
2026-02-16 23:19:56.213 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4957±0.0692, CRND=0.8979±0.0594
2026-02-16 23:19:56.239 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4663±0.0663, CRND=0.8809±0.0578
2026-02-16 23:19:56.272 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4974±0.0834, CRND=0.8525±0.0544
2026-02-16 23:19:56.296 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4862±0.0842, CRND=0.7963±0.0445
2026-02-16 23:19:56.297 | INFO     | __main__:phase2_k_sensitivity:538 -   [mimic_iv_ed_demo] Phase 2 done in 0.2s
2026-02-16 23:19:56.297 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:19:56.297 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:19:56.546 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.049, mean_D=0.676
2026-02-16 23:19:56.842 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.072, mean_D=0.583
2026-02-16 23:19:56.869 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.113, mean_D=0.702
2026-02-16 23:19:56.909 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.197, mean_D=0.695
2026-02-16 23:19:56.948 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.324, mean_D=0.747
2026-02-16 23:19:56.950 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:19:56.972 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.163, mean_D=0.620
2026-02-16 23:19:57.287 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.222, mean_D=0.494
2026-02-16 23:19:57.320 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.333, mean_D=0.625
2026-02-16 23:19:57.347 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.506, mean_D=0.666
2026-02-16 23:19:57.377 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.686, mean_D=0.722
2026-02-16 23:19:57.379 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:19:57.388 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.879, mean_D=0.272
2026-02-16 23:19:57.714 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=1.000, mean_D=0.125
2026-02-16 23:19:57.715 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mimic_iv_ed_demo] Phase 3 done in 1.4s
2026-02-16 23:19:57.716 | INFO     | __main__:phase4_distance_metrics:706 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 23:19:57.716 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:19:57.758 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5125±0.0884
2026-02-16 23:19:57.759 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:19:57.778 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5118±0.0863
2026-02-16 23:19:57.779 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:19:57.871 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5098±0.0773
2026-02-16 23:19:57.872 | INFO     | __main__:phase4_distance_metrics:738 -   [mimic_iv_ed_demo] Phase 4 done in 0.2s
2026-02-16 23:19:57.872 | INFO     | __main__:main:1171 -   [mimic_iv_ed_demo] Optimal k=5 (AUC=0.5176)
2026-02-16 23:19:57.872 | INFO     | __main__:phase5_alternative_formulations:754 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:19:57.932 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5176, RBO AUC=0.5503, WJ AUC=0.5352
2026-02-16 23:19:57.944 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4948
2026-02-16 23:19:57.952 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5114
2026-02-16 23:19:57.960 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5305
2026-02-16 23:19:57.960 | INFO     | __main__:phase5_alternative_formulations:810 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 23:19:57.961 | INFO     | __main__:phase6_confound_analysis:829 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 23:19:57.984 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=-0.0855, p=0.2206
2026-02-16 23:19:57.987 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.0717, p=0.3056
2026-02-16 23:19:57.990 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=-0.0725, p=0.3001
2026-02-16 23:19:57.994 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=-0.0644, p=0.3581
2026-02-16 23:19:57.997 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0494, p=0.4831
2026-02-16 23:19:57.997 | INFO     | __main__:phase6_confound_analysis:989 -   [mimic_iv_ed_demo] Phase 6 done in 0.0s
2026-02-16 23:19:57.997 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 23:19:58.018 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4766±0.0775
2026-02-16 23:19:58.041 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4990±0.0439
2026-02-16 23:19:58.050 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4916±0.0305
2026-02-16 23:19:58.058 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5225±0.0718
2026-02-16 23:19:58.058 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mimic_iv_ed_demo] Baseline done in 0.1s
2026-02-16 23:19:58.179 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:19:58.179 | INFO     | __main__:main:1094 - Processing dataset: clinical_patient_triage_nl
2026-02-16 23:19:58.179 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:19:58.179 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 23:19:58.182 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (31, 37)
2026-02-16 23:19:58.183 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 23:19:58.324 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (31, 384)
2026-02-16 23:19:58.325 | INFO     | __main__:build_feature_spaces:363 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 23:19:58.328 | INFO     | __main__:_try_openrouter_features:457 -   [clinical_patient_triage_nl] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:20:05.677 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 0 failed, keeping simulated
2026-02-16 23:20:14.239 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 2 failed, keeping simulated
2026-02-16 23:20:15.676 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 3 failed, keeping simulated
2026-02-16 23:20:24.635 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 23:20:28.331 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 23:20:28.331 | INFO     | __main__:_try_openrouter_features:488 -   [clinical_patient_triage_nl] LLM: 5/10 successful, total cost: $0.0005, calls: 30
2026-02-16 23:20:28.331 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (31, 6)
2026-02-16 23:20:28.331 | INFO     | __main__:build_feature_spaces:404 -   [clinical_patient_triage_nl] Feature construction done in 30.2s
2026-02-16 23:20:28.332 | INFO     | __main__:phase2_k_sensitivity:506 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 23:20:28.343 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.6333±0.1245, CRND=0.8638±0.0729
2026-02-16 23:20:28.355 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5595±0.0549, CRND=0.7455±0.0839
2026-02-16 23:20:28.369 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4345±0.1166, CRND=0.6378±0.0682
2026-02-16 23:20:28.381 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4440±0.1832, CRND=0.4781±0.0456
2026-02-16 23:20:28.396 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4845±0.1476, CRND=0.0069±0.0158
2026-02-16 23:20:28.396 | INFO     | __main__:phase2_k_sensitivity:512 -     k=50 >= N=31, skipping
2026-02-16 23:20:28.397 | INFO     | __main__:phase2_k_sensitivity:538 -   [clinical_patient_triage_nl] Phase 2 done in 0.1s
2026-02-16 23:20:28.397 | INFO     | __main__:phase3_pca_dimensionality:591 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:20:28.397 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:20:28.409 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.280, mean_D=0.145
2026-02-16 23:20:28.450 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.358, mean_D=0.267
2026-02-16 23:20:28.484 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.498, mean_D=0.268
2026-02-16 23:20:28.515 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.752, mean_D=0.432
2026-02-16 23:20:28.543 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.981, mean_D=0.377
2026-02-16 23:20:28.545 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:20:28.555 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.172, mean_D=0.362
2026-02-16 23:20:28.602 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.236, mean_D=0.692
2026-02-16 23:20:28.629 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.350, mean_D=0.545
2026-02-16 23:20:28.655 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.575, mean_D=0.503
2026-02-16 23:20:28.687 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.860, mean_D=0.434
2026-02-16 23:20:28.689 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:20:28.697 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.779, mean_D=0.134
2026-02-16 23:20:28.767 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.919, mean_D=0.074
2026-02-16 23:20:28.792 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.101
2026-02-16 23:20:28.794 | INFO     | __main__:phase3_pca_dimensionality:691 -   [clinical_patient_triage_nl] Phase 3 done in 0.4s
2026-02-16 23:20:28.795 | INFO     | __main__:phase4_distance_metrics:706 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 23:20:28.795 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:20:28.880 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5595±0.0549
2026-02-16 23:20:28.886 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:20:28.897 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5250±0.0897
2026-02-16 23:20:28.898 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:20:28.924 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4738±0.0680
2026-02-16 23:20:28.924 | INFO     | __main__:phase4_distance_metrics:738 -   [clinical_patient_triage_nl] Phase 4 done in 0.1s
2026-02-16 23:20:28.924 | INFO     | __main__:main:1171 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.6333)
2026-02-16 23:20:28.925 | INFO     | __main__:phase5_alternative_formulations:754 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:20:28.990 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.6333, RBO AUC=0.5631, WJ AUC=0.6357
2026-02-16 23:20:28.998 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5452
2026-02-16 23:20:29.006 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6464
2026-02-16 23:20:29.014 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5357
2026-02-16 23:20:29.014 | INFO     | __main__:phase5_alternative_formulations:810 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 23:20:29.014 | INFO     | __main__:phase6_confound_analysis:829 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 23:20:29.022 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0492, p=0.7925
2026-02-16 23:20:29.026 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0165, p=0.9310
2026-02-16 23:20:29.030 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0501, p=0.7924
2026-02-16 23:20:29.032 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0215, p=0.9102
2026-02-16 23:20:29.035 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0328, p=0.8683
2026-02-16 23:20:29.035 | INFO     | __main__:phase6_confound_analysis:989 -   [clinical_patient_triage_nl] Phase 6 done in 0.0s
2026-02-16 23:20:29.036 | INFO     | __main__:baseline_single_space_crnd:1009 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 23:20:29.044 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5179±0.0818
2026-02-16 23:20:29.053 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.6905±0.1448
2026-02-16 23:20:29.062 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.3631±0.0876
2026-02-16 23:20:29.069 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4857±0.1744
2026-02-16 23:20:29.070 | INFO     | __main__:baseline_single_space_crnd:1043 -   [clinical_patient_triage_nl] Baseline done in 0.0s
2026-02-16 23:20:29.135 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:20:29.135 | INFO     | __main__:main:1094 - Processing dataset: ohsumed_single
2026-02-16 23:20:29.135 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:20:29.135 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 23:20:29.560 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (1000, 5000)
2026-02-16 23:20:29.561 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 23:20:53.491 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (1000, 384)
2026-02-16 23:20:53.492 | INFO     | __main__:build_feature_spaces:363 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 23:20:53.588 | INFO     | __main__:_try_openrouter_features:457 -   [ohsumed_single] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:21:06.535 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 2 failed, keeping simulated
2026-02-16 23:21:31.605 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 9 failed, keeping simulated
2026-02-16 23:21:31.605 | INFO     | __main__:_try_openrouter_features:488 -   [ohsumed_single] LLM: 8/10 successful, total cost: $0.0008, calls: 40
2026-02-16 23:21:31.605 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (1000, 9)
2026-02-16 23:21:31.605 | INFO     | __main__:build_feature_spaces:404 -   [ohsumed_single] Feature construction done in 62.5s
2026-02-16 23:21:31.606 | INFO     | __main__:phase2_k_sensitivity:506 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 23:21:31.807 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5359±0.0295, CRND=0.8792±0.1057
2026-02-16 23:21:32.035 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5302±0.0306, CRND=0.8761±0.0827
2026-02-16 23:21:32.254 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5349±0.0312, CRND=0.8681±0.0788
2026-02-16 23:21:32.490 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5414±0.0319, CRND=0.8637±0.0775
2026-02-16 23:21:32.729 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5290±0.0244, CRND=0.8546±0.0743
2026-02-16 23:21:33.018 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5190±0.0153, CRND=0.8362±0.0712
2026-02-16 23:21:33.019 | INFO     | __main__:phase2_k_sensitivity:538 -   [ohsumed_single] Phase 2 done in 1.4s
2026-02-16 23:21:33.019 | INFO     | __main__:phase3_pca_dimensionality:591 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:21:33.019 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:21:34.640 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.016, mean_D=0.544
2026-02-16 23:21:40.044 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.022, mean_D=0.482
2026-02-16 23:21:40.481 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.033, mean_D=0.592
2026-02-16 23:21:40.973 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.054, mean_D=0.605
2026-02-16 23:21:41.433 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.088, mean_D=0.619
2026-02-16 23:21:41.435 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:21:42.070 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.106, mean_D=0.436
2026-02-16 23:21:47.263 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.141, mean_D=0.295
2026-02-16 23:21:47.741 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.200, mean_D=0.479
2026-02-16 23:21:48.213 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.305, mean_D=0.473
2026-02-16 23:21:48.716 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.432, mean_D=0.541
2026-02-16 23:21:48.718 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:21:48.864 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.747, mean_D=0.291
2026-02-16 23:21:54.154 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.804, mean_D=0.112
2026-02-16 23:21:54.649 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.902, mean_D=0.205
2026-02-16 23:21:54.651 | INFO     | __main__:phase3_pca_dimensionality:691 -   [ohsumed_single] Phase 3 done in 21.6s
2026-02-16 23:21:54.651 | INFO     | __main__:phase4_distance_metrics:706 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 23:21:54.651 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:21:54.905 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5302±0.0306
2026-02-16 23:21:54.906 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:21:55.026 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5301±0.0305
2026-02-16 23:21:55.027 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:21:56.782 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5179±0.0221
2026-02-16 23:21:56.782 | INFO     | __main__:phase4_distance_metrics:738 -   [ohsumed_single] Phase 4 done in 2.1s
2026-02-16 23:21:56.782 | INFO     | __main__:main:1171 -   [ohsumed_single] Optimal k=20 (AUC=0.5414)
2026-02-16 23:21:56.782 | INFO     | __main__:phase5_alternative_formulations:754 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=20)
2026-02-16 23:21:57.226 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5414, RBO AUC=0.5312, WJ AUC=0.5352
2026-02-16 23:21:57.253 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5307
2026-02-16 23:21:57.261 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5415
2026-02-16 23:21:57.268 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5342
2026-02-16 23:21:57.269 | INFO     | __main__:phase5_alternative_formulations:810 -   [ohsumed_single] Phase 5 done in 0.5s
2026-02-16 23:21:57.269 | INFO     | __main__:phase6_confound_analysis:829 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 23:21:57.749 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0318, p=0.3156
2026-02-16 23:21:57.753 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0209, p=0.5084
2026-02-16 23:21:57.756 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0316, p=0.3187
2026-02-16 23:21:57.759 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0317, p=0.3171
2026-02-16 23:21:57.762 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0217, p=0.4947
2026-02-16 23:21:57.762 | INFO     | __main__:phase6_confound_analysis:989 -   [ohsumed_single] Phase 6 done in 0.5s
2026-02-16 23:21:57.762 | INFO     | __main__:baseline_single_space_crnd:1009 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 23:21:57.939 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5231±0.0147
2026-02-16 23:21:57.967 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5214±0.0253
2026-02-16 23:21:57.991 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4894±0.0151
2026-02-16 23:21:57.998 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5018±0.0172
2026-02-16 23:21:57.999 | INFO     | __main__:baseline_single_space_crnd:1043 -   [ohsumed_single] Baseline done in 0.2s
2026-02-16 23:21:59.421 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:21:59.422 | INFO     | __main__:main:1094 - Processing dataset: mental_health_conditions
2026-02-16 23:21:59.422 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:21:59.422 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 23:21:59.587 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (1000, 5000)
2026-02-16 23:21:59.587 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 23:22:15.610 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (1000, 384)
2026-02-16 23:22:15.611 | INFO     | __main__:build_feature_spaces:363 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 23:22:15.698 | INFO     | __main__:_try_openrouter_features:457 -   [mental_health_conditions] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:22:17.994 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 23:22:20.085 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 1 failed, keeping simulated
2026-02-16 23:22:21.287 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 2 failed, keeping simulated
2026-02-16 23:22:32.834 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 23:22:38.059 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 8 failed, keeping simulated
2026-02-16 23:22:40.365 | INFO     | __main__:_try_openrouter_features:488 -   [mental_health_conditions] LLM: 5/10 successful, total cost: $0.0009, calls: 50
2026-02-16 23:22:40.365 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (1000, 7)
2026-02-16 23:22:40.371 | INFO     | __main__:build_feature_spaces:404 -   [mental_health_conditions] Feature construction done in 40.9s
2026-02-16 23:22:40.373 | INFO     | __main__:phase2_k_sensitivity:506 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 23:22:41.206 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5015±0.0261, CRND=0.9752±0.0497
2026-02-16 23:22:41.924 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4987±0.0336, CRND=0.9681±0.0516
2026-02-16 23:22:42.610 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5145±0.0404, CRND=0.9417±0.0505
2026-02-16 23:22:43.415 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5178±0.0365, CRND=0.9180±0.0638
2026-02-16 23:22:44.485 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5208±0.0258, CRND=0.8828±0.0864
2026-02-16 23:22:45.533 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5222±0.0211, CRND=0.8314±0.1208
2026-02-16 23:22:45.538 | INFO     | __main__:phase2_k_sensitivity:538 -   [mental_health_conditions] Phase 2 done in 5.2s
2026-02-16 23:22:45.538 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:22:45.539 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:22:49.827 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.028, mean_D=0.247
2026-02-16 23:23:00.383 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.038, mean_D=0.172
2026-02-16 23:23:05.083 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.054, mean_D=0.247
2026-02-16 23:23:09.870 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.082, mean_D=0.321
2026-02-16 23:23:14.610 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.123, mean_D=0.460
2026-02-16 23:23:14.612 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:23:17.384 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.163, mean_D=0.296
2026-02-16 23:23:24.672 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.207, mean_D=0.204
2026-02-16 23:23:28.263 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.277, mean_D=0.342
2026-02-16 23:23:32.199 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.371, mean_D=0.414
2026-02-16 23:23:35.675 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.482, mean_D=0.528
2026-02-16 23:23:35.684 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:23:36.289 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.561, mean_D=0.166
2026-02-16 23:23:43.582 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.765, mean_D=0.107
2026-02-16 23:23:48.146 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.982, mean_D=0.161
2026-02-16 23:23:48.147 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mental_health_conditions] Phase 3 done in 62.6s
2026-02-16 23:23:48.160 | INFO     | __main__:phase4_distance_metrics:706 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 23:23:48.161 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:23:48.950 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4987±0.0336
2026-02-16 23:23:48.951 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:23:49.650 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5157±0.0240
2026-02-16 23:23:49.651 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:23:55.744 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5161±0.0303
2026-02-16 23:23:55.744 | INFO     | __main__:phase4_distance_metrics:738 -   [mental_health_conditions] Phase 4 done in 7.6s
2026-02-16 23:23:55.745 | INFO     | __main__:main:1171 -   [mental_health_conditions] Optimal k=50 (AUC=0.5222)
2026-02-16 23:23:55.745 | INFO     | __main__:phase5_alternative_formulations:754 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=50)
2026-02-16 23:23:57.080 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5222, RBO AUC=0.5066, WJ AUC=0.5221
2026-02-16 23:23:57.128 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5248
2026-02-16 23:23:57.137 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5167
2026-02-16 23:23:57.145 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5214
2026-02-16 23:23:57.145 | INFO     | __main__:phase5_alternative_formulations:810 -   [mental_health_conditions] Phase 5 done in 1.4s
2026-02-16 23:23:57.145 | INFO     | __main__:phase6_confound_analysis:829 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 23:23:58.324 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0251, p=0.4285
2026-02-16 23:23:58.329 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0047, p=0.8819
2026-02-16 23:23:58.335 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0212, p=0.5039
2026-02-16 23:23:58.339 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0338, p=0.2862
2026-02-16 23:23:58.343 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0027, p=0.9316
2026-02-16 23:23:58.343 | INFO     | __main__:phase6_confound_analysis:989 -   [mental_health_conditions] Phase 6 done in 1.2s
2026-02-16 23:23:58.344 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 23:23:58.644 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5099±0.0211
2026-02-16 23:23:58.740 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5127±0.0153
2026-02-16 23:23:58.769 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4802±0.0143
2026-02-16 23:23:58.780 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5018±0.0172
2026-02-16 23:23:58.780 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mental_health_conditions] Baseline done in 0.4s
2026-02-16 23:24:01.302 | INFO     | __main__:main:1351 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:24:01.516 | INFO     | __main__:main:1354 - Output: 6.4 MB
2026-02-16 23:24:01.516 | INFO     | __main__:main:1357 - ======================================================================
2026-02-16 23:24:01.516 | INFO     | __main__:main:1358 - SUMMARY
2026-02-16 23:24:01.517 | INFO     | __main__:main:1359 - ======================================================================
2026-02-16 23:24:01.517 | INFO     | __main__:main:1360 - Total runtime: 373.2s
2026-02-16 23:24:01.517 | INFO     | __main__:main:1361 - Optimal k: 5 (mean AUC=0.5369)
2026-02-16 23:24:01.517 | INFO     | __main__:main:1362 - PCA stability threshold: d=2
2026-02-16 23:24:01.517 | INFO     | __main__:main:1363 - Best formulation: jaccard (mean AUC=0.5434)
2026-02-16 23:24:01.517 | INFO     | __main__:main:1364 - Most informative pair: tfidf_vs_llm_zeroshot (mean AUC=0.5443)
2026-02-16 23:24:01.517 | INFO     | __main__:main:1365 - LLM calls: 50, cost: $0.0009
2026-02-16 23:24:01.518 | INFO     | __main__:main:1368 -   medical_abstracts: 88.6s total
2026-02-16 23:24:01.518 | INFO     | __main__:main:1368 -   mimic_iv_ed_demo: 38.0s total
2026-02-16 23:24:01.518 | INFO     | __main__:main:1368 -   clinical_patient_triage_nl: 30.9s total
2026-02-16 23:24:01.518 | INFO     | __main__:main:1368 -   ohsumed_single: 88.9s total
2026-02-16 23:24:01.518 | INFO     | __main__:main:1368 -   mental_health_conditions: 119.4s total
2026-02-16 23:24:01.518 | INFO     | __main__:main:1369 - Done!
2026-02-16 23:24:18.410 | INFO     | __main__:main:1060 - ======================================================================
2026-02-16 23:24:18.410 | INFO     | __main__:main:1061 - CRND Ablation & Robustness Analysis
2026-02-16 23:24:18.410 | INFO     | __main__:main:1062 - ======================================================================
2026-02-16 23:24:18.410 | INFO     | __main__:main:1063 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:24:18.410 | INFO     | __main__:main:1064 - Max examples per dataset: 5000
2026-02-16 23:24:18.410 | INFO     | __main__:main:1065 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:24:18.410 | INFO     | __main__:main:1066 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 23:24:18.410 | INFO     | __main__:main:1067 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 23:24:18.411 | INFO     | __main__:main:1068 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 23:24:18.411 | INFO     | __main__:main:1069 - Noise rate: 0.1, Seeds: 5
2026-02-16 23:24:18.411 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:24:19.078 | INFO     | __main__:load_data:295 -   medical_abstracts: 5000 examples, 5 classes, dist={"Cardiovascular_diseases": 1072, "Digestive_system_diseases": 528, "General_pathological_conditions": 1661, "Neoplasms": 1111, "Nervous_system_diseases": 628}
2026-02-16 23:24:19.079 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 207 examples, 4 classes, dist={"ESI-1": 18, "ESI-2": 97, "ESI-3": 90, "ESI-4": 2}
2026-02-16 23:24:19.079 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 31 examples, 6 classes, dist={"Critical": 3, "High": 7, "Low": 6, "Mild": 1, "Moderate": 11, "Routine": 3}
2026-02-16 23:24:19.081 | INFO     | __main__:load_data:295 -   ohsumed_single: 5000 examples, 23 classes, dist={"Animal_Diseases": 9, "Bacterial_Infections_and_Mycoses": 216, "Cardiovascular_Diseases": 585, "Digestive_System_Diseases": 354, "Disorders_of_Environmental_Origin": 240, "Endocrine_Diseases": 40, "E
2026-02-16 23:24:19.083 | INFO     | __main__:load_data:295 -   mental_health_conditions: 5000 examples, 7 classes, dist={"anxiety": 860, "bipolar": 650, "depression": 796, "normal": 784, "personality disorder": 661, "stress": 720, "suicidal": 529}
2026-02-16 23:24:19.088 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:24:19.089 | INFO     | __main__:main:1094 - Processing dataset: medical_abstracts
2026-02-16 23:24:19.089 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:24:19.089 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 23:24:21.432 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (5000, 5000)
2026-02-16 23:24:21.433 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 23:27:13.257 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (5000, 384)
2026-02-16 23:27:13.257 | INFO     | __main__:build_feature_spaces:363 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 23:27:13.649 | INFO     | __main__:_try_openrouter_features:457 -   [medical_abstracts] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:27:36.579 | INFO     | __main__:_try_openrouter_features:488 -   [medical_abstracts] LLM: 10/10 successful, total cost: $0.0002, calls: 10
2026-02-16 23:27:36.579 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (5000, 5)
2026-02-16 23:27:36.579 | INFO     | __main__:build_feature_spaces:404 -   [medical_abstracts] Feature construction done in 197.5s
2026-02-16 23:27:36.580 | INFO     | __main__:phase2_k_sensitivity:506 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 23:27:40.841 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5051±0.0173, CRND=0.9220±0.0728
2026-02-16 23:27:44.202 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4974±0.0184, CRND=0.9207±0.0595
2026-02-16 23:27:47.590 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4980±0.0159, CRND=0.9184±0.0549
2026-02-16 23:27:51.004 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4981±0.0149, CRND=0.9159±0.0527
2026-02-16 23:27:54.688 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4992±0.0149, CRND=0.9118±0.0495
2026-02-16 23:27:58.546 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5000±0.0145, CRND=0.9050±0.0478
2026-02-16 23:27:58.546 | INFO     | __main__:phase2_k_sensitivity:538 -   [medical_abstracts] Phase 2 done in 22.0s
2026-02-16 23:27:58.546 | INFO     | __main__:phase3_pca_dimensionality:591 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:27:58.547 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:28:02.696 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.014, mean_D=0.647
2026-02-16 23:28:17.959 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.019, mean_D=0.499
2026-02-16 23:28:21.455 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.027, mean_D=0.729
2026-02-16 23:28:23.775 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.044, mean_D=0.737
2026-02-16 23:28:25.210 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.068, mean_D=0.754
2026-02-16 23:28:25.214 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:28:26.621 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.098, mean_D=0.491
2026-02-16 23:28:41.444 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.131, mean_D=0.393
2026-02-16 23:28:44.107 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.186, mean_D=0.523
2026-02-16 23:28:46.731 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.283, mean_D=0.625
2026-02-16 23:28:48.549 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.406, mean_D=0.728
2026-02-16 23:28:48.552 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:28:49.489 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.700, mean_D=0.440
2026-02-16 23:29:11.745 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.878, mean_D=0.312
2026-02-16 23:29:13.423 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.376
2026-02-16 23:29:13.424 | INFO     | __main__:phase3_pca_dimensionality:691 -   [medical_abstracts] Phase 3 done in 74.9s
2026-02-16 23:29:13.424 | INFO     | __main__:phase4_distance_metrics:706 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 23:29:13.424 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:29:16.061 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4974±0.0184
2026-02-16 23:29:16.061 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:29:18.710 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4990±0.0169
2026-02-16 23:29:18.710 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:30:01.434 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5043±0.0162
2026-02-16 23:30:01.434 | INFO     | __main__:phase4_distance_metrics:738 -   [medical_abstracts] Phase 4 done in 48.0s
2026-02-16 23:30:01.435 | INFO     | __main__:main:1171 -   [medical_abstracts] Optimal k=5 (AUC=0.5051)
2026-02-16 23:30:01.435 | INFO     | __main__:phase5_alternative_formulations:754 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:30:04.411 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5051, RBO AUC=0.5050, WJ AUC=0.5045
2026-02-16 23:30:04.451 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5045
2026-02-16 23:30:04.459 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4991
2026-02-16 23:30:04.467 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4997
2026-02-16 23:30:04.467 | INFO     | __main__:phase5_alternative_formulations:810 -   [medical_abstracts] Phase 5 done in 3.0s
2026-02-16 23:30:04.468 | INFO     | __main__:phase6_confound_analysis:829 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 23:30:12.121 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0125, p=0.3755
2026-02-16 23:30:12.597 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.0012, p=0.9323
2026-02-16 23:30:12.600 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0120, p=0.3973
2026-02-16 23:30:12.604 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0126, p=0.3748
2026-02-16 23:30:12.609 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0011, p=0.9358
2026-02-16 23:30:12.609 | INFO     | __main__:phase6_confound_analysis:989 -   [medical_abstracts] Phase 6 done in 8.1s
2026-02-16 23:30:12.609 | INFO     | __main__:baseline_single_space_crnd:1009 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 23:30:14.947 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5034±0.0148
2026-02-16 23:30:15.210 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5130±0.0128
2026-02-16 23:30:15.259 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.5009±0.0094
2026-02-16 23:30:15.271 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5117±0.0167
2026-02-16 23:30:15.271 | INFO     | __main__:baseline_single_space_crnd:1043 -   [medical_abstracts] Baseline done in 2.7s
2026-02-16 23:30:34.742 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:30:34.742 | INFO     | __main__:main:1094 - Processing dataset: mimic_iv_ed_demo
2026-02-16 23:30:34.743 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:30:34.743 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 23:30:34.750 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (207, 553)
2026-02-16 23:30:34.750 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 23:30:35.925 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (207, 384)
2026-02-16 23:30:35.926 | INFO     | __main__:build_feature_spaces:363 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 23:30:35.935 | INFO     | __main__:_try_openrouter_features:457 -   [mimic_iv_ed_demo] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:30:38.115 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 23:30:39.832 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 23:30:41.766 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 23:30:47.415 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 23:30:51.206 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 23:31:12.092 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 23:31:15.022 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 6 failed, keeping simulated
2026-02-16 23:31:16.891 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 23:31:17.880 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 8 failed, keeping simulated
2026-02-16 23:31:19.986 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 23:31:19.987 | INFO     | __main__:_try_openrouter_features:488 -   [mimic_iv_ed_demo] LLM: 0/10 successful, total cost: $0.0004, calls: 20
2026-02-16 23:31:19.987 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (207, 4)
2026-02-16 23:31:19.987 | INFO     | __main__:build_feature_spaces:404 -   [mimic_iv_ed_demo] Feature construction done in 45.2s
2026-02-16 23:31:19.990 | INFO     | __main__:phase2_k_sensitivity:506 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 23:31:20.010 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5176±0.0826, CRND=0.9289±0.0575
2026-02-16 23:31:20.029 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5125±0.0884, CRND=0.9119±0.0567
2026-02-16 23:31:20.050 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4957±0.0692, CRND=0.8979±0.0594
2026-02-16 23:31:20.072 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4663±0.0663, CRND=0.8809±0.0578
2026-02-16 23:31:20.110 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4974±0.0834, CRND=0.8525±0.0544
2026-02-16 23:31:20.141 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4862±0.0842, CRND=0.7963±0.0445
2026-02-16 23:31:20.141 | INFO     | __main__:phase2_k_sensitivity:538 -   [mimic_iv_ed_demo] Phase 2 done in 0.2s
2026-02-16 23:31:20.142 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:31:20.142 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:31:20.413 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.049, mean_D=0.676
2026-02-16 23:31:20.734 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.072, mean_D=0.583
2026-02-16 23:31:20.761 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.113, mean_D=0.702
2026-02-16 23:31:20.787 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.197, mean_D=0.696
2026-02-16 23:31:20.825 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.324, mean_D=0.728
2026-02-16 23:31:20.828 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:31:20.850 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.163, mean_D=0.620
2026-02-16 23:31:21.163 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.222, mean_D=0.494
2026-02-16 23:31:21.191 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.333, mean_D=0.625
2026-02-16 23:31:21.223 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.506, mean_D=0.666
2026-02-16 23:31:21.250 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.686, mean_D=0.722
2026-02-16 23:31:21.252 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:31:21.262 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.879, mean_D=0.272
2026-02-16 23:31:21.573 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=1.000, mean_D=0.125
2026-02-16 23:31:21.575 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mimic_iv_ed_demo] Phase 3 done in 1.4s
2026-02-16 23:31:21.575 | INFO     | __main__:phase4_distance_metrics:706 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 23:31:21.575 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:31:21.626 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5125±0.0884
2026-02-16 23:31:21.627 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:31:21.647 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5118±0.0863
2026-02-16 23:31:21.648 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:31:21.749 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5098±0.0773
2026-02-16 23:31:21.750 | INFO     | __main__:phase4_distance_metrics:738 -   [mimic_iv_ed_demo] Phase 4 done in 0.2s
2026-02-16 23:31:21.750 | INFO     | __main__:main:1171 -   [mimic_iv_ed_demo] Optimal k=5 (AUC=0.5176)
2026-02-16 23:31:21.750 | INFO     | __main__:phase5_alternative_formulations:754 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:31:21.812 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5176, RBO AUC=0.5503, WJ AUC=0.5352
2026-02-16 23:31:21.820 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4948
2026-02-16 23:31:21.827 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5114
2026-02-16 23:31:21.833 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5305
2026-02-16 23:31:21.833 | INFO     | __main__:phase5_alternative_formulations:810 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 23:31:21.834 | INFO     | __main__:phase6_confound_analysis:829 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 23:31:21.859 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=-0.0855, p=0.2206
2026-02-16 23:31:21.862 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.0717, p=0.3056
2026-02-16 23:31:21.865 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=-0.0725, p=0.3001
2026-02-16 23:31:21.868 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=-0.0644, p=0.3581
2026-02-16 23:31:21.871 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0494, p=0.4831
2026-02-16 23:31:21.871 | INFO     | __main__:phase6_confound_analysis:989 -   [mimic_iv_ed_demo] Phase 6 done in 0.0s
2026-02-16 23:31:21.871 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 23:31:21.886 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4766±0.0775
2026-02-16 23:31:21.907 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4990±0.0439
2026-02-16 23:31:21.917 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4916±0.0305
2026-02-16 23:31:21.925 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5225±0.0718
2026-02-16 23:31:21.925 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mimic_iv_ed_demo] Baseline done in 0.1s
2026-02-16 23:31:22.071 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:31:22.071 | INFO     | __main__:main:1094 - Processing dataset: clinical_patient_triage_nl
2026-02-16 23:31:22.072 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:31:22.072 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 23:31:22.074 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (31, 37)
2026-02-16 23:31:22.074 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 23:31:22.196 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (31, 384)
2026-02-16 23:31:22.197 | INFO     | __main__:build_feature_spaces:363 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 23:31:22.199 | INFO     | __main__:_try_openrouter_features:457 -   [clinical_patient_triage_nl] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:31:26.320 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 0 failed, keeping simulated
2026-02-16 23:31:32.354 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 1 failed, keeping simulated
2026-02-16 23:31:36.631 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 2 failed, keeping simulated
2026-02-16 23:31:46.061 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 6 failed, keeping simulated
2026-02-16 23:31:51.203 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 23:31:55.378 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 8 failed, keeping simulated
2026-02-16 23:31:56.566 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 23:31:56.566 | INFO     | __main__:_try_openrouter_features:488 -   [clinical_patient_triage_nl] LLM: 3/10 successful, total cost: $0.0005, calls: 30
2026-02-16 23:31:56.567 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (31, 6)
2026-02-16 23:31:56.568 | INFO     | __main__:build_feature_spaces:404 -   [clinical_patient_triage_nl] Feature construction done in 34.5s
2026-02-16 23:31:56.568 | INFO     | __main__:phase2_k_sensitivity:506 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 23:31:56.640 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.6595±0.1575, CRND=0.8333±0.1039
2026-02-16 23:31:56.704 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5893±0.1192, CRND=0.7278±0.0791
2026-02-16 23:31:56.805 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4619±0.1372, CRND=0.6200±0.0611
2026-02-16 23:31:56.898 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4560±0.1097, CRND=0.4727±0.0494
2026-02-16 23:31:56.982 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4845±0.1476, CRND=0.0069±0.0158
2026-02-16 23:31:56.982 | INFO     | __main__:phase2_k_sensitivity:512 -     k=50 >= N=31, skipping
2026-02-16 23:31:56.982 | INFO     | __main__:phase2_k_sensitivity:538 -   [clinical_patient_triage_nl] Phase 2 done in 0.4s
2026-02-16 23:31:56.982 | INFO     | __main__:phase3_pca_dimensionality:591 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:31:56.983 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:31:57.289 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.280, mean_D=0.145
2026-02-16 23:31:57.351 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.358, mean_D=0.267
2026-02-16 23:31:57.389 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.498, mean_D=0.268
2026-02-16 23:31:57.421 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.752, mean_D=0.432
2026-02-16 23:31:57.456 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.981, mean_D=0.377
2026-02-16 23:31:57.458 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:31:57.469 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.172, mean_D=0.362
2026-02-16 23:31:57.523 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.236, mean_D=0.692
2026-02-16 23:31:57.678 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.350, mean_D=0.545
2026-02-16 23:31:59.155 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.575, mean_D=0.503
2026-02-16 23:32:01.529 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.860, mean_D=0.434
2026-02-16 23:32:01.531 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:32:01.994 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.720, mean_D=0.093
2026-02-16 23:32:02.515 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.901, mean_D=0.102
2026-02-16 23:32:02.719 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.116
2026-02-16 23:32:02.721 | INFO     | __main__:phase3_pca_dimensionality:691 -   [clinical_patient_triage_nl] Phase 3 done in 5.7s
2026-02-16 23:32:02.721 | INFO     | __main__:phase4_distance_metrics:706 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 23:32:02.721 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:32:02.840 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5893±0.1192
2026-02-16 23:32:02.841 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:32:02.854 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5619±0.1294
2026-02-16 23:32:02.854 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:32:02.889 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5155±0.0793
2026-02-16 23:32:02.889 | INFO     | __main__:phase4_distance_metrics:738 -   [clinical_patient_triage_nl] Phase 4 done in 0.2s
2026-02-16 23:32:02.889 | INFO     | __main__:main:1171 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.6595)
2026-02-16 23:32:02.889 | INFO     | __main__:phase5_alternative_formulations:754 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:32:02.958 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.6595, RBO AUC=0.5702, WJ AUC=0.6417
2026-02-16 23:32:02.966 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5452
2026-02-16 23:32:02.974 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6560
2026-02-16 23:32:02.982 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5595
2026-02-16 23:32:02.982 | INFO     | __main__:phase5_alternative_formulations:810 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 23:32:02.982 | INFO     | __main__:phase6_confound_analysis:829 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 23:32:03.061 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.1166, p=0.5321
2026-02-16 23:32:03.066 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0601, p=0.7525
2026-02-16 23:32:03.069 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.1168, p=0.5388
2026-02-16 23:32:03.072 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0954, p=0.6162
2026-02-16 23:32:03.075 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0461, p=0.8158
2026-02-16 23:32:03.075 | INFO     | __main__:phase6_confound_analysis:989 -   [clinical_patient_triage_nl] Phase 6 done in 0.1s
2026-02-16 23:32:03.075 | INFO     | __main__:baseline_single_space_crnd:1009 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 23:32:03.097 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5179±0.0818
2026-02-16 23:32:03.121 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.6905±0.1448
2026-02-16 23:32:03.129 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.3571±0.1311
2026-02-16 23:32:03.137 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4857±0.1744
2026-02-16 23:32:03.137 | INFO     | __main__:baseline_single_space_crnd:1043 -   [clinical_patient_triage_nl] Baseline done in 0.1s
2026-02-16 23:32:03.308 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:32:03.308 | INFO     | __main__:main:1094 - Processing dataset: ohsumed_single
2026-02-16 23:32:03.308 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:32:03.308 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 23:32:05.616 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (5000, 5000)
2026-02-16 23:32:05.617 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 23:35:12.811 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (5000, 384)
2026-02-16 23:35:12.812 | INFO     | __main__:build_feature_spaces:363 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 23:35:13.636 | INFO     | __main__:_try_openrouter_features:457 -   [ohsumed_single] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:35:17.493 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 0 failed, keeping simulated
2026-02-16 23:35:33.407 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 6 failed, keeping simulated
2026-02-16 23:35:39.102 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 8 failed, keeping simulated
2026-02-16 23:35:43.613 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 9 failed, keeping simulated
2026-02-16 23:35:43.613 | INFO     | __main__:_try_openrouter_features:488 -   [ohsumed_single] LLM: 6/10 successful, total cost: $0.0009, calls: 40
2026-02-16 23:35:43.614 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (5000, 23)
2026-02-16 23:35:43.614 | INFO     | __main__:build_feature_spaces:404 -   [ohsumed_single] Feature construction done in 220.3s
2026-02-16 23:35:43.614 | INFO     | __main__:phase2_k_sensitivity:506 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 23:35:46.368 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5039±0.0149, CRND=0.8897±0.0990
2026-02-16 23:35:49.272 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4996±0.0181, CRND=0.8812±0.0870
2026-02-16 23:35:54.376 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4990±0.0161, CRND=0.8754±0.0847
2026-02-16 23:35:58.402 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4982±0.0179, CRND=0.8702±0.0835
2026-02-16 23:36:01.438 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4991±0.0177, CRND=0.8629±0.0817
2026-02-16 23:36:04.944 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4983±0.0179, CRND=0.8535±0.0816
2026-02-16 23:36:04.945 | INFO     | __main__:phase2_k_sensitivity:538 -   [ohsumed_single] Phase 2 done in 21.3s
2026-02-16 23:36:04.945 | INFO     | __main__:phase3_pca_dimensionality:591 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:36:04.946 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:36:22.943 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.013, mean_D=0.601
2026-02-16 23:37:58.302 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.018, mean_D=0.483
2026-02-16 23:38:06.033 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.026, mean_D=0.615
2026-02-16 23:38:13.806 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.042, mean_D=0.638
2026-02-16 23:38:21.610 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.064, mean_D=0.635
2026-02-16 23:38:21.617 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:38:24.498 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.091, mean_D=0.495
2026-02-16 23:39:53.065 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.122, mean_D=0.406
2026-02-16 23:40:09.462 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.174, mean_D=0.534
2026-02-16 23:40:17.282 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.272, mean_D=0.521
2026-02-16 23:40:35.256 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.396, mean_D=0.569
2026-02-16 23:40:35.259 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:40:37.956 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.468, mean_D=0.427
2026-02-16 23:42:15.981 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.571, mean_D=0.330
2026-02-16 23:42:26.723 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.717, mean_D=0.377
2026-02-16 23:42:35.937 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.860, mean_D=0.318
2026-02-16 23:42:51.610 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.988, mean_D=0.305
2026-02-16 23:42:51.613 | INFO     | __main__:phase3_pca_dimensionality:691 -   [ohsumed_single] Phase 3 done in 406.7s
2026-02-16 23:42:51.613 | INFO     | __main__:phase4_distance_metrics:706 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 23:42:51.613 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:42:55.403 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4996±0.0181
2026-02-16 23:42:55.403 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:42:57.838 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4996±0.0184
2026-02-16 23:42:57.838 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:43:52.664 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4940±0.0151
2026-02-16 23:43:52.665 | INFO     | __main__:phase4_distance_metrics:738 -   [ohsumed_single] Phase 4 done in 61.1s
2026-02-16 23:43:52.665 | INFO     | __main__:main:1171 -   [ohsumed_single] Optimal k=5 (AUC=0.5039)
2026-02-16 23:43:52.665 | INFO     | __main__:phase5_alternative_formulations:754 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:43:55.863 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5039, RBO AUC=0.5005, WJ AUC=0.5010
2026-02-16 23:43:55.910 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5025
2026-02-16 23:43:55.921 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5010
2026-02-16 23:43:55.938 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5006
2026-02-16 23:43:55.938 | INFO     | __main__:phase5_alternative_formulations:810 -   [ohsumed_single] Phase 5 done in 3.3s
2026-02-16 23:43:55.938 | INFO     | __main__:phase6_confound_analysis:829 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 23:44:01.775 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0028, p=0.8419
2026-02-16 23:44:01.779 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0056, p=0.6938
2026-02-16 23:44:01.783 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0034, p=0.8097
2026-02-16 23:44:01.786 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0025, p=0.8617
2026-02-16 23:44:01.791 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0048, p=0.7324
2026-02-16 23:44:01.791 | INFO     | __main__:phase6_confound_analysis:989 -   [ohsumed_single] Phase 6 done in 5.9s
2026-02-16 23:44:01.791 | INFO     | __main__:baseline_single_space_crnd:1009 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 23:44:04.280 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5042±0.0225
2026-02-16 23:44:04.517 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4951±0.0089
2026-02-16 23:44:04.581 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4972±0.0194
2026-02-16 23:44:04.592 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5117±0.0167
2026-02-16 23:44:04.593 | INFO     | __main__:baseline_single_space_crnd:1043 -   [ohsumed_single] Baseline done in 2.8s
2026-02-16 23:44:27.102 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:44:27.102 | INFO     | __main__:main:1094 - Processing dataset: mental_health_conditions
2026-02-16 23:44:27.102 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:44:27.102 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 23:44:28.118 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (5000, 5000)
2026-02-16 23:44:28.118 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 23:45:47.467 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (5000, 384)
2026-02-16 23:45:47.468 | INFO     | __main__:build_feature_spaces:363 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 23:45:47.808 | INFO     | __main__:_try_openrouter_features:457 -   [mental_health_conditions] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:45:51.490 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 23:45:53.478 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 1 failed, keeping simulated
2026-02-16 23:45:56.544 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 2 failed, keeping simulated
2026-02-16 23:46:10.549 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 23:46:14.080 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 8 failed, keeping simulated
2026-02-16 23:46:16.573 | INFO     | __main__:_try_openrouter_features:488 -   [mental_health_conditions] LLM: 5/10 successful, total cost: $0.0010, calls: 50
2026-02-16 23:46:16.574 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (5000, 7)
2026-02-16 23:46:16.574 | INFO     | __main__:build_feature_spaces:404 -   [mental_health_conditions] Feature construction done in 109.5s
2026-02-16 23:46:16.576 | INFO     | __main__:phase2_k_sensitivity:506 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 23:46:19.196 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4964±0.0162, CRND=0.9672±0.0671
2026-02-16 23:46:21.900 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5007±0.0196, CRND=0.9682±0.0630
2026-02-16 23:46:24.610 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5010±0.0209, CRND=0.9695±0.0579
2026-02-16 23:46:27.406 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5001±0.0217, CRND=0.9709±0.0502
2026-02-16 23:46:30.392 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5002±0.0228, CRND=0.9709±0.0458
2026-02-16 23:46:33.360 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4965±0.0205, CRND=0.9671±0.0477
2026-02-16 23:46:33.360 | INFO     | __main__:phase2_k_sensitivity:538 -   [mental_health_conditions] Phase 2 done in 16.8s
2026-02-16 23:46:33.360 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:46:33.361 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:46:35.241 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.027, mean_D=0.241
2026-02-16 23:47:04.805 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.037, mean_D=0.179
2026-02-16 23:47:07.957 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.051, mean_D=0.242
2026-02-16 23:47:14.400 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.074, mean_D=0.319
2026-02-16 23:47:23.908 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.107, mean_D=0.407
2026-02-16 23:47:23.912 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:47:27.371 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.165, mean_D=0.291
2026-02-16 23:47:51.988 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.210, mean_D=0.206
2026-02-16 23:47:55.096 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.280, mean_D=0.294
2026-02-16 23:47:57.156 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.368, mean_D=0.364
2026-02-16 23:47:59.368 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.471, mean_D=0.486
2026-02-16 23:47:59.371 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:48:00.229 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.608, mean_D=0.197
2026-02-16 23:48:34.145 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.793, mean_D=0.139
2026-02-16 23:48:48.338 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.994, mean_D=0.211
2026-02-16 23:48:48.340 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mental_health_conditions] Phase 3 done in 135.0s
2026-02-16 23:48:48.341 | INFO     | __main__:phase4_distance_metrics:706 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-16 23:48:48.341 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:48:53.339 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5007±0.0196
2026-02-16 23:48:53.339 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:48:56.569 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5028±0.0148
2026-02-16 23:48:56.569 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:50:14.681 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4979±0.0155
2026-02-16 23:50:14.683 | INFO     | __main__:phase4_distance_metrics:738 -   [mental_health_conditions] Phase 4 done in 86.3s
2026-02-16 23:50:14.684 | INFO     | __main__:main:1171 -   [mental_health_conditions] Optimal k=15 (AUC=0.5010)
2026-02-16 23:50:14.684 | INFO     | __main__:phase5_alternative_formulations:754 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=15)
2026-02-16 23:50:24.602 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5010, RBO AUC=0.4995, WJ AUC=0.4983
2026-02-16 23:50:24.684 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4897
2026-02-16 23:50:24.693 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.4976
2026-02-16 23:50:24.704 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5037
2026-02-16 23:50:24.704 | INFO     | __main__:phase5_alternative_formulations:810 -   [mental_health_conditions] Phase 5 done in 10.0s
2026-02-16 23:50:24.704 | INFO     | __main__:phase6_confound_analysis:829 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-16 23:50:36.843 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0191, p=0.1780
2026-02-16 23:50:36.847 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.0001, p=0.9948
2026-02-16 23:50:36.851 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0021, p=0.8802
2026-02-16 23:50:36.855 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0123, p=0.3853
2026-02-16 23:50:36.859 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0028, p=0.8429
2026-02-16 23:50:36.860 | INFO     | __main__:phase6_confound_analysis:989 -   [mental_health_conditions] Phase 6 done in 12.2s
2026-02-16 23:50:36.860 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-16 23:50:39.666 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4893±0.0198
2026-02-16 23:50:40.137 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5022±0.0218
2026-02-16 23:50:40.239 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4905±0.0194
2026-02-16 23:50:40.251 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5117±0.0167
2026-02-16 23:50:40.251 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mental_health_conditions] Baseline done in 3.4s
2026-02-16 23:51:08.975 | INFO     | __main__:main:1351 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:51:10.056 | INFO     | __main__:main:1354 - Output: 30.6 MB
2026-02-16 23:51:10.057 | INFO     | __main__:main:1357 - ======================================================================
2026-02-16 23:51:10.057 | INFO     | __main__:main:1358 - SUMMARY
2026-02-16 23:51:10.057 | INFO     | __main__:main:1359 - ======================================================================
2026-02-16 23:51:10.057 | INFO     | __main__:main:1360 - Total runtime: 1610.6s
2026-02-16 23:51:10.057 | INFO     | __main__:main:1361 - Optimal k: 5 (mean AUC=0.5365)
2026-02-16 23:51:10.057 | INFO     | __main__:main:1362 - PCA stability threshold: d=2
2026-02-16 23:51:10.057 | INFO     | __main__:main:1363 - Best formulation: jaccard (mean AUC=0.5374)
2026-02-16 23:51:10.057 | INFO     | __main__:main:1364 - Most informative pair: tfidf_vs_llm_zeroshot (mean AUC=0.5330)
2026-02-16 23:51:10.057 | INFO     | __main__:main:1365 - LLM calls: 50, cost: $0.0010
2026-02-16 23:51:10.057 | INFO     | __main__:main:1368 -   medical_abstracts: 356.2s total
2026-02-16 23:51:10.058 | INFO     | __main__:main:1368 -   mimic_iv_ed_demo: 47.2s total
2026-02-16 23:51:10.058 | INFO     | __main__:main:1368 -   clinical_patient_triage_nl: 41.1s total
2026-02-16 23:51:10.058 | INFO     | __main__:main:1368 -   ohsumed_single: 721.3s total
2026-02-16 23:51:10.058 | INFO     | __main__:main:1368 -   mental_health_conditions: 373.1s total
2026-02-16 23:51:10.058 | INFO     | __main__:main:1369 - Done!
2026-02-16 23:52:12.449 | INFO     | __main__:main:1060 - ======================================================================
2026-02-16 23:52:12.449 | INFO     | __main__:main:1061 - CRND Ablation & Robustness Analysis
2026-02-16 23:52:12.449 | INFO     | __main__:main:1062 - ======================================================================
2026-02-16 23:52:12.449 | INFO     | __main__:main:1063 - Data: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:52:12.449 | INFO     | __main__:main:1064 - Max examples per dataset: 1000
2026-02-16 23:52:12.449 | INFO     | __main__:main:1065 - Output: /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-16 23:52:12.449 | INFO     | __main__:main:1066 - K values: [5, 10, 15, 20, 30, 50]
2026-02-16 23:52:12.449 | INFO     | __main__:main:1067 - PCA dims: [2, 3, 5, 10, 20]
2026-02-16 23:52:12.449 | INFO     | __main__:main:1068 - Distance metrics: ['euclidean', 'cosine', 'manhattan']
2026-02-16 23:52:12.449 | INFO     | __main__:main:1069 - Noise rate: 0.1, Seeds: 5
2026-02-16 23:52:12.449 | INFO     | __main__:load_data:276 - Loading data from /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_1/gen_art/data_id2_it1__opus/full_data_out.json
2026-02-16 23:52:13.152 | INFO     | __main__:load_data:295 -   medical_abstracts: 1000 examples, 5 classes, dist={"Cardiovascular_diseases": 223, "Digestive_system_diseases": 102, "General_pathological_conditions": 316, "Neoplasms": 227, "Nervous_system_diseases": 132}
2026-02-16 23:52:13.153 | INFO     | __main__:load_data:295 -   mimic_iv_ed_demo: 207 examples, 4 classes, dist={"ESI-1": 18, "ESI-2": 97, "ESI-3": 90, "ESI-4": 2}
2026-02-16 23:52:13.153 | INFO     | __main__:load_data:295 -   clinical_patient_triage_nl: 31 examples, 6 classes, dist={"Critical": 3, "High": 7, "Low": 6, "Mild": 1, "Moderate": 11, "Routine": 3}
2026-02-16 23:52:13.153 | INFO     | __main__:load_data:295 -   ohsumed_single: 1000 examples, 9 classes, dist={"Bacterial_Infections_and_Mycoses": 114, "Digestive_System_Diseases": 176, "Musculoskeletal_Diseases": 83, "Neoplasms": 430, "Otorhinolaryngologic_Diseases": 1, "Parasitic_Diseases": 21, "Respiratory
2026-02-16 23:52:13.154 | INFO     | __main__:load_data:295 -   mental_health_conditions: 1000 examples, 7 classes, dist={"anxiety": 176, "bipolar": 135, "depression": 167, "normal": 146, "personality disorder": 124, "stress": 138, "suicidal": 114}
2026-02-16 23:52:13.162 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:52:13.162 | INFO     | __main__:main:1094 - Processing dataset: medical_abstracts
2026-02-16 23:52:13.162 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:52:13.163 | INFO     | __main__:build_feature_spaces:319 -   [medical_abstracts] Building TF-IDF features...
2026-02-16 23:52:13.635 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (1000, 5000)
2026-02-16 23:52:13.636 | INFO     | __main__:build_feature_spaces:335 -   [medical_abstracts] Building sentence transformer embeddings...
2026-02-16 23:53:01.606 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (1000, 384)
2026-02-16 23:53:01.607 | INFO     | __main__:build_feature_spaces:363 -   [medical_abstracts] Building simulated LLM features...
2026-02-16 23:53:01.825 | INFO     | __main__:_try_openrouter_features:457 -   [medical_abstracts] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:53:23.942 | INFO     | __main__:_try_openrouter_features:488 -   [medical_abstracts] LLM: 10/10 successful, total cost: $0.0002, calls: 10
2026-02-16 23:53:23.942 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (1000, 5)
2026-02-16 23:53:23.943 | INFO     | __main__:build_feature_spaces:404 -   [medical_abstracts] Feature construction done in 70.8s
2026-02-16 23:53:23.943 | INFO     | __main__:phase2_k_sensitivity:506 -   [medical_abstracts] Phase 2: k sensitivity analysis
2026-02-16 23:53:24.312 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.4961±0.0149, CRND=0.9159±0.0711
2026-02-16 23:53:24.615 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4949±0.0191, CRND=0.9072±0.0586
2026-02-16 23:53:24.948 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5026±0.0136, CRND=0.9029±0.0532
2026-02-16 23:53:25.277 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4952±0.0204, CRND=0.8968±0.0521
2026-02-16 23:53:25.615 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4962±0.0224, CRND=0.8863±0.0546
2026-02-16 23:53:25.971 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5001±0.0166, CRND=0.8670±0.0602
2026-02-16 23:53:25.971 | INFO     | __main__:phase2_k_sensitivity:538 -   [medical_abstracts] Phase 2 done in 2.0s
2026-02-16 23:53:25.971 | INFO     | __main__:phase3_pca_dimensionality:591 -   [medical_abstracts] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:53:25.972 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:53:28.537 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.015, mean_D=0.555
2026-02-16 23:53:32.418 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.021, mean_D=0.516
2026-02-16 23:53:33.471 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.031, mean_D=0.696
2026-02-16 23:53:35.353 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.052, mean_D=0.719
2026-02-16 23:53:36.261 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.084, mean_D=0.711
2026-02-16 23:53:36.263 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:53:37.600 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.100, mean_D=0.529
2026-02-16 23:53:41.137 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.136, mean_D=0.395
2026-02-16 23:53:43.216 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.193, mean_D=0.562
2026-02-16 23:53:44.645 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.293, mean_D=0.614
2026-02-16 23:53:47.555 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.419, mean_D=0.722
2026-02-16 23:53:47.557 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:53:48.604 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.764, mean_D=0.381
2026-02-16 23:53:54.622 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.929, mean_D=0.246
2026-02-16 23:53:56.408 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.311
2026-02-16 23:53:56.409 | INFO     | __main__:phase3_pca_dimensionality:691 -   [medical_abstracts] Phase 3 done in 30.4s
2026-02-16 23:53:56.409 | INFO     | __main__:phase4_distance_metrics:706 -   [medical_abstracts] Phase 4: Distance metric ablation
2026-02-16 23:53:56.410 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:53:56.726 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4949±0.0191
2026-02-16 23:53:56.727 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:53:57.217 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4957±0.0212
2026-02-16 23:53:57.217 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:53:59.448 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4989±0.0434
2026-02-16 23:53:59.448 | INFO     | __main__:phase4_distance_metrics:738 -   [medical_abstracts] Phase 4 done in 3.0s
2026-02-16 23:53:59.448 | INFO     | __main__:main:1171 -   [medical_abstracts] Optimal k=15 (AUC=0.5026)
2026-02-16 23:53:59.449 | INFO     | __main__:phase5_alternative_formulations:754 -   [medical_abstracts] Phase 5: Alternative CRND formulations (k=15)
2026-02-16 23:53:59.947 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5026, RBO AUC=0.4890, WJ AUC=0.4876
2026-02-16 23:53:59.970 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4998
2026-02-16 23:53:59.978 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5052
2026-02-16 23:53:59.986 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.4967
2026-02-16 23:53:59.986 | INFO     | __main__:phase5_alternative_formulations:810 -   [medical_abstracts] Phase 5 done in 0.5s
2026-02-16 23:53:59.986 | INFO     | __main__:phase6_confound_analysis:829 -   [medical_abstracts] Phase 6: Confound disentanglement
2026-02-16 23:54:00.640 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0133, p=0.6740
2026-02-16 23:54:01.127 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0047, p=0.8833
2026-02-16 23:54:01.130 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0153, p=0.6296
2026-02-16 23:54:01.133 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0146, p=0.6446
2026-02-16 23:54:01.136 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0006, p=0.9840
2026-02-16 23:54:01.137 | INFO     | __main__:phase6_confound_analysis:989 -   [medical_abstracts] Phase 6 done in 1.2s
2026-02-16 23:54:01.137 | INFO     | __main__:baseline_single_space_crnd:1009 -   [medical_abstracts] Baseline: Single-space kNN anomaly detection
2026-02-16 23:54:01.366 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5086±0.0130
2026-02-16 23:54:01.439 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5116±0.0159
2026-02-16 23:54:01.456 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4917±0.0266
2026-02-16 23:54:01.465 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5018±0.0172
2026-02-16 23:54:01.465 | INFO     | __main__:baseline_single_space_crnd:1043 -   [medical_abstracts] Baseline done in 0.3s
2026-02-16 23:54:03.501 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:54:03.501 | INFO     | __main__:main:1094 - Processing dataset: mimic_iv_ed_demo
2026-02-16 23:54:03.501 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:54:03.501 | INFO     | __main__:build_feature_spaces:319 -   [mimic_iv_ed_demo] Building TF-IDF features...
2026-02-16 23:54:03.511 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (207, 553)
2026-02-16 23:54:03.511 | INFO     | __main__:build_feature_spaces:335 -   [mimic_iv_ed_demo] Building sentence transformer embeddings...
2026-02-16 23:54:05.403 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (207, 384)
2026-02-16 23:54:05.403 | INFO     | __main__:build_feature_spaces:363 -   [mimic_iv_ed_demo] Building simulated LLM features...
2026-02-16 23:54:05.410 | INFO     | __main__:_try_openrouter_features:457 -   [mimic_iv_ed_demo] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:54:07.199 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 0 failed, keeping simulated
2026-02-16 23:54:09.570 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 1 failed, keeping simulated
2026-02-16 23:54:11.438 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 2 failed, keeping simulated
2026-02-16 23:54:13.870 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 3 failed, keeping simulated
2026-02-16 23:54:15.044 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 4 failed, keeping simulated
2026-02-16 23:54:16.649 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 5 failed, keeping simulated
2026-02-16 23:54:23.929 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 6 failed, keeping simulated
2026-02-16 23:54:27.753 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 7 failed, keeping simulated
2026-02-16 23:54:43.645 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 8 failed, keeping simulated
2026-02-16 23:54:45.264 | DEBUG    | __main__:_try_openrouter_features:485 -   [mimic_iv_ed_demo] LLM call 9 failed, keeping simulated
2026-02-16 23:54:45.264 | INFO     | __main__:_try_openrouter_features:488 -   [mimic_iv_ed_demo] LLM: 0/10 successful, total cost: $0.0004, calls: 20
2026-02-16 23:54:45.264 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (207, 4)
2026-02-16 23:54:45.265 | INFO     | __main__:build_feature_spaces:404 -   [mimic_iv_ed_demo] Feature construction done in 41.8s
2026-02-16 23:54:45.266 | INFO     | __main__:phase2_k_sensitivity:506 -   [mimic_iv_ed_demo] Phase 2: k sensitivity analysis
2026-02-16 23:54:45.322 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5176±0.0826, CRND=0.9289±0.0575
2026-02-16 23:54:45.368 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5125±0.0884, CRND=0.9119±0.0567
2026-02-16 23:54:45.415 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4957±0.0692, CRND=0.8979±0.0594
2026-02-16 23:54:45.462 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4663±0.0663, CRND=0.8809±0.0578
2026-02-16 23:54:45.514 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4974±0.0834, CRND=0.8525±0.0544
2026-02-16 23:54:45.559 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.4862±0.0842, CRND=0.7963±0.0445
2026-02-16 23:54:45.559 | INFO     | __main__:phase2_k_sensitivity:538 -   [mimic_iv_ed_demo] Phase 2 done in 0.3s
2026-02-16 23:54:45.559 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mimic_iv_ed_demo] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:54:45.559 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:54:45.995 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.049, mean_D=0.676
2026-02-16 23:54:46.445 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.072, mean_D=0.583
2026-02-16 23:54:46.907 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.113, mean_D=0.702
2026-02-16 23:54:47.324 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.197, mean_D=0.696
2026-02-16 23:54:47.761 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.324, mean_D=0.730
2026-02-16 23:54:47.765 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:54:51.625 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.163, mean_D=0.620
2026-02-16 23:54:52.257 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.222, mean_D=0.494
2026-02-16 23:54:52.669 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.333, mean_D=0.625
2026-02-16 23:54:52.831 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.506, mean_D=0.666
2026-02-16 23:54:53.360 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.686, mean_D=0.722
2026-02-16 23:54:53.363 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:54:53.626 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.879, mean_D=0.272
2026-02-16 23:54:54.370 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=1.000, mean_D=0.125
2026-02-16 23:54:54.371 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mimic_iv_ed_demo] Phase 3 done in 8.8s
2026-02-16 23:54:54.371 | INFO     | __main__:phase4_distance_metrics:706 -   [mimic_iv_ed_demo] Phase 4: Distance metric ablation
2026-02-16 23:54:54.371 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:54:54.421 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5125±0.0884
2026-02-16 23:54:54.421 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:54:54.543 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5118±0.0863
2026-02-16 23:54:54.544 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:54:54.646 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5098±0.0773
2026-02-16 23:54:54.646 | INFO     | __main__:phase4_distance_metrics:738 -   [mimic_iv_ed_demo] Phase 4 done in 0.3s
2026-02-16 23:54:54.646 | INFO     | __main__:main:1171 -   [mimic_iv_ed_demo] Optimal k=5 (AUC=0.5176)
2026-02-16 23:54:54.646 | INFO     | __main__:phase5_alternative_formulations:754 -   [mimic_iv_ed_demo] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:54:54.729 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5176, RBO AUC=0.5503, WJ AUC=0.5352
2026-02-16 23:54:54.739 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.4948
2026-02-16 23:54:54.747 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5114
2026-02-16 23:54:54.754 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5305
2026-02-16 23:54:54.754 | INFO     | __main__:phase5_alternative_formulations:810 -   [mimic_iv_ed_demo] Phase 5 done in 0.1s
2026-02-16 23:54:54.754 | INFO     | __main__:phase6_confound_analysis:829 -   [mimic_iv_ed_demo] Phase 6: Confound disentanglement
2026-02-16 23:54:54.831 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=-0.0855, p=0.2206
2026-02-16 23:54:54.835 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=-0.0717, p=0.3056
2026-02-16 23:54:54.839 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=-0.0725, p=0.3001
2026-02-16 23:54:54.844 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=-0.0644, p=0.3581
2026-02-16 23:54:54.848 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0494, p=0.4831
2026-02-16 23:54:54.848 | INFO     | __main__:phase6_confound_analysis:989 -   [mimic_iv_ed_demo] Phase 6 done in 0.1s
2026-02-16 23:54:54.848 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mimic_iv_ed_demo] Baseline: Single-space kNN anomaly detection
2026-02-16 23:54:54.872 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.4766±0.0775
2026-02-16 23:54:54.901 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.4990±0.0439
2026-02-16 23:54:54.910 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4916±0.0305
2026-02-16 23:54:54.918 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5225±0.0718
2026-02-16 23:54:54.918 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mimic_iv_ed_demo] Baseline done in 0.1s
2026-02-16 23:54:55.183 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:54:55.184 | INFO     | __main__:main:1094 - Processing dataset: clinical_patient_triage_nl
2026-02-16 23:54:55.184 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:54:55.184 | INFO     | __main__:build_feature_spaces:319 -   [clinical_patient_triage_nl] Building TF-IDF features...
2026-02-16 23:54:55.187 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (31, 37)
2026-02-16 23:54:55.187 | INFO     | __main__:build_feature_spaces:335 -   [clinical_patient_triage_nl] Building sentence transformer embeddings...
2026-02-16 23:54:55.697 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (31, 384)
2026-02-16 23:54:55.697 | INFO     | __main__:build_feature_spaces:363 -   [clinical_patient_triage_nl] Building simulated LLM features...
2026-02-16 23:54:55.699 | INFO     | __main__:_try_openrouter_features:457 -   [clinical_patient_triage_nl] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:54:56.876 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 0 failed, keeping simulated
2026-02-16 23:54:59.028 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 1 failed, keeping simulated
2026-02-16 23:55:01.329 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 2 failed, keeping simulated
2026-02-16 23:55:09.939 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 6 failed, keeping simulated
2026-02-16 23:55:11.360 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 7 failed, keeping simulated
2026-02-16 23:55:12.789 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 8 failed, keeping simulated
2026-02-16 23:55:15.405 | DEBUG    | __main__:_try_openrouter_features:485 -   [clinical_patient_triage_nl] LLM call 9 failed, keeping simulated
2026-02-16 23:55:15.405 | INFO     | __main__:_try_openrouter_features:488 -   [clinical_patient_triage_nl] LLM: 3/10 successful, total cost: $0.0005, calls: 30
2026-02-16 23:55:15.406 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (31, 6)
2026-02-16 23:55:15.406 | INFO     | __main__:build_feature_spaces:404 -   [clinical_patient_triage_nl] Feature construction done in 20.2s
2026-02-16 23:55:15.407 | INFO     | __main__:phase2_k_sensitivity:506 -   [clinical_patient_triage_nl] Phase 2: k sensitivity analysis
2026-02-16 23:55:15.560 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.6595±0.1575, CRND=0.8333±0.1039
2026-02-16 23:55:15.699 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5845±0.1185, CRND=0.7287±0.0791
2026-02-16 23:55:15.976 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.4536±0.1330, CRND=0.6214±0.0609
2026-02-16 23:55:16.228 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.4321±0.1099, CRND=0.4745±0.0491
2026-02-16 23:55:16.529 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.4845±0.1476, CRND=0.0069±0.0158
2026-02-16 23:55:16.534 | INFO     | __main__:phase2_k_sensitivity:512 -     k=50 >= N=31, skipping
2026-02-16 23:55:16.534 | INFO     | __main__:phase2_k_sensitivity:538 -   [clinical_patient_triage_nl] Phase 2 done in 1.1s
2026-02-16 23:55:16.537 | INFO     | __main__:phase3_pca_dimensionality:591 -   [clinical_patient_triage_nl] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:55:16.537 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:55:18.037 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.280, mean_D=0.145
2026-02-16 23:55:18.657 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.358, mean_D=0.267
2026-02-16 23:55:21.903 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.498, mean_D=0.268
2026-02-16 23:55:25.009 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.752, mean_D=0.432
2026-02-16 23:55:29.569 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.981, mean_D=0.377
2026-02-16 23:55:29.571 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:55:30.990 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.172, mean_D=0.362
2026-02-16 23:55:31.441 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.236, mean_D=0.692
2026-02-16 23:55:34.830 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.350, mean_D=0.545
2026-02-16 23:55:36.832 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.575, mean_D=0.503
2026-02-16 23:55:38.869 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.860, mean_D=0.434
2026-02-16 23:55:38.871 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:55:39.081 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.732, mean_D=0.115
2026-02-16 23:55:39.319 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.904, mean_D=0.097
2026-02-16 23:55:40.103 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=1.000, mean_D=0.140
2026-02-16 23:55:40.105 | INFO     | __main__:phase3_pca_dimensionality:691 -   [clinical_patient_triage_nl] Phase 3 done in 23.6s
2026-02-16 23:55:40.105 | INFO     | __main__:phase4_distance_metrics:706 -   [clinical_patient_triage_nl] Phase 4: Distance metric ablation
2026-02-16 23:55:40.106 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:55:40.221 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5845±0.1185
2026-02-16 23:55:40.222 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:55:40.234 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5488±0.1351
2026-02-16 23:55:40.235 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:55:40.268 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5155±0.0793
2026-02-16 23:55:40.268 | INFO     | __main__:phase4_distance_metrics:738 -   [clinical_patient_triage_nl] Phase 4 done in 0.2s
2026-02-16 23:55:40.268 | INFO     | __main__:main:1171 -   [clinical_patient_triage_nl] Optimal k=5 (AUC=0.6595)
2026-02-16 23:55:40.268 | INFO     | __main__:phase5_alternative_formulations:754 -   [clinical_patient_triage_nl] Phase 5: Alternative CRND formulations (k=5)
2026-02-16 23:55:40.331 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.6595, RBO AUC=0.5702, WJ AUC=0.6417
2026-02-16 23:55:40.340 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5452
2026-02-16 23:55:40.348 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.6560
2026-02-16 23:55:40.356 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5595
2026-02-16 23:55:40.356 | INFO     | __main__:phase5_alternative_formulations:810 -   [clinical_patient_triage_nl] Phase 5 done in 0.1s
2026-02-16 23:55:40.356 | INFO     | __main__:phase6_confound_analysis:829 -   [clinical_patient_triage_nl] Phase 6: Confound disentanglement
2026-02-16 23:55:40.463 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.1166, p=0.5321
2026-02-16 23:55:40.470 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0601, p=0.7525
2026-02-16 23:55:40.476 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.1168, p=0.5388
2026-02-16 23:55:40.480 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0954, p=0.6162
2026-02-16 23:55:40.483 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=-0.0461, p=0.8158
2026-02-16 23:55:40.483 | INFO     | __main__:phase6_confound_analysis:989 -   [clinical_patient_triage_nl] Phase 6 done in 0.1s
2026-02-16 23:55:40.484 | INFO     | __main__:baseline_single_space_crnd:1009 -   [clinical_patient_triage_nl] Baseline: Single-space kNN anomaly detection
2026-02-16 23:55:40.511 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5179±0.0818
2026-02-16 23:55:40.537 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.6905±0.1448
2026-02-16 23:55:40.545 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.3548±0.1280
2026-02-16 23:55:40.553 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.4857±0.1744
2026-02-16 23:55:40.554 | INFO     | __main__:baseline_single_space_crnd:1043 -   [clinical_patient_triage_nl] Baseline done in 0.1s
2026-02-16 23:55:40.805 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:55:40.805 | INFO     | __main__:main:1094 - Processing dataset: ohsumed_single
2026-02-16 23:55:40.805 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:55:40.805 | INFO     | __main__:build_feature_spaces:319 -   [ohsumed_single] Building TF-IDF features...
2026-02-16 23:55:41.293 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (1000, 5000)
2026-02-16 23:55:41.294 | INFO     | __main__:build_feature_spaces:335 -   [ohsumed_single] Building sentence transformer embeddings...
2026-02-16 23:56:21.474 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (1000, 384)
2026-02-16 23:56:21.474 | INFO     | __main__:build_feature_spaces:363 -   [ohsumed_single] Building simulated LLM features...
2026-02-16 23:56:21.584 | INFO     | __main__:_try_openrouter_features:457 -   [ohsumed_single] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:56:35.057 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 2 failed, keeping simulated
2026-02-16 23:56:58.204 | DEBUG    | __main__:_try_openrouter_features:485 -   [ohsumed_single] LLM call 9 failed, keeping simulated
2026-02-16 23:56:58.204 | INFO     | __main__:_try_openrouter_features:488 -   [ohsumed_single] LLM: 8/10 successful, total cost: $0.0008, calls: 40
2026-02-16 23:56:58.204 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (1000, 9)
2026-02-16 23:56:58.205 | INFO     | __main__:build_feature_spaces:404 -   [ohsumed_single] Feature construction done in 77.4s
2026-02-16 23:56:58.205 | INFO     | __main__:phase2_k_sensitivity:506 -   [ohsumed_single] Phase 2: k sensitivity analysis
2026-02-16 23:56:58.575 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5359±0.0295, CRND=0.8792±0.1056
2026-02-16 23:56:58.995 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.5303±0.0306, CRND=0.8761±0.0827
2026-02-16 23:56:59.600 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5346±0.0312, CRND=0.8682±0.0787
2026-02-16 23:57:00.132 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5410±0.0320, CRND=0.8638±0.0774
2026-02-16 23:57:00.581 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5284±0.0244, CRND=0.8546±0.0744
2026-02-16 23:57:01.120 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5185±0.0153, CRND=0.8363±0.0712
2026-02-16 23:57:01.120 | INFO     | __main__:phase2_k_sensitivity:538 -   [ohsumed_single] Phase 2 done in 2.9s
2026-02-16 23:57:01.120 | INFO     | __main__:phase3_pca_dimensionality:591 -   [ohsumed_single] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:57:01.120 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:57:09.040 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.016, mean_D=0.545
2026-02-16 23:57:29.154 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.022, mean_D=0.482
2026-02-16 23:57:41.334 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.033, mean_D=0.592
2026-02-16 23:57:53.286 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.054, mean_D=0.606
2026-02-16 23:58:04.581 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.088, mean_D=0.625
2026-02-16 23:58:04.584 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-16 23:58:08.166 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.106, mean_D=0.436
2026-02-16 23:58:17.463 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.141, mean_D=0.295
2026-02-16 23:58:22.721 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.200, mean_D=0.479
2026-02-16 23:58:29.001 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.305, mean_D=0.473
2026-02-16 23:58:35.619 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.432, mean_D=0.541
2026-02-16 23:58:35.621 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-16 23:58:37.089 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.706, mean_D=0.239
2026-02-16 23:58:48.391 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.772, mean_D=0.126
2026-02-16 23:58:55.319 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.882, mean_D=0.167
2026-02-16 23:58:55.320 | INFO     | __main__:phase3_pca_dimensionality:691 -   [ohsumed_single] Phase 3 done in 114.2s
2026-02-16 23:58:55.320 | INFO     | __main__:phase4_distance_metrics:706 -   [ohsumed_single] Phase 4: Distance metric ablation
2026-02-16 23:58:55.321 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-16 23:58:55.884 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5303±0.0306
2026-02-16 23:58:55.885 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-16 23:58:56.521 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5300±0.0305
2026-02-16 23:58:56.521 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-16 23:58:59.671 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5183±0.0221
2026-02-16 23:58:59.672 | INFO     | __main__:phase4_distance_metrics:738 -   [ohsumed_single] Phase 4 done in 4.4s
2026-02-16 23:58:59.672 | INFO     | __main__:main:1171 -   [ohsumed_single] Optimal k=20 (AUC=0.5410)
2026-02-16 23:58:59.672 | INFO     | __main__:phase5_alternative_formulations:754 -   [ohsumed_single] Phase 5: Alternative CRND formulations (k=20)
2026-02-16 23:59:00.371 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5410, RBO AUC=0.5311, WJ AUC=0.5352
2026-02-16 23:59:00.398 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5307
2026-02-16 23:59:00.407 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5408
2026-02-16 23:59:00.417 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5335
2026-02-16 23:59:00.417 | INFO     | __main__:phase5_alternative_formulations:810 -   [ohsumed_single] Phase 5 done in 0.7s
2026-02-16 23:59:00.417 | INFO     | __main__:phase6_confound_analysis:829 -   [ohsumed_single] Phase 6: Confound disentanglement
2026-02-16 23:59:01.685 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0313, p=0.3233
2026-02-16 23:59:01.690 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0198, p=0.5320
2026-02-16 23:59:01.694 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0310, p=0.3270
2026-02-16 23:59:01.698 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0312, p=0.3249
2026-02-16 23:59:01.702 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0204, p=0.5206
2026-02-16 23:59:01.703 | INFO     | __main__:phase6_confound_analysis:989 -   [ohsumed_single] Phase 6 done in 1.3s
2026-02-16 23:59:01.703 | INFO     | __main__:baseline_single_space_crnd:1009 -   [ohsumed_single] Baseline: Single-space kNN anomaly detection
2026-02-16 23:59:02.017 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5231±0.0147
2026-02-16 23:59:02.116 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5214±0.0253
2026-02-16 23:59:02.146 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4895±0.0152
2026-02-16 23:59:02.162 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5018±0.0172
2026-02-16 23:59:02.163 | INFO     | __main__:baseline_single_space_crnd:1043 -   [ohsumed_single] Baseline done in 0.5s
2026-02-16 23:59:04.729 | INFO     | __main__:main:1093 - ============================================================
2026-02-16 23:59:04.729 | INFO     | __main__:main:1094 - Processing dataset: mental_health_conditions
2026-02-16 23:59:04.729 | INFO     | __main__:main:1095 - ============================================================
2026-02-16 23:59:04.729 | INFO     | __main__:build_feature_spaces:319 -   [mental_health_conditions] Building TF-IDF features...
2026-02-16 23:59:04.919 | INFO     | __main__:build_feature_spaces:332 -     TF-IDF shape: (1000, 5000)
2026-02-16 23:59:04.919 | INFO     | __main__:build_feature_spaces:335 -   [mental_health_conditions] Building sentence transformer embeddings...
2026-02-16 23:59:30.805 | INFO     | __main__:build_feature_spaces:350 -     SentenceTransformer shape: (1000, 384)
2026-02-16 23:59:30.805 | INFO     | __main__:build_feature_spaces:363 -   [mental_health_conditions] Building simulated LLM features...
2026-02-16 23:59:30.894 | INFO     | __main__:_try_openrouter_features:457 -   [mental_health_conditions] Attempting 10 OpenRouter LLM calls...
2026-02-16 23:59:34.049 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 0 failed, keeping simulated
2026-02-16 23:59:37.000 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 2 failed, keeping simulated
2026-02-16 23:59:44.470 | DEBUG    | __main__:_try_openrouter_features:485 -   [mental_health_conditions] LLM call 6 failed, keeping simulated
2026-02-16 23:59:51.389 | INFO     | __main__:_try_openrouter_features:488 -   [mental_health_conditions] LLM: 7/10 successful, total cost: $0.0009, calls: 50
2026-02-16 23:59:51.390 | INFO     | __main__:build_feature_spaces:401 -     LLM features shape: (1000, 7)
2026-02-16 23:59:51.390 | INFO     | __main__:build_feature_spaces:404 -   [mental_health_conditions] Feature construction done in 46.7s
2026-02-16 23:59:51.391 | INFO     | __main__:phase2_k_sensitivity:506 -   [mental_health_conditions] Phase 2: k sensitivity analysis
2026-02-16 23:59:51.839 | INFO     | __main__:phase2_k_sensitivity:532 -     k=5: AUC=0.5020±0.0269, CRND=0.9749±0.0506
2026-02-16 23:59:52.246 | INFO     | __main__:phase2_k_sensitivity:532 -     k=10: AUC=0.4989±0.0340, CRND=0.9682±0.0508
2026-02-16 23:59:52.638 | INFO     | __main__:phase2_k_sensitivity:532 -     k=15: AUC=0.5145±0.0394, CRND=0.9418±0.0505
2026-02-16 23:59:53.065 | INFO     | __main__:phase2_k_sensitivity:532 -     k=20: AUC=0.5175±0.0369, CRND=0.9179±0.0638
2026-02-16 23:59:53.498 | INFO     | __main__:phase2_k_sensitivity:532 -     k=30: AUC=0.5204±0.0255, CRND=0.8831±0.0864
2026-02-16 23:59:54.012 | INFO     | __main__:phase2_k_sensitivity:532 -     k=50: AUC=0.5220±0.0210, CRND=0.8314±0.1209
2026-02-16 23:59:54.013 | INFO     | __main__:phase2_k_sensitivity:538 -   [mental_health_conditions] Phase 2 done in 2.6s
2026-02-16 23:59:54.013 | INFO     | __main__:phase3_pca_dimensionality:591 -   [mental_health_conditions] Phase 3: PCA dimensionality for Schoener's D
2026-02-16 23:59:54.013 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: tfidf
2026-02-16 23:59:57.708 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.028, mean_D=0.247
2026-02-17 00:00:10.405 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.038, mean_D=0.172
2026-02-17 00:00:15.013 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.054, mean_D=0.247
2026-02-17 00:00:18.122 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.082, mean_D=0.321
2026-02-17 00:00:20.648 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.123, mean_D=0.464
2026-02-17 00:00:20.652 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: sentence_transformer
2026-02-17 00:00:22.772 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.163, mean_D=0.296
2026-02-17 00:00:29.881 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.207, mean_D=0.204
2026-02-17 00:00:32.544 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.277, mean_D=0.342
2026-02-17 00:00:34.954 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=10: explained_var=0.371, mean_D=0.414
2026-02-17 00:00:37.502 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=20: explained_var=0.482, mean_D=0.528
2026-02-17 00:00:37.506 | INFO     | __main__:phase3_pca_dimensionality:600 -     Space: llm_zeroshot
2026-02-17 00:00:38.945 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=2: explained_var=0.549, mean_D=0.187
2026-02-17 00:00:48.596 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=3: explained_var=0.738, mean_D=0.112
2026-02-17 00:00:51.241 | INFO     | __main__:phase3_pca_dimensionality:664 -       d=5: explained_var=0.986, mean_D=0.158
2026-02-17 00:00:51.243 | INFO     | __main__:phase3_pca_dimensionality:691 -   [mental_health_conditions] Phase 3 done in 57.2s
2026-02-17 00:00:51.243 | INFO     | __main__:phase4_distance_metrics:706 -   [mental_health_conditions] Phase 4: Distance metric ablation
2026-02-17 00:00:51.244 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: euclidean
2026-02-17 00:00:51.580 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.4989±0.0340
2026-02-17 00:00:51.580 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: cosine
2026-02-17 00:00:52.072 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5164±0.0242
2026-02-17 00:00:52.072 | INFO     | __main__:phase4_distance_metrics:714 -     Metric: manhattan
2026-02-17 00:00:54.278 | INFO     | __main__:phase4_distance_metrics:735 -       AUC=0.5160±0.0319
2026-02-17 00:00:54.278 | INFO     | __main__:phase4_distance_metrics:738 -   [mental_health_conditions] Phase 4 done in 3.0s
2026-02-17 00:00:54.279 | INFO     | __main__:main:1171 -   [mental_health_conditions] Optimal k=50 (AUC=0.5220)
2026-02-17 00:00:54.279 | INFO     | __main__:phase5_alternative_formulations:754 -   [mental_health_conditions] Phase 5: Alternative CRND formulations (k=50)
2026-02-17 00:00:55.185 | INFO     | __main__:phase5_alternative_formulations:786 -     Jaccard AUC=0.5220, RBO AUC=0.5073, WJ AUC=0.5220
2026-02-17 00:00:55.233 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_sentence_transformer: AUC=0.5248
2026-02-17 00:00:55.243 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise tfidf_vs_llm_zeroshot: AUC=0.5160
2026-02-17 00:00:55.254 | INFO     | __main__:phase5_alternative_formulations:798 -     Pairwise sentence_transformer_vs_llm_zeroshot: AUC=0.5215
2026-02-17 00:00:55.254 | INFO     | __main__:phase5_alternative_formulations:810 -   [mental_health_conditions] Phase 5 done in 1.0s
2026-02-17 00:00:55.254 | INFO     | __main__:phase6_confound_analysis:829 -   [mental_health_conditions] Phase 6: Confound disentanglement
2026-02-17 00:00:55.968 | INFO     | __main__:phase6_confound_analysis:902 -     Raw Spearman: rho=0.0248, p=0.4329
2026-02-17 00:00:55.972 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (outlier): rho=0.0050, p=0.8741
2026-02-17 00:00:55.975 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (boundary): rho=0.0215, p=0.4977
2026-02-17 00:00:55.978 | INFO     | __main__:phase6_confound_analysis:930 -     Partial (vocab_rarity): rho=0.0336, p=0.2886
2026-02-17 00:00:55.981 | INFO     | __main__:phase6_confound_analysis:951 -     Partial (all): rho=0.0024, p=0.9405
2026-02-17 00:00:55.981 | INFO     | __main__:phase6_confound_analysis:989 -   [mental_health_conditions] Phase 6 done in 0.7s
2026-02-17 00:00:55.981 | INFO     | __main__:baseline_single_space_crnd:1009 -   [mental_health_conditions] Baseline: Single-space kNN anomaly detection
2026-02-17 00:00:56.194 | INFO     | __main__:baseline_single_space_crnd:1030 -     tfidf kNN anomaly AUC=0.5099±0.0211
2026-02-17 00:00:56.266 | INFO     | __main__:baseline_single_space_crnd:1030 -     sentence_transformer kNN anomaly AUC=0.5127±0.0153
2026-02-17 00:00:56.294 | INFO     | __main__:baseline_single_space_crnd:1030 -     llm_zeroshot kNN anomaly AUC=0.4789±0.0142
2026-02-17 00:00:56.305 | INFO     | __main__:baseline_single_space_crnd:1040 -     Random baseline AUC=0.5018±0.0172
2026-02-17 00:00:56.305 | INFO     | __main__:baseline_single_space_crnd:1043 -   [mental_health_conditions] Baseline done in 0.3s
2026-02-17 00:00:58.438 | INFO     | __main__:main:1351 - Writing output to /home/adrian/projects/ai-inventor/aii_pipeline/runs/run__20260216_170044/3_invention_loop/iter_3/gen_art/exp_id3_it3__opus/method_out.json
2026-02-17 00:00:58.629 | INFO     | __main__:main:1354 - Output: 6.4 MB
2026-02-17 00:00:58.629 | INFO     | __main__:main:1357 - ======================================================================
2026-02-17 00:00:58.629 | INFO     | __main__:main:1358 - SUMMARY
2026-02-17 00:00:58.629 | INFO     | __main__:main:1359 - ======================================================================
2026-02-17 00:00:58.629 | INFO     | __main__:main:1360 - Total runtime: 526.0s
2026-02-17 00:00:58.629 | INFO     | __main__:main:1361 - Optimal k: 5 (mean AUC=0.5422)
2026-02-17 00:00:58.629 | INFO     | __main__:main:1362 - PCA stability threshold: d=2
2026-02-17 00:00:58.629 | INFO     | __main__:main:1363 - Best formulation: jaccard (mean AUC=0.5485)
2026-02-17 00:00:58.630 | INFO     | __main__:main:1364 - Most informative pair: tfidf_vs_llm_zeroshot (mean AUC=0.5459)
2026-02-17 00:00:58.630 | INFO     | __main__:main:1365 - LLM calls: 50, cost: $0.0009
2026-02-17 00:00:58.630 | INFO     | __main__:main:1368 -   medical_abstracts: 108.3s total
2026-02-17 00:00:58.630 | INFO     | __main__:main:1368 -   mimic_iv_ed_demo: 51.4s total
2026-02-17 00:00:58.630 | INFO     | __main__:main:1368 -   clinical_patient_triage_nl: 45.4s total
2026-02-17 00:00:58.630 | INFO     | __main__:main:1368 -   ohsumed_single: 201.4s total
2026-02-17 00:00:58.630 | INFO     | __main__:main:1368 -   mental_health_conditions: 111.6s total
2026-02-17 00:00:58.630 | INFO     | __main__:main:1369 - Done!
